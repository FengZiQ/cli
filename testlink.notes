
Expect: Missing parameter

migrate -a
Error (0x403): Missing parameter
-a: missing value

administrator@cli> 

Expect: Missing parameter

migrate -a start
Error (0x403): Missing parameter
-i source volumd ID is missed

administrator@cli> 

Expect: Missing parameter

migrate -a start -t
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Expect: Missing parameter

migrate -a start -t local
Error (0x403): Missing parameter
-i source volumd ID is missed

administrator@cli> 

Expect: Missing parameter

migrate -a start -t local -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 

Expect: Missing parameter

migrate -a start -t local -i 0 -p 2 -s
Error (0x403): Missing parameter
-s: missing value

administrator@cli> 

Expect: Missing parameter

migrate -a stop
Error (0x403): Missing parameter
-i source volumd ID is missed

administrator@cli> 

Expect: Missing parameter

migrate -a stop -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 
'result': 'p'

Expect: spare 0 sc should be started

sc -a start -i 0

administrator@cli> 

Expect: spare 1 sc should be started

sc -a start -i 1

administrator@cli> 
'result': 'p'

Expect: all of sc should be listed

sc
===============================================================================
SpareId                     PdId                    Status                     
===============================================================================
0                           8                       Healthy                    
1                           9                       Healthy                    

administrator@cli> 

Expect: specific sc should be listed

sc -i 0
===============================================================================
SpareId                     PdId                    Status                     
===============================================================================
0                           8                       Healthy                    

administrator@cli> 
'result': 'p'

Expect: Invalid setting parameters

sc test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid setting parameters

sc -i test
Error (0x2013): Invalid setting parameters
-i: invalid setting test

administrator@cli> 

Expect: Invalid setting parameters

sc -a test
Error (0x2013): Invalid setting parameters
-a: invalid setting test (list|start)

administrator@cli> 

Expect: Invalid setting parameters

sc -a start test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid setting parameters

sc -a start -i test
Error (0x2013): Invalid setting parameters
-i: invalid setting test

administrator@cli> 
'result': 'p'

Expect: Invalid option for the command or the action

sc -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

sc -a -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

sc -a start -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 
'result': 'p'

Expect: Invalid option for the command or the action

sc -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

sc -a -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

sc -a start -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 
'result': 'p'

Expect: allowip should be set by "ip=1.0.0.0, permission=ro, squash=root"

allowip -a add -t nasshare -d 0 -s "ip=1.0.0.0, permission=ro, squash=root"

administrator@cli> 
allowip -t nasshare -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         1.0.0.0                                 RO          root_squash      

administrator@cli> 

Expect: allowip should be set by "ip=126.255.255.254, permission=rw, squash=all"

allowip -a add -t nasshare -d 0 -s "ip=126.255.255.254, permission=rw, squash=all"

administrator@cli> 
allowip -t nasshare -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         1.0.0.0                                 RO          root_squash      
1         126.255.255.254                         RW          all_squash       

administrator@cli> 

Fail: please check out rw


Expect: allowip should be set by "ip=128.0.0.0, permission=ro, squash=root"

allowip -a add -t snapshot -d 0 -s "ip=128.0.0.0, permission=ro, squash=root"

administrator@cli> 
allowip -t snapshot -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         128.0.0.0                               RO          root_squash      

administrator@cli> 

Expect: allowip should be set by "ip=191.255.255.254, permission=rw, squash=noroot"

allowip -a add -t snapshot -d 0 -s "ip=191.255.255.254, permission=ro, squash=noroot"

administrator@cli> 
allowip -t snapshot -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         128.0.0.0                               RO          root_squash      
1         191.255.255.254                         RO          no_root_squash   

administrator@cli> 

Expect: allowip should be set by "ip=192.0.0.0, permission=ro, squash=all"

allowip -a add -t clone -d 0 -s "ip=192.0.0.0, permission=ro, squash=all"

administrator@cli> 
allowip -t clone -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         192.0.0.0                               RO          all_squash       

administrator@cli> 

Fail: please check out ro


Expect: allowip should be set by "ip=223.255.255.254, permission=rw, squash=root"

allowip -a add -t clone -d 0 -s "ip=223.255.255.254, permission=rw, squash=root"

administrator@cli> 
allowip -t clone -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         192.0.0.0                               RO          all_squash       
1         223.255.255.254                         RW          root_squash      

administrator@cli> 

Fail: please check out rw

'result': 'f'

Expect: Missing parameter

allowip -t
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Expect: Missing parameter

allowip -a
Error (0x403): Missing parameter
-a: missing value

administrator@cli> 

Expect: Missing parameter

allowip -a add -t
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Expect: Missing parameter

allowip -a add -t nasshare -d 
Error (0x403): Missing parameter
-d: missing value

administrator@cli> 

Expect: Missing parameter

allowip -a add -t nasshare -d 0 -s 
Error (0x403): Missing parameter
-s: missing value

administrator@cli> 

Expect: Missing parameter

allowip -a add -t nasshare -d 0 -s "permission=ro,squash=root"
Error (0x403): Missing parameter
missing parameter 'ip' for '-a add'

administrator@cli> 

Expect: Missing parameter

allowip -a add -t nasshare -d 0 -s "ip=0.0.0.0,permission=ro"
Error (0x403): Missing parameter
missing parameter 'squash' for '-a add'

administrator@cli> 

Expect: Missing parameter

allowip -a add -t nasshare -d 0 -s "ip=255.255.255.255,squash=root"
Error (0x403): Missing parameter
missing parameter 'permission' for '-a add'

administrator@cli> 

Expect: Missing parameter

allowip -a mod
Error (0x403): Missing parameter
missing parameter '-t' for '-a mod'

administrator@cli> 

Expect: Missing parameter

allowip -a mod -t nasshare -d
Error (0x403): Missing parameter
-d: missing value

administrator@cli> 

Expect: Missing parameter

allowip -a mod -t nasshare -d 0 -s
Error (0x403): Missing parameter
-s: missing value

administrator@cli> 

Expect: Missing parameter

allowip -a del
Error (0x403): Missing parameter
missing parameter '-t' for '-a del'

administrator@cli> 

Expect: Missing parameter

allowip -a del -t
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Expect: Missing parameter

allowip -a del -t nasshare -d
Error (0x403): Missing parameter
-d: missing value

administrator@cli> 

Expect: Missing parameter

allowip -a del -t nasshare -d 0 -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 
'result': 'p'

Expect: allowip should be set by "ip=1.0.0.0, permission=ro, squash=root"

allowip -a add -t nasshare -d 0 -s "ip=1.0.0.0, permission=ro, squash=root"

administrator@cli> 
allowip -t nasshare -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         1.0.0.0                                 RO          root_squash      

administrator@cli> 

Expect: allowip should be set by "ip=126.255.255.254, permission=rw, squash=all"

allowip -a add -t nasshare -d 0 -s "ip=126.255.255.254, permission=rw, squash=all"

administrator@cli> 
allowip -t nasshare -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         1.0.0.0                                 RO          root_squash      
1         126.255.255.254                         RW          all_squash       

administrator@cli> 

Expect: allowip should be set by "ip=128.0.0.0, permission=ro, squash=root"

allowip -a add -t snapshot -d 0 -s "ip=128.0.0.0, permission=ro, squash=root"

administrator@cli> 
allowip -t snapshot -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         128.0.0.0                               RO          root_squash      

administrator@cli> 

Expect: allowip should be set by "ip=191.255.255.254, permission=rw, squash=noroot"

allowip -a add -t snapshot -d 0 -s "ip=191.255.255.254, permission=ro, squash=noroot"

administrator@cli> 
allowip -t snapshot -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         128.0.0.0                               RO          root_squash      
1         191.255.255.254                         RO          no_root_squash   

administrator@cli> 

Expect: allowip should be set by "ip=192.0.0.0, permission=ro, squash=all"

allowip -a add -t clone -d 0 -s "ip=192.0.0.0, permission=ro, squash=all"

administrator@cli> 
allowip -t clone -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         192.0.0.0                               RO          all_squash       

administrator@cli> 

Expect: allowip should be set by "ip=223.255.255.254, permission=rw, squash=root"

allowip -a add -t clone -d 0 -s "ip=223.255.255.254, permission=rw, squash=root"

administrator@cli> 
allowip -t clone -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         192.0.0.0                               RO          all_squash       
1         223.255.255.254                         RW          root_squash      

administrator@cli> 
'result': 'p'

Expect: Missing parameter

allowip -t
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Expect: Missing parameter

allowip -a
Error (0x403): Missing parameter
-a: missing value

administrator@cli> 

Expect: Missing parameter

allowip -a add -t
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Expect: Missing parameter

allowip -a add -t nasshare -d 
Error (0x403): Missing parameter
-d: missing value

administrator@cli> 

Expect: Missing parameter

allowip -a add -t nasshare -d 0 -s 
Error (0x403): Missing parameter
-s: missing value

administrator@cli> 

Expect: Missing parameter

allowip -a add -t nasshare -d 0 -s "permission=ro,squash=root"
Error (0x403): Missing parameter
missing parameter 'ip' for '-a add'

administrator@cli> 

Expect: Missing parameter

allowip -a add -t nasshare -d 0 -s "ip=0.0.0.0,permission=ro"
Error (0x403): Missing parameter
missing parameter 'squash' for '-a add'

administrator@cli> 

Expect: Missing parameter

allowip -a add -t nasshare -d 0 -s "ip=255.255.255.255,squash=root"
Error (0x403): Missing parameter
missing parameter 'permission' for '-a add'

administrator@cli> 

Expect: Missing parameter

allowip -a mod
Error (0x403): Missing parameter
missing parameter '-t' for '-a mod'

administrator@cli> 

Expect: Missing parameter

allowip -a mod -t nasshare -d
Error (0x403): Missing parameter
-d: missing value

administrator@cli> 

Expect: Missing parameter

allowip -a mod -t nasshare -d 0 -s
Error (0x403): Missing parameter
-s: missing value

administrator@cli> 

Expect: Missing parameter

allowip -a del
Error (0x403): Missing parameter
missing parameter '-t' for '-a del'

administrator@cli> 

Expect: Missing parameter

allowip -a del -t
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Expect: Missing parameter

allowip -a del -t nasshare -d
Error (0x403): Missing parameter
-d: missing value

administrator@cli> 

Expect: Missing parameter

allowip -a del -t nasshare -d 0 -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 
'result': 'p'

Expect: replication should be started by "name=T, syncmode=async"

replication -a start -i 2 -p 1 -s "name=T, syncmode=async"

administrator@cli> 
volume -i 6 -v
-------------------------------------------------------------------------------
Id: 6                                   Name: T
PoolId: 1                               PoolName: T_replication_1
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 4 GB                     UsedCapacity: 4 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-02 09:46:02
PreferCtrlId: 2                         AdvType: Replication
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Async
AdvStatus: Warning                      AdvProgress: 0.0

administrator@cli> 

Fail: please check out AdvStatus: Syncing


Expect: replication should be started by "name=t2, syncmode=semi-sync"

replication -a start -i 3 -p 1 -s "name=t2, syncmode=semi-sync"

administrator@cli> 
volume -i 7 -v
-------------------------------------------------------------------------------
Id: 7                                   Name: t2
PoolId: 1                               PoolName: T_replication_1
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 4 GB                     UsedCapacity: 4 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-02 09:46:06
PreferCtrlId: 2                         AdvType: Replication
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Semi-Sync
AdvStatus: Syncing                      AdvProgress: 0.3

administrator@cli> 

Expect: replication should be started by "name=test_Test_Test_Test_Test_Test31, syncmode=sync"

replication -a start -i 4 -p 0 -s "name=test_Test_Test_Test_Test_Test31, syncmode=sync"

administrator@cli> 
volume -i 8 -v
-------------------------------------------------------------------------------
Id: 8                                   Name: test_Test_Test_Test_Test_Test31
PoolId: 0                               PoolName: T_replication_0
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
PoolAvailableCapacity: 107.22 GB        UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-02 09:46:10
PreferCtrlId: 2                         AdvType: Replication
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Syncing                      AdvProgress: 5.1

administrator@cli> 

Expect: replication should be started by "name=test_Test_Test_Test_Test_Test_32"

replication -a start -i 5 -p 0 -s "name=test_Test_Test_Test_Test_Test_32"

administrator@cli> 
volume -i 5 -v
-------------------------------------------------------------------------------
Id: 5                                   Name: T_replication_vol_5
PoolId: 1                               PoolName: T_replication_1
Status: Exported                        ExportedId: 5
ExportedWWN: 225200015513a31e           OperationalStatus: OK, Synchronizing
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-02 09:46:01
PreferCtrlId: 2                         AdvType: Replication
AdvKind: Local                          AdvRole: Source
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Syncing                      AdvProgress: 7.2

administrator@cli> 
'result': 'f'

Expect: Max 4 pairs of replication

replication -a start -i 0 -p 0 -s "name=firth_replica"
Error (0x4100104): Incorrect parameters: Support maximum 4 local replication!

administrator@cli> 

Expect: destination volume should not be exported

volume -a export -i 6
Error (0x4100104): Incorrect parameters: Destination volume of replication in Active_Passive mode cannot be exported.

administrator@cli> 

Expect: destination volume should not be expanded

volume -a mod -i 6 -s "capacity=6GB"
Error (0x4100104): Incorrect parameters: Volume is replication or migration Volume.

administrator@cli> 

Expect: destination volume should not be modified

volume -a mod -i 6 -s "name=no_way"
Error (0x4100104): Incorrect parameters: Volume is replication or migration Volume.

administrator@cli> 

Expect: destination volume should not create snapshot

snapshot -a add -t volume -d 6 -s "name=test_replica"
Error (0x4100104): Incorrect parameters: Destination volume of replication or migration cannot create snapshot.

administrator@cli> 

Expect: destination volume should not be added for lunmap

lunmap -a add -p volume -i 0 -l 6 -m 2
Error (0x402): Invalid parameter
The volume/snapshot/clone is un-exported

administrator@cli> 

Expect: destination volume should not be deleted

volume -a del -i 6
Error (0x4100104): Incorrect parameters: Volume is replication or migration Volume.

administrator@cli> 

Expect: source volume should not be expanded

volume -a mod -i 2 -s "capacity=5GB"
Error (0x4100104): Incorrect parameters: Volume is replication or migration Volume.

administrator@cli> 

Expect: source volume should not be deleted

volume -a del -i 2
Error (0x4100104): Incorrect parameters: Volume is replication or migration Volume.

administrator@cli> 

Expect: source pool should not be deleted

pool -a del -i 1 -f -y
Error (0x4100104): Incorrect parameters: There are replication or migration Volume in the Pool.

administrator@cli> 

Expect: destination pool should not be deleted

pool -a del -i 0 -f -y
Error (0x4100104): Incorrect parameters: There are replication or migration Volume in the Pool.

administrator@cli> 
'result': 'p'

Expect: Max 4 pairs of replication

replication -a start -i 0 -p 0 -s "name=firth_replica"
Error (0x4100104): Incorrect parameters: Support maximum 4 local replication!

administrator@cli> 

Expect: destination volume should not be exported

volume -a export -i 6
Error (0x4100104): Incorrect parameters: Destination volume of replication in Active_Passive mode cannot be exported.

administrator@cli> 

Expect: destination volume should not be expanded

volume -a mod -i 6 -s "capacity=6GB"
Error (0x4100104): Incorrect parameters: Volume is replication or migration Volume.

administrator@cli> 

Expect: destination volume should not be modified

volume -a mod -i 6 -s "name=no_way"
Error (0x4100104): Incorrect parameters: Volume is replication or migration Volume.

administrator@cli> 

Expect: destination volume should not create snapshot

snapshot -a add -t volume -d 6 -s "name=test_replica"
Error (0x4100104): Incorrect parameters: Destination volume of replication or migration cannot create snapshot.

administrator@cli> 

Expect: destination volume should not be added for lunmap

lunmap -a add -p volume -i 0 -l 6 -m 2
Error (0x402): Invalid parameter
The volume/snapshot/clone is un-exported

administrator@cli> 

Expect: destination volume should not be deleted

volume -a del -i 6
Error (0x4100104): Incorrect parameters: Volume is replication or migration Volume.

administrator@cli> 

Expect: source volume should not be expanded

volume -a mod -i 2 -s "capacity=5GB"
Error (0x4100104): Incorrect parameters: Volume is replication or migration Volume.

administrator@cli> 

Expect: source volume should not be deleted

volume -a del -i 2
Error (0x4100104): Incorrect parameters: Volume is replication or migration Volume.

administrator@cli> 

Expect: source pool should not be deleted

pool -a del -i 1 -f -y
Error (0x4100104): Incorrect parameters: There are replication or migration Volume in the Pool.

administrator@cli> 

Expect: destination pool should not be deleted

pool -a del -i 0 -f -y
Error (0x4100104): Incorrect parameters: There are replication or migration Volume in the Pool.

administrator@cli> 
'result': 'p'

Expect: all of replication should be listed by verbose mode

replication -a list -v
-------------------------------------------------------------------------------
Location: Local                         Role: Destination
Mode: Active-Passive                    SyncMode: Async
Status: OK                              Description: Ready.
Progress: 100.0                         SourceVolumeId: 2
SourceVolumeName: T_replication_vol_2   SourcePoolName: T_replication_0
SourcePortalIP: 10.128.0.2              DestinationVolumeId: 6
DestinationVolumeName: T                DestinationPoolName: T_replication_1
DestinationPortalIP: 10.128.0.2         TotalCapacity: 4 GB
UsedCapacity: 4 GB
-------------------------------------------------------------------------------
Location: Local                         Role: Destination
Mode: Active-Passive                    SyncMode: Semi-Sync
Status: OK                              Description: Ready.
Progress: 100.0                         SourceVolumeId: 3
SourceVolumeName: T_replication_vol_3   SourcePoolName: T_replication_0
SourcePortalIP: 10.128.0.2              DestinationVolumeId: 7
DestinationVolumeName: t2               DestinationPoolName: T_replication_1
DestinationPortalIP: 10.128.0.2         TotalCapacity: 4 GB
UsedCapacity: 4 GB
-------------------------------------------------------------------------------
Location: Local                         Role: Source
Mode: Active-Passive                    SyncMode: Sync
Status: OK                              Description: Ready.
Progress: 100.0                         SourceVolumeId: 5
SourceVolumeName: T_replication_vol_5   SourcePoolName: T_replication_1
SourcePortalIP: 10.128.0.2              DestinationVolumeId: 9
DestinationVolumeName: test_Test_Test_Test_Test_Test_32
DestinationPoolName: T_replication_0    DestinationPortalIP: 10.128.0.2
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
-------------------------------------------------------------------------------
Location: Local                         Role: Source
Mode: Active-Passive                    SyncMode: Sync
Status: OK                              Description: Ready.
Progress: 100.0                         SourceVolumeId: 4
SourceVolumeName: T_replication_vol_4   SourcePoolName: T_replication_1
SourcePortalIP: 10.128.0.2              DestinationVolumeId: 8
DestinationVolumeName: test_Test_Test_Test_Test_Test31
DestinationPoolName: T_replication_0    DestinationPortalIP: 10.128.0.2
TotalCapacity: 1 GB                     UsedCapacity: 1 GB

administrator@cli> 
'result': 'p'

Expect: specific replication should be stopped

replication -a stop -i 2

administrator@cli> 
volume -v -i 6
-------------------------------------------------------------------------------
Id: 6                                   Name: T
PoolId: 1                               PoolName: T_replication_1
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 4 GB                     UsedCapacity: 4 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-02 09:46:02
PreferCtrlId: 2                         AdvType: 

administrator@cli> 
'result': 'p'

Expect: replication should be resumed

replication -a resume -i 3
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: replication -a resume -i 3

'result': 'f'

Expect: replication help document should be displayed

replication -h
replication

Usage:
   replication [-a <action>] [-i <ID>] [-p <pool ID>] [-s <settings>]

Summary:
   The replication command allows the user to replicate volume into another
   pool.
   Only with thin-provision disabled volume can be used to replicate. During
   replication in progress, source volume cannot be expanded or removed;
   destination volume disallowed to do any operations.

Options:

-a <action>           Which action to perform.
   list               (Default) Displays the replication status.
   start              Start a specific replication status.
   stop               Stop the replication
   pause              Pause the replication
   resume             Resume a paused replication

-i <ID>               Source volume ID.

-p <pool id>          Destination pool ID.
                      Only valid for -a add specified

-s "<option>=<value>"
                      Used to specify replication settings.
                      Only valid for -a add specified

   name=              Destination volume name

   syncmode=          sync mode method
     async
     semi-sync
     sync             (Default)

-v                    Verbose mode.  Used with -a list.

Examples:
   replication -a list
   replication -a start -i 1 -p 0 -s "name=test, syncmode=async"
   replication -a stop -i 2
   replication -a pause -i i
   replication -a resume -i 1
Type ' | grep "word1,word2,..."' at the end of each command, to display 
filtered info.

administrator@cli> 
'result': 'p'

Expect: Invalid setting parameters

replication test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid setting parameters

replication -a test
Error (0x2013): Invalid setting parameters
-a: invalid setting test (list|start|stop|pause|resume)

administrator@cli> 

Expect: destination pool capacity should be more than soure volume

replication -a start -i 0 -p 3 -s "name=test_capacity"
Error (0x4100104): Incorrect parameters: Destination Pool availiable size is not enough.

administrator@cli> 

Expect: specify nonexistent source volume

replication -a start -i 100 -p 0 -s "name=test_thin"
Error (0x4100102): Empty query result, please check input parameters. Volume id=[100] is not existed.

administrator@cli> 

Expect: specify nonexistent destination pool

replication -a start -i 0 -p 10 -s "name=test_thin"
Error (0x4100102): Empty query result, please check input parameters. Pool id=[10] is not existed.

administrator@cli> 

Expect: thin provision volume cannot become source volume

replication -a start -i 1 -p 0 -s "name=test_thin"
Error (0x4100104): Incorrect parameters: Volume is not full-provision.

administrator@cli> 

Expect: Can not replicate Volume to the same Pool

replication -a start -i 0 -p 2 -s "name=test_thin"
Error (0x4100104): Incorrect parameters: Can not replicate Volume to the same Pool.

administrator@cli> 

Expect: name contain only alphanumeric characters and underscores

replication -a start -i 0 -p 1 -s "name="
Error (0x2013): Invalid setting parameters
name contain only alphanumeric characters and underscores

administrator@cli> 

Expect: name contain only alphanumeric characters and underscores

replication -a start -i 0 -p 1 -s "name=t*&"
Error (0x2013): Invalid setting parameters
name contain only alphanumeric characters and underscores

administrator@cli> 

Expect: should hint error when name shall not exceed 32 characters

replication -a start -i 0 -p 1 -s "name=test_test_test_test_test_test_033"
Error (0x2014): Setting parameters too long
name shall not exceed 32 characters

administrator@cli> 

Expect: should hint error when specify wrong sync mode

replication -a start -i 0 -p 1 -s "name=test,syncmode=test"
Error (0x2013): Invalid setting parameters
syncmode: invalid setting test (async|semi-sync|sync)

administrator@cli> 

Expect: Invalid setting parameters

replication -a stop -i test
Error (0x2013): Invalid setting parameters
-i: invalid setting test

administrator@cli> 

Expect: replication should not stop by destination volume

replication -a stop -i 9
Error (0x4100104): Incorrect parameters: Can not find meta device info by zp163267/ds462254 1.

administrator@cli> 

Fail: please check out zp254243d


Expect: Volume id=[20] is not existed

replication -a stop -i 20
Error (0x4100102): Empty query result, please check input parameters. Volume id=[20] is not existed.

administrator@cli> 

Expect: Invalid setting parameters

replication -a pause -i test
Error (0x2013): Invalid setting parameters
-i: invalid setting test

administrator@cli> 

Expect: replication should not pause by destination volume

replication -a pause -i 9
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Expect: Volume id=[20] is not existed

replication -a pause -i 20
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Expect: Invalid setting parameters

replication -a resume -i test
Error (0x2013): Invalid setting parameters
-i: invalid setting test

administrator@cli> 

Expect: should hint replication doesn't pause

replication -a resume -i 4
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Expect: Invalid setting parameters

replication -a resume -i 9
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Expect: Volume id=[20] is not existed

replication -a resume -i 20
Error (0x4100999): Fail to execute this method.

administrator@cli> 
'result': 'f'

Expect: Missing parameter

replication -a
Error (0x403): Missing parameter
-a: missing value

administrator@cli> 

Expect: Missing parameter

replication -a start
Error (0x403): Missing parameter
missing parameter '-s' for '-a start'

administrator@cli> 

Expect: Missing parameter

replication -a start -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 

Expect: Missing parameter

replication -a start -i 1 -p
Error (0x403): Missing parameter
-p: missing value

administrator@cli> 

Expect: Missing parameter

replication -a start -i 0 -p 2 -s
Error (0x403): Missing parameter
-s: missing value

administrator@cli> 

Expect: Missing parameter

replication -a stop
Error (0x403): Missing parameter
missing parameter '-i' for '-a stop'

administrator@cli> 

Expect: Missing parameter

replication -a stop -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 

Expect: Missing parameter

replication -a pause
Error (0x403): Missing parameter
missing parameter '-i' for '-a pause'

administrator@cli> 

Expect: Missing parameter

replication -a pause -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 

Expect: Missing parameter

replication -a resume
Error (0x403): Missing parameter
missing parameter '-i' for '-a resume'

administrator@cli> 

Expect: Missing parameter

replication -a resume -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 
'result': 'p'

Expect: migrate should be started by "syncmode=async"

migrate -a start -t local -i 2 -p 1 -s "syncmode=async"
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: migrate -a start -t local -i 2 -p 1 -s "syncmode=async"


Expect: migrate should be started by "syncmode=semi-sync"

migrate -a start -t local -i 3 -p 1 -s "syncmode=semi-sync"
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: migrate -a start -t local -i 3 -p 1 -s "syncmode=semi-sync"


Expect: migrate should be started by "syncmode=sync"

migrate -a start -t local -i 4 -p 0 -s "syncmode=sync"

administrator@cli> 
volume -i 8 -v
-------------------------------------------------------------------------------
Id: 8                                   Name: T_migrate_vol_4_migrate
PoolId: 0                               PoolName: T_migrate_0
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
PoolAvailableCapacity: 107.22 GB        UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-02 09:57:07
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Active                  AdvProtocol: Sync
AdvStatus: Warning                      AdvProgress: 0.0

administrator@cli> 

Fail: please check out AdvMode: Active-Passive


Fail: please check out AdvStatus: Syncing


Expect: migrate should be started by default volues

migrate -a start -t local -i 5 -p 0

administrator@cli> 
volume -i 5 -v
-------------------------------------------------------------------------------
Id: 5                                   Name: T_migrate_vol_5
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: -1
ExportedWWN: 22a20001558ecae2           OperationalStatus: OK, Synchronizing
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-02 09:56:56
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Source
AdvMode: Active-Active                  AdvProtocol: Sync
AdvStatus: Syncing                      AdvProgress: 0.9

administrator@cli> 

Fail: please check out AdvMode: Active-Passive

'result': 'f'

Expect: migrate should be started by "syncmode=async"

migrate -a start -t local -i 2 -p 1 -s "syncmode=async"
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: migrate -a start -t local -i 2 -p 1 -s "syncmode=async"


Expect: migrate should be started by "syncmode=semi-sync"

migrate -a start -t local -i 3 -p 1 -s "syncmode=semi-sync"
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: migrate -a start -t local -i 3 -p 1 -s "syncmode=semi-sync"


Expect: migrate should be started by "syncmode=sync"

migrate -a start -t local -i 4 -p 0 -s "syncmode=sync"

administrator@cli> 
volume -i 8 -v
-------------------------------------------------------------------------------
Id: 8                                   Name: T_migrate_vol_4_migrate
PoolId: 0                               PoolName: T_migrate_0
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
PoolAvailableCapacity: 107.22 GB        UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-02 10:04:23
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Active                  AdvProtocol: Sync
AdvStatus: Warning                      AdvProgress: 0.0

administrator@cli> 

Fail: please check out AdvMode: Active-Passive


Fail: please check out AdvStatus: Syncing


Expect: migrate should be started by default volues

migrate -a start -t local -i 5 -p 0

administrator@cli> 
volume -i 5 -v
-------------------------------------------------------------------------------
Id: 5                                   Name: T_migrate_vol_5
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: -1
ExportedWWN: 223b00015584b76c           OperationalStatus: OK, Synchronizing
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-02 10:04:07
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Source
AdvMode: Active-Active                  AdvProtocol: Sync
AdvStatus: Warning                      AdvProgress: 0.0

administrator@cli> 

Fail: please check out AdvMode: Active-Passive


Fail: please check out AdvStatus: Syncing

'result': 'f'

Expect: Missing parameter

migrate -a
Error (0x403): Missing parameter
-a: missing value

administrator@cli> 

Expect: Missing parameter

migrate -a start
Error (0x403): Missing parameter
-i source volumd ID is missed

administrator@cli> 

Expect: Missing parameter

migrate -a start -t
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Expect: Missing parameter

migrate -a start -t local
Error (0x403): Missing parameter
-i source volumd ID is missed

administrator@cli> 

Expect: Missing parameter

migrate -a start -t local -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 

Expect: Missing parameter

migrate -a start -t local -i 0 -p 2 -s
Error (0x403): Missing parameter
-s: missing value

administrator@cli> 

Expect: Missing parameter

migrate -a stop
Error (0x403): Missing parameter
-i source volumd ID is missed

administrator@cli> 

Expect: Missing parameter

migrate -a stop -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 
'result': 'p'

Expect: migrate should be started by "syncmode=async"

migrate -a start -t local -i 2 -p 1 -s "syncmode=async"
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: migrate -a start -t local -i 2 -p 1 -s "syncmode=async"


Expect: migrate should be started by "syncmode=semi-sync"

migrate -a start -t local -i 3 -p 1 -s "syncmode=semi-sync"
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: migrate -a start -t local -i 3 -p 1 -s "syncmode=semi-sync"


Expect: migrate should be started by "syncmode=sync"

migrate -a start -t local -i 4 -p 0 -s "syncmode=sync"

administrator@cli> 
volume -i 8 -v
-------------------------------------------------------------------------------
Id: 8                                   Name: T_migrate_vol_4_migrate
PoolId: 0                               PoolName: T_migrate_0
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
PoolAvailableCapacity: 107.22 GB        UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-02 10:40:57
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Active                  AdvProtocol: Sync
AdvStatus: Warning                      AdvProgress: 0.0

administrator@cli> 

Fail: please check out AdvMode: Active-Passive


Fail: please check out AdvStatus: Syncing


Expect: migrate should be started by default volues

migrate -a start -t local -i 5 -p 0

administrator@cli> 
volume -i 5 -v
-------------------------------------------------------------------------------
Id: 5                                   Name: T_migrate_vol_5
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: -1
ExportedWWN: 22b50001550e8c91           OperationalStatus: OK, Synchronizing
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-02 10:40:42
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Source
AdvMode: Active-Active                  AdvProtocol: Sync
AdvStatus: Syncing                      AdvProgress: 7.2

administrator@cli> 

Fail: please check out AdvMode: Active-Passive

'result': 'f'

Expect: migrate of remote type should be started by "syncmode=async"

migrate -a start -t remote -i 2 -p 0 -s "syncmode=async,srcip=10.84.2.164,dstip=10.84.2.115,password=password"
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: migrate -a start -t remote -i 2 -p 0 -s "syncmode=async,srcip=10.84.2.164,dstip=10.84.2.115,password=password"


Expect: migrate of remote type should be started by "syncmode=semi-sync"

migrate -a start -t remote -i 3 -p 0 -s "syncmode=semi-sync,srcip=10.84.2.164,dstip=10.84.2.115,password=password"
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: migrate -a start -t remote -i 3 -p 0 -s "syncmode=semi-sync,srcip=10.84.2.164,dstip=10.84.2.115,password=password"


Expect: migrate of remote type should be started by "syncmode=sync"

migrate -a start -t remote -i 4 -p 0 -s "syncmode=sync,srcip=10.84.2.164,dstip=10.84.2.115,password=password"
Error (0x4100104): Incorrect parameters: Only exported volume can be migrated.

administrator@cli> 

Fail: migrate -a start -t remote -i 4 -p 0 -s "syncmode=sync,srcip=10.84.2.164,dstip=10.84.2.115,password=password"


Expect: migrate of remote type should be started by default volues

migrate -a start -t remote -i 5 -p 0 -s "srcip=10.84.2.164,dstip=10.84.2.115,password=password"
Error (0x4100104): Incorrect parameters: Only exported volume can be migrated.

administrator@cli> 

Fail: migrate -a start -t remote -i 5 -p 0 -s "srcip=10.84.2.164,dstip=10.84.2.115,password=password"

'result': 'f'

Expect: migrate of remote type should be started by "syncmode=async"

migrate -a start -t remote -i 2 -p 0 -s "syncmode=async,srcip=10.84.2.164,dstip=10.84.2.115,password=password"
Error (0x4100104): Incorrect parameters: Can not find meta device info by zp479338/ds306670 1.

administrator@cli> 

Fail: migrate -a start -t remote -i 2 -p 0 -s "syncmode=async,srcip=10.84.2.164,dstip=10.84.2.115,password=password"


Expect: migrate of remote type should be started by "syncmode=semi-sync"

migrate -a start -t remote -i 3 -p 0 -s "syncmode=semi-sync,srcip=10.84.2.164,dstip=10.84.2.115,password=password"
Error (0x4100104): Incorrect parameters: Can not find meta device info by zp479338/ds850151 1.

administrator@cli> 

Fail: migrate -a start -t remote -i 3 -p 0 -s "syncmode=semi-sync,srcip=10.84.2.164,dstip=10.84.2.115,password=password"


Expect: migrate of remote type should be started by "syncmode=sync"

migrate -a start -t remote -i 4 -p 0 -s "syncmode=sync,srcip=10.84.2.164,dstip=10.84.2.115,password=password"

administrator@cli> 
volume -i 4 -v
-------------------------------------------------------------------------------
Id: 4                                   Name: T_migrate_vol_4
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: 10
ExportedWWN: 2223000155798ba1           OperationalStatus: OK, Synchronizing
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-02 10:40:42
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Remote                         AdvRole: Source
AdvMode: Active-Active                  AdvProtocol: Sync
AdvStatus: Warning                      AdvProgress: 0.0

administrator@cli> 

Fail: please check out AdvKind: Reomte


Fail: please check out AdvStatus: Syncing


Expect: migrate of remote type should be started by default volues

migrate -a start -t remote -i 5 -p 0 -s "srcip=10.84.2.164,dstip=10.84.2.115,password=password"

administrator@cli> 
volume -i 5 -v
-------------------------------------------------------------------------------
Id: 5                                   Name: T_migrate_vol_5
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: 11
ExportedWWN: 22b50001550e8c91           OperationalStatus: OK, Synchronizing
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-02 10:40:42
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Remote                         AdvRole: Source
AdvMode: Active-Active                  AdvProtocol: Sync
AdvStatus: Warning                      AdvProgress: 0.0

administrator@cli> 

Fail: please check out AdvKind: Reomte


Fail: please check out AdvStatus: Syncing

'result': 'f'

Expect: allowip should be set by "ip=1.0.0.0, permission=ro, squash=root"

allowip -a add -t nasshare -d 0 -s "ip=1.0.0.0, permission=ro, squash=root"

administrator@cli> 
allowip -t nasshare -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         1.0.0.0                                 RO          root_squash      

administrator@cli> 

Expect: allowip should be set by "ip=126.255.255.254, permission=rw, squash=all"

allowip -a add -t nasshare -d 0 -s "ip=126.255.255.254, permission=rw, squash=all"

administrator@cli> 
allowip -t nasshare -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         1.0.0.0                                 RO          root_squash      
1         126.255.255.254                         RW          all_squash       

administrator@cli> 

Expect: allowip should be set by "ip=128.0.0.0, permission=ro, squash=root"

allowip -a add -t snapshot -d 0 -s "ip=128.0.0.0, permission=ro, squash=root"

administrator@cli> 
allowip -t snapshot -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         128.0.0.0                               RO          root_squash      

administrator@cli> 

Expect: allowip should be set by "ip=191.255.255.254, permission=rw, squash=noroot"

allowip -a add -t snapshot -d 0 -s "ip=191.255.255.254, permission=ro, squash=noroot"

administrator@cli> 
allowip -t snapshot -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         128.0.0.0                               RO          root_squash      
1         191.255.255.254                         RO          no_root_squash   

administrator@cli> 

Expect: allowip should be set by "ip=192.0.0.0, permission=ro, squash=all"

allowip -a add -t clone -d 0 -s "ip=192.0.0.0, permission=ro, squash=all"

administrator@cli> 
allowip -t clone -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         192.0.0.0                               RO          all_squash       

administrator@cli> 

Expect: allowip should be set by "ip=223.255.255.254, permission=rw, squash=root"

allowip -a add -t clone -d 0 -s "ip=223.255.255.254, permission=rw, squash=root"

administrator@cli> 
allowip -t clone -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         192.0.0.0                               RO          all_squash       
1         223.255.255.254                         RW          root_squash      

administrator@cli> 
'result': 'p'

Expect: list allowip settings on nasshare 0

allowip -t nasshare -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         1.0.0.0                                 RO          root_squash      
1         126.255.255.254                         RW          all_squash       

administrator@cli> 

Expect: list allowip settings on snapshot 0

allowip -t snapshot -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         128.0.0.0                               RO          root_squash      
1         191.255.255.254                         RO          no_root_squash   

administrator@cli> 

Expect: list allowip settings of clone 0

allowip -t clone -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         192.0.0.0                               RO          all_squash       
1         223.255.255.254                         RW          root_squash      

administrator@cli> 

Expect: list allowip settings on nasshare 0

allowip
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         1.0.0.0                                 RO          root_squash      
1         126.255.255.254                         RW          all_squash       

administrator@cli> 
'result': 'p'

Expect: list allowip settings on nasshare 1 by verbose moed

allowip -v -t nasshare -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         1.0.0.0                                 RO          root_squash      
1         126.255.255.254                         RW          all_squash       

administrator@cli> 

Expect: list allowip settings on snapshot 1 by verbose moed

allowip -v -t snapshot -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         128.0.0.0                               RO          root_squash      
1         191.255.255.254                         RO          no_root_squash   

administrator@cli> 

Expect: list allowip settings of clone 1 by verbose moed

allowip -v -t clone -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         192.0.0.0                               RO          all_squash       
1         223.255.255.254                         RW          root_squash      

administrator@cli> 
'result': 'p'

Expect: allowip of nasshare type should be modified by "ip=10.84.2.1, permission=rw, squash=root"

allowip -a mod -t nasshare -d 0 -i 0 -s "ip=10.84.2.1, permission=rw, squash=root"

administrator@cli> 
allowip -t nasshare -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         10.84.2.1                               RW          root_squash      
1         126.255.255.254                         RW          all_squash       

administrator@cli> 

Expect: allowip of nasshare type should be modified by "ip=10.84.2.2, permission=ro, squash=all"

allowip -a mod -t nasshare -d 0 -i 0 -s "ip=10.84.2.2, permission=ro, squash=all"

administrator@cli> 
allowip -t nasshare -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         10.84.2.2                               RO          all_squash       
1         126.255.255.254                         RW          all_squash       

administrator@cli> 

Expect: allowip of nasshare type should be modified by "ip=10.84.2.3, permission=rw, squash=noroot"

allowip -a mod -t nasshare -d 0 -i 0 -s "ip=10.84.2.3, permission=rw, squash=noroot"

administrator@cli> 
allowip -t nasshare -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         10.84.2.3                               RW          no_root_squash   
1         126.255.255.254                         RW          all_squash       

administrator@cli> 

Expect: allowip of snapshot type should be modified by "ip=10.84.2.1, permission=rw, squash=root"

allowip -a mod -t snapshot -d 0 -i 0 -s "ip=10.84.2.1, permission=ro, squash=root"

administrator@cli> 
allowip -t snapshot -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         10.84.2.1                               RO          root_squash      
1         191.255.255.254                         RO          no_root_squash   

administrator@cli> 

Expect: allowip of snapshot type should be modified by "ip=10.84.2.2, permission=ro, squash=all"

allowip -a mod -t snapshot -d 0 -i 0 -s "ip=10.84.2.2, permission=ro, squash=all"

administrator@cli> 
allowip -t snapshot -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         10.84.2.2                               RO          all_squash       
1         191.255.255.254                         RO          no_root_squash   

administrator@cli> 

Expect: allowip of snapshot type should be modified by "ip=10.84.2.3, permission=rw, squash=noroot"

allowip -a mod -t snapshot -d 0 -i 0 -s "ip=10.84.2.3, permission=ro, squash=noroot"

administrator@cli> 
allowip -t snapshot -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         10.84.2.3                               RO          no_root_squash   
1         191.255.255.254                         RO          no_root_squash   

administrator@cli> 

Expect: allowip of clone type should be modified by "ip=10.84.2.1, permission=rw, squash=root"

allowip -a mod -t clone -d 0 -i 0 -s "ip=10.84.2.1, permission=rw, squash=root"

administrator@cli> 
allowip -t clone -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         10.84.2.1                               RW          root_squash      
1         223.255.255.254                         RW          root_squash      

administrator@cli> 

Expect: allowip of clone type should be modified by "ip=10.84.2.2, permission=ro, squash=all"

allowip -a mod -t clone -d 0 -i 0 -s "ip=10.84.2.2, permission=ro, squash=all"

administrator@cli> 
allowip -t clone -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         10.84.2.2                               RO          all_squash       
1         223.255.255.254                         RW          root_squash      

administrator@cli> 

Expect: allowip of clone type should be modified by "ip=10.84.2.3, permission=rw, squash=noroot"

allowip -a mod -t clone -d 0 -i 0 -s "ip=10.84.2.3, permission=rw, squash=noroot"

administrator@cli> 
allowip -t clone -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         10.84.2.3                               RW          no_root_squash   
1         223.255.255.254                         RW          root_squash      

administrator@cli> 
'result': 'p'

Expect: index 0 of allowip should be deleted on nasshare 0

allowip -a del -t nasshare -d 0 -i 0

administrator@cli> 
allowip -t nasshare -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         126.255.255.254                         RW          all_squash       

administrator@cli> 

Expect: index 0 of allowip should be deleted on snapshot 0

allowip -a del -t snapshot -d 0 -i 0

administrator@cli> 
allowip -t snapshot -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         191.255.255.254                         RO          no_root_squash   

administrator@cli> 

Expect: index 0 of allowip should be deleted on clone 0

allowip -a del -t clone -d 0 -i 0

administrator@cli> 
allowip -t clone -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         223.255.255.254                         RW          root_squash      

administrator@cli> 
'result': 'p'

Expect: Invalid setting parameters

allowip test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid setting parameters

allowip -a test
Error (0x2013): Invalid setting parameters
-a: invalid setting test (list|add|mod|del|clear)

administrator@cli> 

Expect: Invalid setting parameters

allowip -a add -t test
Error (0x2013): Invalid setting parameters
-t: invalid setting test (nasshare|snapshot|clone)

administrator@cli> 

Expect: Invalid setting parameters

allowip -a add -t nasshare -d test
Error (0x2013): Invalid setting parameters
-d: invalid setting test

administrator@cli> 

Expect: Invalid setting parameters

allowip -a add -t nasshare -d 0 -s test
Error (0x2013): Invalid setting parameters
invalid option: ['test']

administrator@cli> 

Expect: Invalid setting parameters

allowip -a add -t nasshare -d 0 -s ""
Error (0x2013): Invalid setting parameters
invalid comma: ','

administrator@cli> 

Expect: Invalid setting parameters

allowip -a add -t nasshare -d 0 -s "ip=test,permission=ro,squash=root"
Error (0x2013): Invalid setting parameters
invalid allow_ip: test

administrator@cli> 

Expect: Invalid setting parameters

allowip -a add -t nasshare -d 0 -s "ip=256.255.255.255,permission=ro,squash=root"
Error (0x2013): Invalid setting parameters
invalid allow_ip: 256.255.255.255

administrator@cli> 

Expect: Invalid setting parameters

allowip -a add -t nasshare -d 0 -s "ip=255.256.255.255,permission=ro,squash=root"
Error (0x2013): Invalid setting parameters
invalid allow_ip: 255.256.255.255

administrator@cli> 

Expect: Invalid setting parameters

allowip -a add -t nasshare -d 0 -s "ip=255.255.256.255,permission=ro,squash=root"
Error (0x2013): Invalid setting parameters
invalid allow_ip: 255.255.256.255

administrator@cli> 

Expect: Invalid setting parameters

allowip -a add -t nasshare -d 0 -s "ip=255.255.255.256,permission=ro,squash=root"
Error (0x2013): Invalid setting parameters
invalid allow_ip: 255.255.255.256

administrator@cli> 

Expect: Invalid setting parameters

allowip -a add -t nasshare -d 0 -s "ip=255.255.255.255,permission=test,squash=root"
Error (0x2013): Invalid setting parameters
permission: invalid setting test (ro|rw)

administrator@cli> 

Expect: Invalid setting parameters

allowip -a add -t nasshare -d 0 -s "ip=255.255.255.255,permission=ro,squash=test"
Error (0x2013): Invalid setting parameters
squash: invalid setting test (all|root|noroot)

administrator@cli> 

Expect: Invalid setting parameters

allowip -a mod test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid setting parameters

allowip -a mod -t nasshare -d test
Error (0x2013): Invalid setting parameters
-d: invalid setting test

administrator@cli> 

Expect: Invalid setting parameters

allowip -a mod -t nasshare -d 0 -s ""
Error (0x2013): Invalid setting parameters
invalid comma: ','

administrator@cli> 

Expect: Invalid setting parameters

allowip -a mod -t nasshare -d 0 -s "ip=256.255.255.255,permission=ro,squash=root" -i 0
Error (0x2013): Invalid setting parameters
invalid allow_ip: 256.255.255.255

administrator@cli> 

Expect: Invalid setting parameters

allowip -a del test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid setting parameters

allowip -a del -t test
Error (0x2013): Invalid setting parameters
-t: invalid setting test (nasshare|snapshot|clone)

administrator@cli> 

Expect: NAS Share id=[100] is not existed

allowip -a del -t nasshare -d 100 -i 0
Error (0x4100102): Empty query result, please check input parameters. NAS Share id=[100] is not existed.

administrator@cli> 

Expect: Invalid setting parameters

allowip -a del -t nasshare -d 0 -i 100
Error (0x2013): Invalid setting parameters
invalid index settings

administrator@cli> 
'result': 'p'

Expect: Invalid option for the command or the action

allowip -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

allowip -a add -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

allowip -a add -t nasshare -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

allowip -a add -t nasshare -d 0 -s "test=255.255.255.255,permission=ro,squash=root"
Error (0x2012): Invalid option for the command or the action
-s: invalid option: test

administrator@cli> 

Expect: Invalid option for the command or the action

allowip -a add -t nasshare -d 0 -s "ip=255.255.255.255,test=ro,squash=root"
Error (0x2012): Invalid option for the command or the action
-s: invalid option: test

administrator@cli> 

Expect: Invalid option for the command or the action

allowip -a add -t nasshare -d 0 -s "ip=255.255.255.255,permission=ro,test=root"
Error (0x2012): Invalid option for the command or the action
-s: invalid option: test

administrator@cli> 

Expect: Invalid option for the command or the action

allowip -a mod -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

allowip -a mod -t nasshare -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

allowip -a mod -t nasshare -d 0 -s "test=255.255.255.255,permission=ro,squash=root" -i 0
Error (0x2012): Invalid option for the command or the action
-s: invalid option: test

administrator@cli> 

Expect: Invalid option for the command or the action

allowip -a del -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 
'result': 'p'

Expect: Missing parameter

allowip -t
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Expect: Missing parameter

allowip -a
Error (0x403): Missing parameter
-a: missing value

administrator@cli> 

Expect: Missing parameter

allowip -a add -t
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Expect: Missing parameter

allowip -a add -t nasshare -d 
Error (0x403): Missing parameter
-d: missing value

administrator@cli> 

Expect: Missing parameter

allowip -a add -t nasshare -d 0 -s 
Error (0x403): Missing parameter
-s: missing value

administrator@cli> 

Expect: Missing parameter

allowip -a add -t nasshare -d 0 -s "permission=ro,squash=root"
Error (0x403): Missing parameter
missing parameter 'ip' for '-a add'

administrator@cli> 

Expect: Missing parameter

allowip -a add -t nasshare -d 0 -s "ip=0.0.0.0,permission=ro"
Error (0x403): Missing parameter
missing parameter 'squash' for '-a add'

administrator@cli> 

Expect: Missing parameter

allowip -a add -t nasshare -d 0 -s "ip=255.255.255.255,squash=root"
Error (0x403): Missing parameter
missing parameter 'permission' for '-a add'

administrator@cli> 

Expect: Missing parameter

allowip -a mod
Error (0x403): Missing parameter
missing parameter '-t' for '-a mod'

administrator@cli> 

Expect: Missing parameter

allowip -a mod -t nasshare -d
Error (0x403): Missing parameter
-d: missing value

administrator@cli> 

Expect: Missing parameter

allowip -a mod -t nasshare -d 0 -s
Error (0x403): Missing parameter
-s: missing value

administrator@cli> 

Expect: Missing parameter

allowip -a del
Error (0x403): Missing parameter
missing parameter '-t' for '-a del'

administrator@cli> 

Expect: Missing parameter

allowip -a del -t
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Expect: Missing parameter

allowip -a del -t nasshare -d
Error (0x403): Missing parameter
-d: missing value

administrator@cli> 

Expect: Missing parameter

allowip -a del -t nasshare -d 0 -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 
'result': 'p'

Expect: wcache should be created dedication for pool 0

wcache -a add -p 5,6 -i 0

administrator@cli> 
wcache
-------------------------------------------------------------------------------
Status: ONLINE
dedicate to pool: 0
 
Physical Drives in Cache
===============================================================================
PdId Model       Type     CfgCapacity Location      OpStatus   ConfigStatus    
===============================================================================
5    INTEL       SAS SSD  31 GB       Encl1 Slot5   OK         WriteCache      
6    SSD U110    SAS SSD  31 GB       Encl1 Slot6   OK         WriteCache      
     32GB                                                                      

administrator@cli> 
'result': 'p'

Expect: 1. wcache should be modified dedication for pool 1 and pd_list is 6,16

wcache -a mod -p 5,16 -i 1

administrator@cli> 
wcache
-------------------------------------------------------------------------------
Status: ONLINE
dedicate to pool: 1
 
Physical Drives in Cache
===============================================================================
PdId Model       Type     CfgCapacity Location      OpStatus   ConfigStatus    
===============================================================================
5    INTEL       SAS SSD  31 GB       Encl1 Slot5   OK         WriteCache      
16   SSDSA2SH032 SAS SSD  31 GB       Encl1 Slot16  OK         WriteCache      
     G1GN                                                                      

administrator@cli> 
'result': 'p'

Expect: wcache should be created

wcache -a add -p 5,6

administrator@cli> 
wcache
-------------------------------------------------------------------------------
Status: WAIT_ASSIGN
dedicate to pool: 
 
Physical Drives in Cache
===============================================================================
PdId Model       Type     CfgCapacity Location      OpStatus   ConfigStatus    
===============================================================================
5    INTEL       SAS SSD  31 GB       Encl1 Slot5   OK         WriteCache      
6    SSD U110    SAS SSD  31 GB       Encl1 Slot6   OK         WriteCache      
     32GB                                                                      

administrator@cli> 
'result': 'p'

Expect: wcache and pd informaiont should be listed

wcache
-------------------------------------------------------------------------------
Status: WAIT_ASSIGN
dedicate to pool: 
 
Physical Drives in Cache
===============================================================================
PdId Model       Type     CfgCapacity Location      OpStatus   ConfigStatus    
===============================================================================
5    INTEL       SAS SSD  31 GB       Encl1 Slot5   OK         WriteCache      
6    SSD U110    SAS SSD  31 GB       Encl1 Slot6   OK         WriteCache      
     32GB                                                                      

administrator@cli> 
'result': 'p'

Expect: wcache should be deleted

wcache -a del

administrator@cli> 
wcache
no cache in system

administrator@cli> 
'result': 'p'

Expect: Invalid setting parameters

wcache test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid setting parameters

wcache -a test
Error (0x2013): Invalid setting parameters
-a: invalid setting test (list|add|del|mod)

administrator@cli> 

Expect: Invalid setting parameters

wcache -a add test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid setting parameters

wcache -a add -p test
Error (0x2013): Invalid setting parameters
-p: invalid setting test

administrator@cli> 

Expect: Invalid setting parameters

wcache -a add -p 0
Error (0x2013): Invalid setting parameters
-p: invalid setting 0 (1,512)

administrator@cli> 

Expect: Invalid setting parameters

wcache -a add -p -1
Error (0x2013): Invalid setting parameters
-p: invalid setting -1

administrator@cli> 

Expect: Invalid setting parameters

wcache -a add -p 5,6 -i test
Error (0x2013): Invalid setting parameters
-i: invalid setting test

administrator@cli> 

Expect: Invalid setting parameters

wcache -a mod test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid setting parameters

wcache -a mod -i test
Error (0x2013): Invalid setting parameters
-i: invalid setting test

administrator@cli> 

Expect: Invalid setting parameters

wcache -a mod -i -1
Error (0x2013): Invalid setting parameters
-i: invalid setting -1

administrator@cli> 

Expect: Invalid physical drive type

wcache -a mod -p 1,2
Error (0x4027): Invalid physical drive type
only SSD type drive can be used

administrator@cli> 

Expect: Invalid setting parameters

wcache -a del test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid setting parameters

wcache -a del -p test
Error (0x2013): Invalid setting parameters
-p: invalid setting test

administrator@cli> 

Expect: Invalid setting parameters

wcache -a del -p 0
Error (0x2013): Invalid setting parameters
-p: invalid setting 0 (1,512)

administrator@cli> 
'result': 'p'

Expect: Invalid option for the command or the action

wcache -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

wcache -a add -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

wcache -a del -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

wcache -a mod -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 
'result': 'p'

Expect: Missing parameter

wcache -a 
Error (0x403): Missing parameter
-a: missing value

administrator@cli> 

Expect: Missing parameter

wcache -a add 
Error (0x403): Missing parameter
missing parameter '-p' for '-a add'

administrator@cli> 

Expect: Missing parameter

wcache -a add -p 
Error (0x403): Missing parameter
-p: missing value

administrator@cli> 

Expect: Invalid parameter

wcache -a mod
Error (0x402): Invalid parameter
Please specify the pool list or PD list.

administrator@cli> 

Expect: Missing parameter

wcache -a mod -i  
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 
'result': 'p'

Expect: rcache should be created by one pd

rcache -a add -p 5

administrator@cli> 
rcache
-------------------------------------------------------------------------------
Status: ONLINE
 
Physical Drives in Cache
===============================================================================
PdId Model       Type     CfgCapacity Location      OpStatus   ConfigStatus    
===============================================================================
5    INTEL       SAS SSD  31 GB       Encl1 Slot5   OK         ReadCache       

administrator@cli> 
'result': 'p'

Expect: rcache should be created by one pd

rcache -a add -p 5,6,16

administrator@cli> 
rcache
-------------------------------------------------------------------------------
Status: ONLINE
 
Physical Drives in Cache
===============================================================================
PdId Model       Type     CfgCapacity Location      OpStatus   ConfigStatus    
===============================================================================
5    INTEL       SAS SSD  31 GB       Encl1 Slot5   OK         ReadCache       
6    SSD U110    SAS SSD  31 GB       Encl1 Slot6   OK         ReadCache       
     32GB                                                                      
16   SSDSA2SH032 SAS SSD  31 GB       Encl1 Slot16  OK         ReadCache       
     G1GN                                                                      

administrator@cli> 
'result': 'p'

Expect: rcache and pd informaiont should be listed

rcache
-------------------------------------------------------------------------------
Status: ONLINE
 
Physical Drives in Cache
===============================================================================
PdId Model       Type     CfgCapacity Location      OpStatus   ConfigStatus    
===============================================================================
5    INTEL       SAS SSD  31 GB       Encl1 Slot5   OK         ReadCache       
6    SSD U110    SAS SSD  31 GB       Encl1 Slot6   OK         ReadCache       
     32GB                                                                      
16   SSDSA2SH032 SAS SSD  31 GB       Encl1 Slot16  OK         ReadCache       
     G1GN                                                                      

administrator@cli> 
'result': 'p'

Expect: rcache should minus two pd

rcache -a del -p 6,16

administrator@cli> 
rcache
-------------------------------------------------------------------------------
Status: ONLINE
 
Physical Drives in Cache
===============================================================================
PdId Model       Type     CfgCapacity Location      OpStatus   ConfigStatus    
===============================================================================
5    INTEL       SAS SSD  31 GB       Encl1 Slot5   OK         ReadCache       

administrator@cli> 

Expect: rcache should minus one pd

rcache -a del -p 5

administrator@cli> 
rcache
no cache in system

administrator@cli> 
'result': 'p'

Expect: Invalid setting parameters

rcache test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid setting parameters

rcache -a test
Error (0x2013): Invalid setting parameters
-a: invalid setting test (list|add|del)

administrator@cli> 

Expect: Invalid setting parameters

rcache -a add test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid setting parameters

rcache -a add -p test
Error (0x2013): Invalid setting parameters
-p: invalid setting test

administrator@cli> 

Expect: Invalid setting parameters

rcache -a add -p 0
Error (0x2013): Invalid setting parameters
-p: invalid setting 0 (1,512)

administrator@cli> 

Expect: Invalid setting parameters

rcache -a add -p -1
Error (0x2013): Invalid setting parameters
-p: invalid setting -1

administrator@cli> 

Expect: Invalid setting parameters

rcache -a del test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid setting parameters

rcache -a del -p test
Error (0x2013): Invalid setting parameters
-p: invalid setting test

administrator@cli> 

Expect: Invalid setting parameters

rcache -a del -p 0
Error (0x2013): Invalid setting parameters
-p: invalid setting 0 (1,512)

administrator@cli> 

Expect: Fail to delete Read Cache

rcache -a del -p 3
Error (0x4100107): Fail to delete Read Cache.

administrator@cli> 
'result': 'p'

Expect: Invalid option for the command or the action

rcache -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

rcache -a add -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

rcache -a del -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 
'result': 'p'

Expect: Missing parameter

rcache -a 
Error (0x403): Missing parameter
-a: missing value

administrator@cli> 

Expect: Missing parameter

rcache -a add 
Error (0x403): Missing parameter
missing parameter '-p' for '-a add'

administrator@cli> 

Expect: Missing parameter

rcache -a add -p 
Error (0x403): Missing parameter
-p: missing value

administrator@cli> 

Expect: Missing parameter

rcache -a del 
Error (0x403): Missing parameter
missing parameter '-p' for '-a del'

administrator@cli> 

Expect: Missing parameter

rcache -a del -p  
Error (0x403): Missing parameter
-p: missing value

administrator@cli> 
'result': 'p'

Expect: spare should be added

spare -a add -t g -r y -p 11

administrator@cli> 
spare
===============================================================================
Id    Status    PdId    Capacity    Revertible    Type      DedicatedToPool    
===============================================================================
0     OK        11      2 TB        Yes           Global    N/A                

administrator@cli> 

Expect: rebuild should start

phydrv -a offline -p 1

administrator@cli> 
rb
-------------------------------------------------------------------------------
PoolId: 0
===============================================================================
PdId                    Percentage                   Status                    
===============================================================================
11                      0                            Running                   

administrator@cli> 

Expect: clean up environment

phydrv -a clear -p 1 -t staleconfig

administrator@cli> 
phydrv -p 1
===============================================================================
PdId Model       Type     CfgCapacity Location      OpStatus   ConfigStatus    
===============================================================================
1    HUS723020AL SAS HDD  2 TB        Encl1 Slot1   OK         Unconfigured    
     S640                                                                      

administrator@cli> 
'result': 'p'

Expect: spare should be added

spare -a add -t d -d 0 -r n -p 12

administrator@cli> 
spare
===============================================================================
Id    Status    PdId    Capacity    Revertible   Type        DedicatedToPool   
===============================================================================
0     OK        12      4 TB        No           Dedicated   0                 

administrator@cli> 

Expect: rebuild should do not start

phydrv -a offline -p 4

administrator@cli> 
rb
This background activity is not running.
administrator@cli> 

Expect: rebuild should start

phydrv -a offline -p 1

administrator@cli> 
rb
-------------------------------------------------------------------------------
PoolId: 0
===============================================================================
PdId                    Percentage                   Status                    
===============================================================================
12                      0                            Running                   

administrator@cli> 

Expect: clean up environment

phydrv -a clear -p 1 -t staleconfig

administrator@cli> 
phydrv -p 1
===============================================================================
PdId Model       Type     CfgCapacity Location      OpStatus   ConfigStatus    
===============================================================================
1    HUS723020AL SAS HDD  2 TB        Encl1 Slot1   OK         Unconfigured    
     S640                                                                      

administrator@cli> 

Expect: delete pool 0

pool -a del -f -y -i 0

administrator@cli> 
spare
No spare drive exists

administrator@cli> 
'result': 'p'

Expect: all of spare drives should be listed

spare
===============================================================================
Id    Status    PdId    Capacity    Revertible   Type        DedicatedToPool   
===============================================================================
0     OK        4       4 TB        No           Global      N/A               
1     OK        9       4 TB        Yes          Dedicated   0                 

administrator@cli> 

Expect: spare 0 drives should be listed

spare -i 0
===============================================================================
Id    Status    PdId    Capacity    Revertible    Type      DedicatedToPool    
===============================================================================
0     OK        4       4 TB        No            Global    N/A                

administrator@cli> 

Expect: spare 1 spare drives should be listed

spare -i 1
===============================================================================
Id    Status    PdId    Capacity    Revertible   Type        DedicatedToPool   
===============================================================================
1     OK        9       4 TB        Yes          Dedicated   0                 

administrator@cli> 
'result': 'p'

Expect: all of spare drives should be listed by verbose mode

spare -v
-------------------------------------------------------------------------------
Id: 0                                   PdId: 4
Type: Global                            Revertible: No
PhysicalCapacity: 4 TB                  Status: OK
PoolList: N/A
-------------------------------------------------------------------------------
Id: 1                                   PdId: 9
Type: Dedicated                         Revertible: Yes
PhysicalCapacity: 4 TB                  Status: OK
PoolList: 0

administrator@cli> 

Expect: spare 0 drives should be listed by verbose mode

spare -v -i 0
-------------------------------------------------------------------------------
Id: 0                                   PdId: 4
Type: Global                            Revertible: No
PhysicalCapacity: 4 TB                  Status: OK
PoolList: N/A

administrator@cli> 

Expect: spare 1 spare drives should be listed by verbose mode

spare -v -i 1
-------------------------------------------------------------------------------
Id: 1                                   PdId: 9
Type: Dedicated                         Revertible: Yes
PhysicalCapacity: 4 TB                  Status: OK
PoolList: 0

administrator@cli> 
'result': 'p'

Expect: spare 0 should be deleted

spare -a del -i 0

administrator@cli> 
spare
===============================================================================
Id    Status    PdId    Capacity    Revertible   Type        DedicatedToPool   
===============================================================================
1     OK        9       4 TB        Yes          Dedicated   0                 

administrator@cli> 

Expect: spare 1 should be deleted

spare -a del -i 1

administrator@cli> 
spare
No spare drive exists

administrator@cli> 
'result': 'p'

Expect: Physical drive in use

spare -a add -t g -r n -p 1
Error (0x4021): Physical drive in use
Physical drive in use

administrator@cli> 

Expect: Invalid setting parameters

spare test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid setting parameters

spare -i 257
Error (0x2013): Invalid setting parameters
-i: invalid setting 257 (0,256)

administrator@cli> 

Expect: Invalid setting parameters

spare -a add -t test
Error (0x2013): Invalid setting parameters
-t: invalid setting test (g|d)

administrator@cli> 

Expect: Physical drive not found

spare -a add -t g -p 512
Error (0x4020): Physical drive not found
Physical drive not found

administrator@cli> 

Expect: Invalid setting parameters

spare -a add -t g -p 513
Error (0x2013): Invalid setting parameters
-p: invalid setting 513 (0,512)

administrator@cli> 

Expect: Invalid setting parameters

spare -a add -t d -d 31 -p 12
Error (0x2013): Invalid setting parameters
specified pool not found

administrator@cli> 

Expect: Invalid setting parameters

spare -a add -t d -d 32 -p 12
Error (0x2013): Invalid setting parameters
-d: invalid setting 32 (0,31)

administrator@cli> 

Expect: Invalid setting parameters

spare -a add -t d -d 33 -p 12
Error (0x2013): Invalid setting parameters
-d: invalid setting 33 (0,31)

administrator@cli> 

Expect: Invalid setting parameters

spare -a add -t g -r test
Error (0x2013): Invalid setting parameters
-r: invalid setting test (y|n)

administrator@cli> 

Expect: Invalid setting parameters

spare -a add -t g -d test
Error (0x2013): Invalid setting parameters
-d: invalid setting test

administrator@cli> 

Expect: Invalid setting parameters

spare -a del test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid spare id

spare -a del -i 256
Error (0x49840C02): Invalid disk array id or spare id
Invalid disk array id or spare id

administrator@cli> 

Fail: please check out Invalid spare id


Expect: Invalid setting parameters

spare -a del -i 257
Error (0x2013): Invalid setting parameters
-i: invalid setting 257 (0,256)

administrator@cli> 
'result': 'f'

Expect: invalid option: -test

spare -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: invalid option: -test

spare -a add -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: invalid option: -test

spare -a add -t g -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: invalid option: -test

spare -a add -t g -d 0 -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: invalid option: -test

spare -a del -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 
'result': 'p'

Expect: Missing parameter

spare -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 

Expect: Missing parameter

spare -d
Error (0x403): Missing parameter
-d: missing value

administrator@cli> 

Expect: Missing parameter

spare -a
Error (0x403): Missing parameter
-a: missing value

administrator@cli> 

Expect: Missing parameter

spare -v -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 

Expect: Missing parameter

spare -a add 
Error (0x403): Missing parameter
missing parameter '-p' for '-a add'

administrator@cli> 

Expect: Missing parameter

spare -a add -t
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Expect: Missing parameter

spare -a add -t g 
Error (0x403): Missing parameter
missing parameter '-p' for '-a add'

administrator@cli> 

Expect: Missing parameter

spare -a add -t g -r
Error (0x403): Missing parameter
-r: missing value

administrator@cli> 

Expect: Missing parameter

spare -a add -t g -r n
Error (0x403): Missing parameter
missing parameter '-p' for '-a add'

administrator@cli> 

Expect: Missing parameter

spare -a add -t g -r n -p
Error (0x403): Missing parameter
-p: missing value

administrator@cli> 

Expect: Missing parameter

spare -a add -t d -d
Error (0x403): Missing parameter
-d: missing value

administrator@cli> 

Expect: Missing parameter

spare -a add -t d -d 0
Error (0x403): Missing parameter
missing parameter '-p' for '-a add'

administrator@cli> 

Expect: Missing parameter

spare -a add -t d -d 0 -p
Error (0x403): Missing parameter
-p: missing value

administrator@cli> 

Expect: Missing parameter

spare -a del
Error (0x403): Missing parameter
missing parameter '-i' for '-a del'

administrator@cli> 

Expect: Missing parameter

spare -a del -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 
'result': 'p'

Expect: migrate should be started by "syncmode=async"

migrate -a start -t local -i 2 -p 1 -s "syncmode=async"
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: migrate -a start -t local -i 2 -p 1 -s "syncmode=async"


Expect: migrate should be started by "syncmode=semi-sync"

migrate -a start -t local -i 3 -p 1 -s "syncmode=semi-sync"
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: migrate -a start -t local -i 3 -p 1 -s "syncmode=semi-sync"


Expect: migrate should be started by "syncmode=sync"

migrate -a start -t local -i 4 -p 0 -s "syncmode=sync"

administrator@cli> 
volume -i 8 -v
-------------------------------------------------------------------------------
Id: 8                                   Name: T_migrate_vol_4_migrate
PoolId: 0                               PoolName: T_migrate_0
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
PoolAvailableCapacity: 107.22 GB        UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-02 19:31:01
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Active                  AdvProtocol: Sync
AdvStatus: Warning                      AdvProgress: 0.0

administrator@cli> 

Fail: please check out AdvStatus: Syncing


Expect: migrate should be started by default volues

migrate -a start -t local -i 5 -p 0

administrator@cli> 
volume -i 5 -v
-------------------------------------------------------------------------------
Id: 5                                   Name: T_migrate_vol_5
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: -1
ExportedWWN: 22a7000155423090           OperationalStatus: OK, Synchronizing
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-02 19:30:45
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Source
AdvMode: Active-Active                  AdvProtocol: Sync
AdvStatus: Warning                      AdvProgress: 0.0

administrator@cli> 

Fail: please check out AdvStatus: Syncing

'result': 'f'

Expect: migrate of remote type should be started by "syncmode=async"

migrate -a start -t remote -i 2 -p 0 -s "syncmode=async,srcip=10.84.2.164,dstip=10.84.2.115,password=password"
Error (0x4100104): Incorrect parameters: Can not find meta device info by zp250204/ds238902 1.

administrator@cli> 

Fail: migrate -a start -t remote -i 2 -p 0 -s "syncmode=async,srcip=10.84.2.164,dstip=10.84.2.115,password=password"


Expect: migrate of remote type should be started by "syncmode=semi-sync"

migrate -a start -t remote -i 3 -p 0 -s "syncmode=semi-sync,srcip=10.84.2.164,dstip=10.84.2.115,password=password"
Error (0x4100104): Incorrect parameters: Can not find meta device info by zp250204/ds799830 1.

administrator@cli> 

Fail: migrate -a start -t remote -i 3 -p 0 -s "syncmode=semi-sync,srcip=10.84.2.164,dstip=10.84.2.115,password=password"


Expect: migrate of remote type should be started by "syncmode=sync"

migrate -a start -t remote -i 4 -p 0 -s "syncmode=sync,srcip=10.84.2.164,dstip=10.84.2.115,password=password"
Error (0x4100102): Empty query result, please check input parameters. Volume id=[4] is not existed.

administrator@cli> 

Fail: migrate -a start -t remote -i 4 -p 0 -s "syncmode=sync,srcip=10.84.2.164,dstip=10.84.2.115,password=password"


Expect: migrate of remote type should be started by default volues

migrate -a start -t remote -i 5 -p 0 -s "srcip=10.84.2.164,dstip=10.84.2.115,password=password"
Error (0x4100104): Incorrect parameters: Only exported volume can be migrated.

administrator@cli> 

Fail: migrate -a start -t remote -i 5 -p 0 -s "srcip=10.84.2.164,dstip=10.84.2.115,password=password"

'result': 'f'

Expect: Invalid setting parameters

migrate test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid setting parameters

migrate -a test
Error (0x2013): Invalid setting parameters
-a: invalid setting test (start|stop)

administrator@cli> 

Expect: destination pool capacity should be more than soure volume

migrate -a start -t local -i 0 -p 3
Error (0x4100102): Empty query result, please check input parameters. Volume id=[0] is not existed.

administrator@cli> 

Fail: please check out Fail to execute this method


Expect: specify nonexistent source volume

migrate -a start -t local -i 100 -p 0
Error (0x4100102): Empty query result, please check input parameters. Volume id=[100] is not existed.

administrator@cli> 

Expect: specify nonexistent destination pool

migrate -a start -t local -i 0 -p 10
Error (0x4100102): Empty query result, please check input parameters. Volume id=[0] is not existed.

administrator@cli> 

Fail: please check out Pool id=[10] is not existed


Expect: thin provision volume cannot become source volume

migrate -a start -t local -i 1 -p 1
Error (0x4100102): Empty query result, please check input parameters. Volume id=[1] is not existed.

administrator@cli> 

Fail: please check out Volume is not full-provision


Expect: Can not migrate Volume to the same Pool

migrate -a start -t local -i 0 -p 2
Error (0x4100102): Empty query result, please check input parameters. Volume id=[0] is not existed.

administrator@cli> 

Fail: please check out Can not migrate Volume to the same Pool


Expect: should hint error when specify wrong sync mode

migrate -a start -t local -i 0 -p 1 -s "syncmode=test"
Error (0x2013): Invalid setting parameters
syncmode: invalid setting test (async|semi-sync|sync)

administrator@cli> 

Expect: should hint error when specify wrong sync mode

migrate -a start -t remote -i 0 -p 0 -s "syncmode=t,srcip=10.84.2.164,dstip=10.84.2.115, password=password"
Error (0x2013): Invalid setting parameters
syncmode: invalid setting t (async|semi-sync|sync)

administrator@cli> 

Fail: please check out invalid setting test (async|semi-sync|sync)


Expect: ip nonconformity

migrate -a start -t remote -i 0 -p 0 -s "srcip=256.0.0.1,dstip=10.0.0.2, password=password"
Error (0x4100102): Empty query result, please check input parameters. Volume id=[0] is not existed.

administrator@cli> 

Expect: ip nonconformity

migrate -a start -t remote -i 0 -p 0 -s "srcip=10.256.0.1,dstip=10.0.0.2, password=password"
Error (0x4100102): Empty query result, please check input parameters. Volume id=[0] is not existed.

administrator@cli> 

Expect: ip nonconformity

migrate -a start -t remote -i 0 -p 0 -s "srcip=10.0.256.1,dstip=10.0.0.2, password=password"
Error (0x4100102): Empty query result, please check input parameters. Volume id=[0] is not existed.

administrator@cli> 

Expect: ip nonconformity

migrate -a start -t remote -i 0 -p 0 -s "srcip=10.0.0.256,dstip=10.0.0.2, password=password"
Error (0x4100102): Empty query result, please check input parameters. Volume id=[0] is not existed.

administrator@cli> 

Expect: specify nonexistent destination host

migrate -a start -t remote -i 0 -p 0 -s "srcip=10.84.2.164,dstip=10.0.254.2, password=password"
Error (0x4100102): Empty query result, please check input parameters. Volume id=[0] is not existed.

administrator@cli> 

Expect: specify nonexistent source host

migrate -a start -t remote -i 0 -p 0 -s "srcip=10.84.254.164,dstip=10.84.1.115, password=password"
Error (0x4100102): Empty query result, please check input parameters. Volume id=[0] is not existed.

administrator@cli> 

Expect: Invalid setting parameters

migrate -a stop -i test
Error (0x2013): Invalid setting parameters
-i: invalid setting test

administrator@cli> 

Expect: migrate should not stop by destination volume

migrate -a stop -i 9
Error (0x4100102): Empty query result, please check input parameters. Volume id=[9] is not existed.

administrator@cli> 

Fail: please check out Incorrect parameters


Fail: please check out zp254243d


Expect: Volume id=[20] is not existed

migrate -a stop -i 20
Error (0x4100102): Empty query result, please check input parameters. Volume id=[20] is not existed.

administrator@cli> 
'result': 'f'

Expect: migrate should be started by "syncmode=async"

migrate -a start -t local -i 2 -p 1 -s "syncmode=async"
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: migrate -a start -t local -i 2 -p 1 -s "syncmode=async"


Expect: migrate should be started by "syncmode=semi-sync"

migrate -a start -t local -i 3 -p 1 -s "syncmode=semi-sync"
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: migrate -a start -t local -i 3 -p 1 -s "syncmode=semi-sync"


Expect: migrate should be started by "syncmode=sync"

migrate -a start -t local -i 4 -p 0 -s "syncmode=sync"

administrator@cli> 
volume -i 8 -v
-------------------------------------------------------------------------------
Id: 8                                   Name: T_migrate_vol_4_migrate
PoolId: 0                               PoolName: T_migrate_0
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
PoolAvailableCapacity: 107.22 GB        UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-03 15:00:22
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Active                  AdvProtocol: Sync
AdvStatus: Warning                      AdvProgress: 0.0

administrator@cli> 

Fail: please check out AdvStatus: Syncing


Expect: migrate should be started by default volues

migrate -a start -t local -i 5 -p 0

administrator@cli> 
volume -i 5 -v
-------------------------------------------------------------------------------
Id: 5                                   Name: T_migrate_vol_5
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: 5
ExportedWWN: 227c0001550b13e7           OperationalStatus: OK, Synchronizing
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-03 15:00:06
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Source
AdvMode: Active-Active                  AdvProtocol: Sync
AdvStatus: Syncing                      AdvProgress: 3.4

administrator@cli> 
'result': 'f'

Expect: migrate of remote type should be started by "syncmode=async"

migrate -a start -t remote -i 2 -p 0 -s "syncmode=async,srcip=10.84.2.164,dstip=10.84.2.115,password=password"
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: migrate -a start -t remote -i 2 -p 0 -s "syncmode=async,srcip=10.84.2.164,dstip=10.84.2.115,password=password"


Expect: migrate of remote type should be started by "syncmode=semi-sync"

migrate -a start -t remote -i 3 -p 0 -s "syncmode=semi-sync,srcip=10.84.2.164,dstip=10.84.2.115,password=password"
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: migrate -a start -t remote -i 3 -p 0 -s "syncmode=semi-sync,srcip=10.84.2.164,dstip=10.84.2.115,password=password"


Expect: migrate of remote type should be started by "syncmode=sync"

migrate -a start -t remote -i 4 -p 0 -s "syncmode=sync,srcip=10.84.2.164,dstip=10.84.2.115,password=password"

administrator@cli> 
volume -i 4 -v
-------------------------------------------------------------------------------
Id: 4                                   Name: T_migrate_vol_4
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: -1
ExportedWWN: 22aa000155456c7a           OperationalStatus: OK, Synchronizing
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
PoolAvailableCapacity: 7.27 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-03 15:00:05
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Remote                         AdvRole: Source
AdvMode: Active-Active                  AdvProtocol: Sync
AdvStatus: Warning                      AdvProgress: 0.0

administrator@cli> 

Fail: please check out AdvStatus: Syncing


Expect: migrate of remote type should be started by default volues

migrate -a start -t remote -i 5 -p 0 -s "srcip=10.84.2.164,dstip=10.84.2.115,password=password"

administrator@cli> 
volume -i 5 -v
-------------------------------------------------------------------------------
Id: 5                                   Name: T_migrate_vol_5
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: 7
ExportedWWN: 227c0001550b13e7           OperationalStatus: OK, Synchronizing
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
PoolAvailableCapacity: 7.27 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-03 15:00:06
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Remote                         AdvRole: Source
AdvMode: Active-Active                  AdvProtocol: Sync
AdvStatus: Syncing                      AdvProgress: 0.5

administrator@cli> 
'result': 'f'

Expect: migrate should be started by "syncmode=async"

migrate -a start -t local -i 2 -p 1 -s "syncmode=async"
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: migrate -a start -t local -i 2 -p 1 -s "syncmode=async"


Expect: migrate should be started by "syncmode=semi-sync"

migrate -a start -t local -i 3 -p 1 -s "syncmode=semi-sync"
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: migrate -a start -t local -i 3 -p 1 -s "syncmode=semi-sync"


Expect: migrate should be started by "syncmode=sync"

migrate -a start -t local -i 4 -p 0 -s "syncmode=sync"

administrator@cli> 
volume -i 8 -v
-------------------------------------------------------------------------------
Id: 8                                   Name: T_migrate_vol_4_migrate
PoolId: 0                               PoolName: T_migrate_0
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
PoolAvailableCapacity: 106.94 GB        UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-03 20:33:47
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Active                  AdvProtocol: Sync
AdvStatus: Syncing                      AdvProgress: 0.9

administrator@cli> 

Expect: migrate should be started by default volues

migrate -a start -t local -i 5 -p 0

administrator@cli> 
volume -i 5 -v
-------------------------------------------------------------------------------
Id: 5                                   Name: T_migrate_vol_5
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: 7
ExportedWWN: 2231000155cbb18a           OperationalStatus: OK, Synchronizing
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-03 20:32:37
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Source
AdvMode: Active-Active                  AdvProtocol: Sync
AdvStatus: Warning                      AdvProgress: 0.0

administrator@cli> 

Fail: please check out AdvStatus: Syncing

'result': 'f'

Expect: periodsnap of volume type should be added by "starthour=0, endhour=1, keepnum=1"

periodsnap -a add -t volume -d 0 -s "starthour=0, endhour=1, keepnum=1"
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: periodsnap -a add -t volume -d 0 -s "starthour=0, endhour=1, keepnum=1"


Expect: periodsnap of volume type should be added by "interval=5,starthour=1, endhour=2, keepnum=1"

periodsnap -a add -t volume -d 1 -s "interval=5,starthour=1, endhour=2, keepnum=1"
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: periodsnap -a add -t volume -d 1 -s "interval=5,starthour=1, endhour=2, keepnum=1"


Expect: periodsnap of volume type should be added by "interval=10,starthour=2, endhour=3, keepnum=2,status=disable,recurtype=daily"

periodsnap -a add -t volume -d 2 -s "interval=10,starthour=2, endhour=3, keepnum=2,status=disable,recurtype=daily"
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: periodsnap -a add -t volume -d 2 -s "interval=10,starthour=2, endhour=3, keepnum=2,status=disable,recurtype=daily"


Expect: periodsnap of volume type should be added by "interval=15,starthour=3, endhour=4, keepnum=127,status=enable,recurtype=daily"

periodsnap -a add -t volume -d 3 -s "interval=15,starthour=3, endhour=4, keepnum=127,status=enable,recurtype=daily"
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: periodsnap -a add -t volume -d 3 -s "interval=15,starthour=3, endhour=4, keepnum=127,status=enable,recurtype=daily"


Expect: periodsnap of volume type should be added by "interval=30,starthour=4, endhour=5, keepnum=128"

periodsnap -a add -t volume -d 4 -s "interval=30,starthour=4, endhour=5, keepnum=128"
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: periodsnap -a add -t volume -d 4 -s "interval=30,starthour=4, endhour=5, keepnum=128"


Expect: periodsnap of volume type should be added by "interval=60,starthour=5, endhour=6, keepnum=127"

periodsnap -a add -t volume -d 5 -s "interval=60,starthour=5, endhour=6, keepnum=127"
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: periodsnap -a add -t volume -d 5 -s "interval=60,starthour=5, endhour=6, keepnum=127"


Expect: periodsnap of volume type should be added by "interval=120,starthour=6, endhour=7, keepnum=128"

periodsnap -a add -t volume -d 6 -s "interval=120,starthour=6, endhour=7, keepnum=128"
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: periodsnap -a add -t volume -d 6 -s "interval=120,starthour=6, endhour=7, keepnum=128"


Expect: periodsnap of volume type should be added by "interval=240,starthour=7, endhour=8, keepnum=127"

periodsnap -a add -t volume -d 7 -s "interval=240,starthour=7, endhour=8, keepnum=127"
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: periodsnap -a add -t volume -d 7 -s "interval=240,starthour=7, endhour=8, keepnum=127"


Expect: periodsnap of volume type should be added by "interval=360,starthour=8, endhour=9, keepnum=128"

periodsnap -a add -t volume -d 8 -s "interval=360,starthour=8, endhour=9, keepnum=128"
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: periodsnap -a add -t volume -d 8 -s "interval=360,starthour=8, endhour=9, keepnum=128"


Expect: periodsnap of volume type should be added by "interval=480,starthour=9, endhour=10, keepnum=127"

periodsnap -a add -t volume -d 9 -s "interval=480,starthour=9, endhour=10, keepnum=127"
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: periodsnap -a add -t volume -d 9 -s "interval=480,starthour=9, endhour=10, keepnum=127"


Expect: periodsnap of volume type should be added by "starthour=0, endhour=12, keepnum=1"

periodsnap -a add -t nasshare -d 0 -s "starthour=0, endhour=12, keepnum=1"
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: periodsnap -a add -t nasshare -d 0 -s "starthour=0, endhour=12, keepnum=1"


Expect: periodsnap of volume type should be added by "interval=720,starthour=12, endhour=13, keepnum=2,status=disable,recurtype=daily"

periodsnap -a add -t nasshare -d 1 -s "interval=720,starthour=12, endhour=13, keepnum=2,status=disable,recurtype=daily"
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: periodsnap -a add -t nasshare -d 1 -s "interval=720,starthour=12, endhour=13, keepnum=2,status=disable,recurtype=daily"


Expect: periodsnap of volume type should be added by "interval=1400,starthour=18, endhour=19, keepnum=128"

periodsnap -a add -t nasshare -d 2 -s "interval=1440,starthour=18, endhour=19, keepnum=128,status=enable"
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: periodsnap -a add -t nasshare -d 2 -s "interval=1440,starthour=18, endhour=19, keepnum=128,status=enable"


Expect: periodsnap of volume type should be added by "starthour=0,keepnum=128,status=disable,recurtype=weekly,dow=sun"

periodsnap -a add -t volume -d 10 -s "starthour=0,keepnum=128,status=disable,recurtype=weekly,dow=sun"
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: periodsnap -a add -t volume -d 10 -s "starthour=0,keepnum=128,status=disable,recurtype=weekly,dow=sun"


Expect: periodsnap of volume type should be added by "starthour=1,keepnum=127,status=enable,recurtype=weekly,dow=mon"

periodsnap -a add -t volume -d 11 -s "starthour=1,keepnum=127,status=enable,recurtype=weekly,dow=mon"
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: periodsnap -a add -t volume -d 11 -s "starthour=1,keepnum=127,status=enable,recurtype=weekly,dow=mon"


Expect: periodsnap of volume type should be added by "starthour=2,keepnum=128,status=disable,recurtype=weekly,dow=tues"

periodsnap -a add -t volume -d 12 -s "starthour=2,keepnum=128,status=disable,recurtype=weekly,dow=tues"
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: periodsnap -a add -t volume -d 12 -s "starthour=2,keepnum=128,status=disable,recurtype=weekly,dow=tues"


Expect: periodsnap of volume type should be added by "starthour=20,keepnum=127,status=enable,recurtype=weekly,dow=wed"

periodsnap -a add -t nasshare -d 3 -s "starthour=20,keepnum=127,status=enable,recurtype=weekly,dow=wed"
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: periodsnap -a add -t nasshare -d 3 -s "starthour=20,keepnum=127,status=enable,recurtype=weekly,dow=wed"


Expect: periodsnap of volume type should be added by "starthour=21,keepnum=128,status=disable,recurtype=weekly,dow=thur"

periodsnap -a add -t nasshare -d 4 -s "starthour=21,keepnum=128,status=disable,recurtype=weekly,dow=thur"
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: periodsnap -a add -t nasshare -d 4 -s "starthour=21,keepnum=128,status=disable,recurtype=weekly,dow=thur"


Expect: periodsnap of volume type should be added by "starthour=22,keepnum=127,recurtype=weekly,dow=fri"

periodsnap -a add -t nasshare -d 5 -s "starthour=22,keepnum=127,recurtype=weekly,dow=fri"
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: periodsnap -a add -t nasshare -d 5 -s "starthour=22,keepnum=127,recurtype=weekly,dow=fri"


Expect: periodsnap of volume type should be added by "starthour=23,keepnum=128,,recurtype=weekly,dow=sat"

periodsnap -a add -t nasshare -d 6 -s "starthour=23,keepnum=128,recurtype=weekly,dow=sat fri"
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: periodsnap -a add -t nasshare -d 6 -s "starthour=23,keepnum=128,recurtype=weekly,dow=sat fri"


Expect: periodsnap of volume type should be added by "starthour=0,keepnum=128,,recurtype=weekly"

periodsnap -a add -t nasshare -d 7 -s "starthour=0,keepnum=128,recurtype=weekly"
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: periodsnap -a add -t nasshare -d 7 -s "starthour=0,keepnum=128,recurtype=weekly"

'result': 'f'

Expect: Missing parameter

periodsnap -t 
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Expect: Missing parameter

periodsnap -t nasshare -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 

Expect: Missing parameter

periodsnap -t volume -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 

Expect: Missing parameter

periodsnap -a add
Error (0x403): Missing parameter
missing parameter '-t' for '-a add'

administrator@cli> 

Expect: Missing parameter

periodsnap -a add -t 
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Expect: Missing parameter

periodsnap -a add -t nasshare 
Error (0x403): Missing parameter
missing parameter '-s' for '-a add'

administrator@cli> 

Expect: Missing parameter

periodsnap -a add -t nasshare -d 9 
Error (0x403): Missing parameter
missing parameter '-s' for '-a add'

administrator@cli> 

Expect: Missing parameter

periodsnap -a add -t nasshare -d 9 -s 
Error (0x403): Missing parameter
-s: missing value

administrator@cli> 

Expect: Missing parameter

periodsnap -a add -t volume -d 14 -s
Error (0x403): Missing parameter
-s: missing value

administrator@cli> 

Expect: Missing parameter

periodsnap -a mod
Error (0x403): Missing parameter
missing parameter '-s' for '-a mod'

administrator@cli> 

Expect: Missing parameter

periodsnap -a mod -i 
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 

Expect: Missing parameter

periodsnap -a mod -i 1 
Error (0x403): Missing parameter
missing parameter '-s' for '-a mod'

administrator@cli> 

Expect: Missing parameter

periodsnap -a mod -i 1 -s 
Error (0x403): Missing parameter
-s: missing value

administrator@cli> 

Expect: Missing parameter

periodsnap -a del
Error (0x403): Missing parameter
missing parameter '-i' for '-a del'

administrator@cli> 

Expect: Missing parameter

periodsnap -a del -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 
'result': 'p'

Expect: replication should be started by "name=T, syncmode=async"

replication -a start -i 2 -p 1 -s "name=T, syncmode=async"
Error (0x4100102): Empty query result, please check input parameters. Volume id=[2] is not existed.

administrator@cli> 

Fail: replication -a start -i 2 -p 1 -s "name=T, syncmode=async"


Expect: replication should be started by "name=t2, syncmode=semi-sync"


Expect: replication should be started by "name=T, syncmode=async"

replication -a start -i 3 -p 1 -s "name=t2, syncmode=semi-sync"

administrator@cli> 
replication -a start -i 2 -p 1 -s "name=T, syncmode=async"

administrator@cli> 

Expect: Missing parameter

replication -a
Error (0x403): Missing parameter
-a: missing value

administrator@cli> 

Expect: Missing parameter

replication -a start
Error (0x403): Missing parameter
missing parameter '-s' for '-a start'

administrator@cli> 

Expect: Missing parameter

replication -a start -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 

Expect: Missing parameter

replication -a start -i 1 -p
Error (0x403): Missing parameter
-p: missing value

administrator@cli> 

Expect: Missing parameter

replication -a start -i 0 -p 2 -s
Error (0x403): Missing parameter
-s: missing value

administrator@cli> 

Expect: Missing parameter

replication -a stop
Error (0x403): Missing parameter
missing parameter '-i' for '-a stop'

administrator@cli> 

Expect: Missing parameter

replication -a stop -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 

Expect: Missing parameter

replication -a pause
Error (0x403): Missing parameter
missing parameter '-i' for '-a pause'

administrator@cli> 

Expect: Missing parameter

replication -a pause -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 

Expect: Missing parameter

replication -a resume
Error (0x403): Missing parameter
missing parameter '-i' for '-a resume'

administrator@cli> 

Expect: Missing parameter

replication -a resume -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 
'result': 'p'

Expect: replication should be started by "name=T, syncmode=async"

replication -a start -i 2 -p 1 -s "name=T, syncmode=async"

administrator@cli> 
volume -i 6 -v
-------------------------------------------------------------------------------
Id: 6                                   Name: T
PoolId: 1                               PoolName: T_replication_1
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 4 GB                     UsedCapacity: 4 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-05 15:06:58
PreferCtrlId: 2                         AdvType: Replication
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Async
AdvStatus: Creating                     AdvProgress: 0.0

administrator@cli> 

Fail: please check out AdvStatus: Syncing


Expect: replication should be started by "name=t2, syncmode=semi-sync"

replication -a start -i 3 -p 1 -s "name=t2, syncmode=semi-sync"

administrator@cli> 
volume -i 7 -v
-------------------------------------------------------------------------------
Id: 7                                   Name: t2
PoolId: 1                               PoolName: T_replication_1
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 4 GB                     UsedCapacity: 4 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-05 15:07:02
PreferCtrlId: 2                         AdvType: Replication
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Semi-Sync
AdvStatus: Syncing                      AdvProgress: 0.3

administrator@cli> 

Expect: replication should be started by "name=test_Test_Test_Test_Test_Test31, syncmode=sync"

replication -a start -i 4 -p 0 -s "name=test_Test_Test_Test_Test_Test31, syncmode=sync"

administrator@cli> 
volume -i 8 -v
-------------------------------------------------------------------------------
Id: 8                                   Name: test_Test_Test_Test_Test_Test31
PoolId: 0                               PoolName: T_replication_0
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
PoolAvailableCapacity: 107.22 GB        UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-05 15:07:06
PreferCtrlId: 2                         AdvType: Replication
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Syncing                      AdvProgress: 5.1

administrator@cli> 

Expect: replication should be started by "name=test_Test_Test_Test_Test_Test_32"

replication -a start -i 5 -p 0 -s "name=test_Test_Test_Test_Test_Test_32"

administrator@cli> 
volume -i 5 -v
-------------------------------------------------------------------------------
Id: 5                                   Name: T_replication_vol_5
PoolId: 1                               PoolName: T_replication_1
Status: Exported                        ExportedId: 7
ExportedWWN: 22e1000155f76341           OperationalStatus: OK, Synchronizing
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-05 15:06:58
PreferCtrlId: 2                         AdvType: Replication
AdvKind: Local                          AdvRole: Source
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Syncing                      AdvProgress: 2.1

administrator@cli> 
'result': 'f'

Expect: Max 4 pairs of replication

replication -a start -i 0 -p 0 -s "name=firth_replica"
Error (0x4100104): Incorrect parameters: Support maximum 4 local replication!

administrator@cli> 

Expect: destination volume should not be exported

volume -a export -i 6
Error (0x4100104): Incorrect parameters: Destination volume of replication in Active_Passive mode cannot be exported.

administrator@cli> 

Expect: destination volume should not be expanded

volume -a mod -i 6 -s "capacity=6GB"
Error (0x4100104): Incorrect parameters: Volume is replication or migration Volume.

administrator@cli> 

Expect: destination volume should not be modified

volume -a mod -i 6 -s "name=no_way"
Error (0x4100104): Incorrect parameters: Volume is replication or migration Volume.

administrator@cli> 

Expect: destination volume should not create snapshot

snapshot -a add -t volume -d 6 -s "name=test_replica"
Error (0x4100104): Incorrect parameters: Destination volume of replication or migration cannot create snapshot.

administrator@cli> 

Expect: destination volume should not be added for lunmap

lunmap -a add -p volume -i 0 -l 6 -m 2
Error (0x402): Invalid parameter
The volume/snapshot/clone is un-exported

administrator@cli> 

Expect: destination volume should not be deleted

volume -a del -i 6
Error (0x4100104): Incorrect parameters: Volume is replication or migration Volume.

administrator@cli> 

Expect: source volume should not be expanded

volume -a mod -i 2 -s "capacity=5GB"
Error (0x4100104): Incorrect parameters: Volume is replication or migration Volume.

administrator@cli> 

Expect: source volume should not be deleted

volume -a del -i 2
Error (0x4100104): Incorrect parameters: Volume is replication or migration Volume.

administrator@cli> 

Expect: source pool should not be deleted

pool -a del -i 1 -f -y
Error (0x4100104): Incorrect parameters: There are replication or migration Volume in the Pool.

administrator@cli> 

Expect: destination pool should not be deleted

pool -a del -i 0 -f -y
Error (0x4100104): Incorrect parameters: There are replication or migration Volume in the Pool.

administrator@cli> 
'result': 'p'

Expect: all of replication should be listed

replication
===============================================================================
SrcVol         DestVol        Location  TotalCap  UsedCap   Status         
===============================================================================
T_replication_ test_Test_Test Local     1 GB      1 GB      Syncing            
vol_5          _Test_Test_Tes                                                  
               t_32                                                            
T_replication_ test_Test_Test Local     1 GB      1 GB      OK                 
vol_4          _Test_Test_Tes                                                  
               t31                                                             
T_replication_ t2             Local     4 GB      4 GB      Syncing            
vol_3                                                                          
T_replication_ T              Local     4 GB      4 GB      Syncing            
vol_2                                                                          

administrator@cli> 
'result': 'p'

Expect: all of replication should be listed by verbose mode

replication -a list -v
-------------------------------------------------------------------------------
Location: Local                         Role: Destination
Mode: Active-Passive                    SyncMode: Sync
Status: Syncing                         Description: Syncing.
Progress: 89.6                          SourceVolumeId: 5
SourceVolumeName: T_replication_vol_5   SourcePoolName: T_replication_1
SourcePortalIP: 10.128.0.2              DestinationVolumeId: 9
DestinationVolumeName: test_Test_Test_Test_Test_Test_32
DestinationPoolName: T_replication_0    DestinationPortalIP: 10.128.0.2
Enable: 1                               Period: 0
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
-------------------------------------------------------------------------------
Location: Local                         Role: Destination
Mode: Active-Passive                    SyncMode: Sync
Status: OK                              Description: Ready.
Progress: 100.0                         SourceVolumeId: 4
SourceVolumeName: T_replication_vol_4   SourcePoolName: T_replication_1
SourcePortalIP: 10.128.0.2              DestinationVolumeId: 8
DestinationVolumeName: test_Test_Test_Test_Test_Test31
DestinationPoolName: T_replication_0    DestinationPortalIP: 10.128.0.2
Enable: 1                               Period: 0
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
-------------------------------------------------------------------------------
Location: Local                         Role: Source
Mode: Active-Passive                    SyncMode: Semi-Sync
Status: Syncing                         Description: Syncing.
Progress: 42.5                          SourceVolumeId: 3
SourceVolumeName: T_replication_vol_3   SourcePoolName: T_replication_0
SourcePortalIP: 10.128.0.2              DestinationVolumeId: 7
DestinationVolumeName: t2               DestinationPoolName: T_replication_1
DestinationPortalIP: 10.128.0.2         Enable: 1
Period: 0                               TotalCapacity: 4 GB
UsedCapacity: 4 GB
-------------------------------------------------------------------------------
Location: Local                         Role: Source
Mode: Active-Passive                    SyncMode: Async
Status: Syncing                         Description: Syncing.
Progress: 49.1                          SourceVolumeId: 2
SourceVolumeName: T_replication_vol_2   SourcePoolName: T_replication_0
SourcePortalIP: 10.128.0.2              DestinationVolumeId: 6
DestinationVolumeName: T                DestinationPoolName: T_replication_1
DestinationPortalIP: 10.128.0.2         Enable: 1
Period: 0                               TotalCapacity: 4 GB
UsedCapacity: 4 GB

administrator@cli> 
'result': 'p'

Expect: specific replication should be stopped

replication -a stop -i 2

administrator@cli> 
volume -v -i 6
-------------------------------------------------------------------------------
Id: 6                                   Name: T
PoolId: 1                               PoolName: T_replication_1
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 4 GB                     UsedCapacity: 4 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-05 15:06:58
PreferCtrlId: 2                         AdvType: 

administrator@cli> 
'result': 'p'

Expect: replication should be paused by source volume

replication -a pause -i 3

administrator@cli> 
replication
===============================================================================
SrcVol         DestVol        Location  TotalCap  UsedCap   Status         
===============================================================================
T_replication_ test_Test_Test Local     1 GB      1 GB      OK                 
vol_5          _Test_Test_Tes                                                  
               t_32                                                            
T_replication_ test_Test_Test Local     1 GB      1 GB      OK                 
vol_4          _Test_Test_Tes                                                  
               t31                                                             
T_replication_ t2             Local     4 GB      4 GB      Pause              
vol_3                                                                          

administrator@cli> 
'result': 'p'

Expect: replication should be resumed

replication -a resume -i 3

administrator@cli> 
replication
===============================================================================
SrcVol         DestVol        Location  TotalCap  UsedCap   Status         
===============================================================================
T_replication_ test_Test_Test Local     1 GB      1 GB      OK                 
vol_5          _Test_Test_Tes                                                  
               t_32                                                            
T_replication_ test_Test_Test Local     1 GB      1 GB      OK                 
vol_4          _Test_Test_Tes                                                  
               t31                                                             
T_replication_ t2             Local     4 GB      4 GB      Creating           
vol_3                                                                          

administrator@cli> 
'result': 'p'

Expect: replication help document should be displayed

replication -h
replication

Usage:
   replication [-a <action>] [-i <ID>] [-p <pool ID>] [-s <settings>]

Summary:
   The replication command allows the user to replicate volume into another
   pool.
   Only with thin-provision disabled volume can be used to replicate. During
   replication in progress, source volume cannot be expanded or removed;
   destination volume disallowed to do any operations.

Options:

-a <action>           Which action to perform.
   list               (Default) Displays the replication status.
   start              Start a specific replication status.
   stop               Stop the replication
   pause              Pause the replication
   resume             Resume a paused replication

-i <ID>               Source volume ID.

-p <pool id>          Destination pool ID.
                      Only valid for -a add specified

-s "<option>=<value>"
                      Used to specify replication settings.
                      Only valid for -a add specified

   name=              Destination volume name

   syncmode=          sync mode method
     async
     semi-sync
     sync             (Default)

-v                    Verbose mode.  Used with -a list.

Examples:
   replication -a list
   replication -a start -i 1 -p 0 -s "name=test, syncmode=async"
   replication -a stop -i 2
   replication -a pause -i i
   replication -a resume -i 1
Type ' | grep "word1,word2,..."' at the end of each command, to display 
filtered info.

administrator@cli> 
'result': 'p'

Expect: Invalid setting parameters

replication test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid setting parameters

replication -a test
Error (0x2013): Invalid setting parameters
-a: invalid setting test (list|start|stop|pause|resume)

administrator@cli> 

Expect: destination pool capacity should be more than soure volume

replication -a start -i 0 -p 3 -s "name=test_capacity"
Error (0x4100104): Incorrect parameters: Destination Pool availiable size is not enough.

administrator@cli> 

Expect: specify nonexistent source volume

replication -a start -i 100 -p 0 -s "name=test_thin"
Error (0x4100102): Empty query result, please check input parameters. Volume id=[100] is not existed.

administrator@cli> 

Expect: specify nonexistent destination pool

replication -a start -i 0 -p 10 -s "name=test_thin"
Error (0x4100102): Empty query result, please check input parameters. Pool id=[10] is not existed.

administrator@cli> 

Expect: thin provision volume cannot become source volume

replication -a start -i 1 -p 0 -s "name=test_thin"
Error (0x4100104): Incorrect parameters: Volume is not full-provision.

administrator@cli> 

Expect: Can not replicate Volume to the same Pool

replication -a start -i 0 -p 2 -s "name=test_thin"
Error (0x4100104): Incorrect parameters: Can not replicate Volume to the same Pool.

administrator@cli> 

Expect: name contain only alphanumeric characters and underscores

replication -a start -i 0 -p 1 -s "name="
Error (0x2013): Invalid setting parameters
name contain only alphanumeric characters and underscores

administrator@cli> 

Expect: name contain only alphanumeric characters and underscores

replication -a start -i 0 -p 1 -s "name=t*&"
Error (0x2013): Invalid setting parameters
name contain only alphanumeric characters and underscores

administrator@cli> 

Expect: should hint error when name shall not exceed 32 characters

replication -a start -i 0 -p 1 -s "name=test_test_test_test_test_test_033"
Error (0x2014): Setting parameters too long
name shall not exceed 32 characters

administrator@cli> 

Expect: should hint error when specify wrong sync mode

replication -a start -i 0 -p 1 -s "name=test,syncmode=test"
Error (0x2013): Invalid setting parameters
syncmode: invalid setting test (async|semi-sync|sync)

administrator@cli> 

Expect: Invalid setting parameters

replication -a stop -i test
Error (0x2013): Invalid setting parameters
-i: invalid setting test

administrator@cli> 

Expect: replication should not stop by destination volume

replication -a stop -i 9
Error (0x4100104): Incorrect parameters: Can not find meta device info by zp949805/ds290036 1.

administrator@cli> 

Fail: please check out zp254243d


Expect: Volume id=[20] is not existed

replication -a stop -i 20
Error (0x4100102): Empty query result, please check input parameters. Volume id=[20] is not existed.

administrator@cli> 

Expect: Invalid setting parameters

replication -a pause -i test
Error (0x2013): Invalid setting parameters
-i: invalid setting test

administrator@cli> 

Expect: replication should not pause by destination volume

replication -a pause -i 9
Error (0x4100104): Incorrect parameters: Only source Volume can be paused.

administrator@cli> 

Expect: Volume id=[20] is not existed

replication -a pause -i 20
Error (0x4100102): Empty query result, please check input parameters. Volume id=[20] is not existed.

administrator@cli> 

Expect: Invalid setting parameters

replication -a resume -i test
Error (0x2013): Invalid setting parameters
-i: invalid setting test

administrator@cli> 

Expect: should hint replication doesn't pause

replication -a resume -i 4
Error (0x4100104): Incorrect parameters: This replication is not paused.

administrator@cli> 

Expect: Invalid setting parameters

replication -a resume -i 9
Error (0x4100104): Incorrect parameters: This replication is not paused.

administrator@cli> 

Expect: Volume id=[20] is not existed

replication -a resume -i 20
Error (0x4100102): Empty query result, please check input parameters. Volume id=[20] is not existed.

administrator@cli> 
'result': 'f'

Expect: invalid option: -test

replication -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: invalid option: -test

replication -a -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: invalid option: -test

replication -a start -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: invalid option: test

replication -a start -i 0 -p 1 -s "test=test,syncmode=test"
Error (0x2012): Invalid option for the command or the action
-s: invalid option: test

administrator@cli> 

Expect: invalid option: test

replication -a start -i 0 -p 1 -s "name=test,test=sync"
Error (0x2012): Invalid option for the command or the action
-s: invalid option: test

administrator@cli> 

Expect: invalid option: -test

replication -a stop -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: invalid option: -test

replication -a pause -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: invalid option: -test

replication -a resume -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 
'result': 'p'

Expect: Missing parameter

replication -a
Error (0x403): Missing parameter
-a: missing value

administrator@cli> 

Expect: Missing parameter

replication -a start
Error (0x403): Missing parameter
missing parameter '-s' for '-a start'

administrator@cli> 

Expect: Missing parameter

replication -a start -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 

Expect: Missing parameter

replication -a start -i 1 -p
Error (0x403): Missing parameter
-p: missing value

administrator@cli> 

Expect: Missing parameter

replication -a start -i 0 -p 2 -s
Error (0x403): Missing parameter
-s: missing value

administrator@cli> 

Expect: Missing parameter

replication -a stop
Error (0x403): Missing parameter
missing parameter '-i' for '-a stop'

administrator@cli> 

Expect: Missing parameter

replication -a stop -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 

Expect: Missing parameter

replication -a pause
Error (0x403): Missing parameter
missing parameter '-i' for '-a pause'

administrator@cli> 

Expect: Missing parameter

replication -a pause -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 

Expect: Missing parameter

replication -a resume
Error (0x403): Missing parameter
missing parameter '-i' for '-a resume'

administrator@cli> 

Expect: Missing parameter

replication -a resume -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 
'result': 'p'

Expect: allowip should be set by "ip=1.0.0.0, permission=ro, squash=root"

allowip -a add -t nasshare -d 0 -s "ip=1.0.0.0, permission=ro, squash=root"

administrator@cli> 
allowip -t nasshare -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         1.0.0.0                                 ro          root_squash      

administrator@cli> 

Expect: allowip should be set by "ip=126.255.255.254, permission=rw, squash=all"

allowip -a add -t nasshare -d 0 -s "ip=126.255.255.254, permission=rw, squash=all"

administrator@cli> 
allowip -t nasshare -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         1.0.0.0                                 ro          root_squash      
1         126.255.255.254                         rw          all_squash       

administrator@cli> 

Expect: allowip should be set by "ip=128.0.0.0, permission=ro, squash=root"

allowip -a add -t snapshot -d 0 -s "ip=128.0.0.0, permission=ro, squash=root"
Error (0x4100104): Incorrect parameters: Permission of snapshot should be Read-Only.

administrator@cli> 

Fail: allowip -a add -t snapshot -d 0 -s "ip=128.0.0.0, permission=ro, squash=root"


Expect: allowip should be set by "ip=191.255.255.254, permission=rw, squash=noroot"

allowip -a add -t snapshot -d 0 -s "ip=191.255.255.254, permission=ro, squash=noroot"
Error (0x4100104): Incorrect parameters: Permission of snapshot should be Read-Only.

administrator@cli> 

Fail: allowip -a add -t snapshot -d 0 -s "ip=191.255.255.254, permission=ro, squash=noroot"


Expect: allowip should be set by "ip=192.0.0.0, permission=ro, squash=all"

allowip -a add -t clone -d 0 -s "ip=192.0.0.0, permission=ro, squash=all"

administrator@cli> 
allowip -t clone -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         192.0.0.0                               ro          all_squash       

administrator@cli> 

Expect: allowip should be set by "ip=223.255.255.254, permission=rw, squash=root"

allowip -a add -t clone -d 0 -s "ip=223.255.255.254, permission=rw, squash=root"

administrator@cli> 
allowip -t clone -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         192.0.0.0                               ro          all_squash       
1         223.255.255.254                         rw          root_squash      

administrator@cli> 
'result': 'f'

Expect: Missing parameter

allowip -t
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Expect: Missing parameter

allowip -a
Error (0x403): Missing parameter
-a: missing value

administrator@cli> 

Expect: Missing parameter

allowip -a add -t
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Expect: Missing parameter

allowip -a add -t nasshare -d 
Error (0x403): Missing parameter
-d: missing value

administrator@cli> 

Expect: Missing parameter

allowip -a add -t nasshare -d 0 -s 
Error (0x403): Missing parameter
-s: missing value

administrator@cli> 

Expect: Missing parameter

allowip -a add -t nasshare -d 0 -s "permission=ro,squash=root"
Error (0x403): Missing parameter
missing parameter 'ip' for '-a add'

administrator@cli> 

Expect: Missing parameter

allowip -a add -t nasshare -d 0 -s "ip=0.0.0.0,permission=ro"
Error (0x403): Missing parameter
missing parameter 'squash' for '-a add'

administrator@cli> 

Expect: Missing parameter

allowip -a add -t nasshare -d 0 -s "ip=255.255.255.255,squash=root"
Error (0x403): Missing parameter
missing parameter 'permission' for '-a add'

administrator@cli> 

Expect: Missing parameter

allowip -a mod
Error (0x403): Missing parameter
missing parameter '-t' for '-a mod'

administrator@cli> 

Expect: Missing parameter

allowip -a mod -t nasshare -d
Error (0x403): Missing parameter
-d: missing value

administrator@cli> 

Expect: Missing parameter

allowip -a mod -t nasshare -d 0 -s
Error (0x403): Missing parameter
-s: missing value

administrator@cli> 

Expect: Missing parameter

allowip -a del
Error (0x403): Missing parameter
missing parameter '-t' for '-a del'

administrator@cli> 

Expect: Missing parameter

allowip -a del -t
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Expect: Missing parameter

allowip -a del -t nasshare -d
Error (0x403): Missing parameter
-d: missing value

administrator@cli> 

Expect: Missing parameter

allowip -a del -t nasshare -d 0 -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 
'result': 'p'

Expect: migrate should be started by "syncmode=async"

migrate -a start -t local -i 2 -p 1 -s "syncmode=async"
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: migrate -a start -t local -i 2 -p 1 -s "syncmode=async"


Expect: migrate should be started by "syncmode=semi-sync"

migrate -a start -t local -i 3 -p 1 -s "syncmode=semi-sync"
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: migrate -a start -t local -i 3 -p 1 -s "syncmode=semi-sync"


Expect: migrate should be started by "syncmode=sync"

migrate -a start -t local -i 4 -p 0 -s "syncmode=sync"

administrator@cli> 
volume -i 8 -v
-------------------------------------------------------------------------------
Id: 8                                   Name: T_migrate_vol_4_migrate
PoolId: 0                               PoolName: T_migrate_0
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 2 GB                     UsedCapacity: 2 GB
PoolAvailableCapacity: 112.10 GB        UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-08 16:23:14
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Active                  AdvProtocol: Sync
AdvStatus: Creating                     AdvProgress: 0.0

administrator@cli> 

Fail: please check out AdvStatus: Syncing


Expect: migrate should be started by default volues

migrate -a start -t local -i 5 -p 0

administrator@cli> 
volume -i 5 -v
-------------------------------------------------------------------------------
Id: 5                                   Name: T_migrate_vol_5
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: -1
ExportedWWN: 2259000155e420ba           OperationalStatus: OK, Synchronizing
TotalCapacity: 2 GB                     UsedCapacity: 2 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-08 16:22:43
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Source
AdvMode: Active-Active                  AdvProtocol: Sync
AdvStatus: Creating                     AdvProgress: 0

administrator@cli> 

Fail: please check out AdvStatus: Syncing


Expect: source volume should be delete

volume -i 2 -v
-------------------------------------------------------------------------------
Id: 2                                   Name: T_migrate_vol_2
PoolId: 0                               PoolName: T_migrate_0
Status: Exported                        ExportedId: 2
ExportedWWN: 22c0000155cd1db7           OperationalStatus: OK, Synchronizing
TotalCapacity: 999.95 MB                UsedCapacity: 999.95 MB
PoolAvailableCapacity: 110.03 GB        UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 0 Byte
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 1
MaxSnapshotCount: 1024                  CreateDate: 2018-01-08 16:22:41
PreferCtrlId: 2                         AdvType: 

administrator@cli> 
volume -i 2 -v
-------------------------------------------------------------------------------
Id: 2                                   Name: T_migrate_vol_2
PoolId: 0                               PoolName: T_migrate_0
Status: Exported                        ExportedId: 2
ExportedWWN: 22c0000155cd1db7           OperationalStatus: OK, Synchronizing
TotalCapacity: 999.95 MB                UsedCapacity: 999.95 MB
PoolAvailableCapacity: 110.03 GB        UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 0 Byte
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 1
MaxSnapshotCount: 1024                  CreateDate: 2018-01-08 16:22:41
PreferCtrlId: 2                         AdvType: 

administrator@cli> 

Fail: please check out No volume exists

'result': 'f'

Expect: migrate should be started by "syncmode=async"

migrate -a start -t local -i 2 -p 1 -s "syncmode=async"

administrator@cli> 
volume -i 6 -v
-------------------------------------------------------------------------------
Id: 6                                   Name: T_migrate_vol_2_migrate
PoolId: 1                               PoolName: T_migrate_1
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 999.95 MB                UsedCapacity: 999.95 MB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 16:44:30
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Async
AdvStatus: Creating                     AdvProgress: 0.0

administrator@cli> 

Fail: please check out AdvMode: Active-Active


Fail: please check out AdvStatus: Syncing


Expect: migrate should be started by "syncmode=semi-sync"

migrate -a start -t local -i 3 -p 1 -s "syncmode=semi-sync"

administrator@cli> 
volume -i 7 -v
-------------------------------------------------------------------------------
Id: 7                                   Name: T_migrate_vol_3_migrate
PoolId: 1                               PoolName: T_migrate_1
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 999.95 MB                UsedCapacity: 999.95 MB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 16:44:41
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Semi-Sync
AdvStatus: Creating                     AdvProgress: 0.0

administrator@cli> 

Fail: please check out AdvMode: Active-Active


Fail: please check out AdvStatus: Syncing


Expect: migrate should be started by "syncmode=sync"

migrate -a start -t local -i 4 -p 0 -s "syncmode=sync"

administrator@cli> 
volume -i 8 -v
-------------------------------------------------------------------------------
Id: 8                                   Name: T_migrate_vol_4_migrate
PoolId: 0                               PoolName: T_migrate_0
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 2 GB                     UsedCapacity: 2 GB
PoolAvailableCapacity: 112.10 GB        UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 16:44:53
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Creating                     AdvProgress: 0.0

administrator@cli> 

Fail: please check out AdvMode: Active-Active


Fail: please check out AdvStatus: Syncing


Expect: migrate should be started by default volues

migrate -a start -t local -i 5 -p 0

administrator@cli> 
volume -i 5 -v
-------------------------------------------------------------------------------
Id: 5                                   Name: T_migrate_vol_5
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: -1
ExportedWWN: 22bd0001556ee0f8           OperationalStatus: OK, Synchronizing
TotalCapacity: 2 GB                     UsedCapacity: 2 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 16:44:28
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Source
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Creating                     AdvProgress: 0

administrator@cli> 

Fail: please check out AdvMode: Active-Active


Fail: please check out AdvStatus: Syncing


Expect: source volume should be delete

volume -i 2 -v
-------------------------------------------------------------------------------
Id: 2                                   Name: T_migrate_vol_2
PoolId: 0                               PoolName: T_migrate_0
Status: Exported                        ExportedId: 2
ExportedWWN: 229e000155827537           OperationalStatus: OK, Synchronizing
TotalCapacity: 999.95 MB                UsedCapacity: 999.95 MB
PoolAvailableCapacity: 110.03 GB        UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 0 Byte
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 1
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 16:44:26
PreferCtrlId: 2                         AdvType: 

administrator@cli> 
volume -i 2 -v
-------------------------------------------------------------------------------
Id: 2                                   Name: T_migrate_vol_2
PoolId: 0                               PoolName: T_migrate_0
Status: Exported                        ExportedId: 2
ExportedWWN: 229e000155827537           OperationalStatus: OK, Synchronizing
TotalCapacity: 999.95 MB                UsedCapacity: 999.95 MB
PoolAvailableCapacity: 110.03 GB        UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 0 Byte
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 1
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 16:44:26
PreferCtrlId: 2                         AdvType: 

administrator@cli> 

Fail: please check out No volume exists

'result': 'f'

Expect: migrate of remote type should be started by "syncmode=async"

migrate -a start -t remote -i 2 -p 0 -s "syncmode=async,srcip=10.84.2.164,dstip=10.84.2.115,password=password"

administrator@cli> 
volume -i 2 -v
-------------------------------------------------------------------------------
Id: 2                                   Name: T_migrate_vol_2
PoolId: 0                               PoolName: T_migrate_0
Status: Exported                        ExportedId: 2
ExportedWWN: 229e000155827537           OperationalStatus: OK, Synchronizing
TotalCapacity: 999.95 MB                UsedCapacity: 999.95 MB
PoolAvailableCapacity: 110.03 GB        UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 0 Byte
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 2
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 16:44:26
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Remote                         AdvRole: Source
AdvMode: Active-Passive                 AdvProtocol: Async
AdvStatus: Creating                     AdvProgress: 0

administrator@cli> 

Fail: please check out AdvMode: Active-Active


Fail: please check out AdvStatus: Syncing


Expect: migrate of remote type should be started by "syncmode=semi-sync"

migrate -a start -t remote -i 3 -p 0 -s "syncmode=semi-sync,srcip=10.84.2.164,dstip=10.84.2.115,password=password"

administrator@cli> 
volume -i 3 -v
-------------------------------------------------------------------------------
Id: 3                                   Name: T_migrate_vol_3
PoolId: 0                               PoolName: T_migrate_0
Status: Exported                        ExportedId: 3
ExportedWWN: 22c8000155e25a63           OperationalStatus: OK, Synchronizing
TotalCapacity: 999.95 MB                UsedCapacity: 999.95 MB
PoolAvailableCapacity: 111.22 GB        UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 16:44:27
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Remote                         AdvRole: Source
AdvMode: Active-Passive                 AdvProtocol: Semi-Sync
AdvStatus: Creating                     AdvProgress: 0

administrator@cli> 

Fail: please check out AdvMode: Active-Active


Fail: please check out AdvStatus: Syncing


Expect: migrate of remote type should be started by "syncmode=sync"

migrate -a start -t remote -i 4 -p 0 -s "syncmode=sync,srcip=10.84.2.164,dstip=10.84.2.115,password=password"
Error (0x4100102): Empty query result, please check input parameters. Volume id=[4] is not existed.

administrator@cli> 

Fail: migrate -a start -t remote -i 4 -p 0 -s "syncmode=sync,srcip=10.84.2.164,dstip=10.84.2.115,password=password"


Expect: migrate of remote type should be started by default volues

migrate -a start -t remote -i 5 -p 0 -s "srcip=10.84.2.164,dstip=10.84.2.115,password=password"
Error (0x4100102): Empty query result, please check input parameters. Volume id=[5] is not existed.

administrator@cli> 

Fail: migrate -a start -t remote -i 5 -p 0 -s "srcip=10.84.2.164,dstip=10.84.2.115,password=password"


Expect: source volume should be delete

volume -i 2 -v
-i: specific volume not exists

administrator@cli> 
volume -i 2 -v
-i: specific volume not exists

administrator@cli> 

Fail: please check out No volume exists

'result': 'f'

Expect: migrate should be started by "syncmode=async"

migrate -a start -t local -i 2 -p 1 -s "syncmode=async"
Error (0x4100102): Empty query result, please check input parameters. Volume id=[2] is not existed.

administrator@cli> 

Fail: migrate -a start -t local -i 2 -p 1 -s "syncmode=async"


Expect: migrate should be started by "syncmode=semi-sync"

migrate -a start -t local -i 3 -p 1 -s "syncmode=semi-sync"
Error (0x4100102): Empty query result, please check input parameters. Volume id=[3] is not existed.

administrator@cli> 

Expect: migrate should be started by "syncmode=async"

migrate -a start -t local -i 2 -p 1 -s "syncmode=async"

administrator@cli> 
volume -i 10 -v
-------------------------------------------------------------------------------
Id: 10                                  Name: T_migrate_vol_2_migrate
PoolId: 1                               PoolName: T_migrate_1
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 999.95 MB                UsedCapacity: 999.95 MB
PoolAvailableCapacity: 7.25 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 17:07:24
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Async
AdvStatus: Creating                     AdvProgress: 0.0

administrator@cli> 

Expect: migrate should be started by "syncmode=semi-sync"

migrate -a start -t local -i 3 -p 1 -s "syncmode=semi-sync"

administrator@cli> 
volume -i 11 -v
-------------------------------------------------------------------------------
Id: 11                                  Name: T_migrate_vol_3_migrate
PoolId: 1                               PoolName: T_migrate_1
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 999.95 MB                UsedCapacity: 999.95 MB
PoolAvailableCapacity: 7.25 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 17:07:35
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Semi-Sync
AdvStatus: Creating                     AdvProgress: 0.0

administrator@cli> 

Expect: migrate should be started by "syncmode=sync"

migrate -a start -t local -i 4 -p 0 -s "syncmode=sync"

administrator@cli> 
volume -i 12 -v
-------------------------------------------------------------------------------
Id: 12                                  Name: T_migrate_vol_4_migrate
PoolId: 0                               PoolName: T_migrate_0
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 2 GB                     UsedCapacity: 2 GB
PoolAvailableCapacity: 112.10 GB        UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 17:07:47
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Creating                     AdvProgress: 0.0

administrator@cli> 

Expect: migrate should be started by default volues

migrate -a start -t local -i 5 -p 0

administrator@cli> 
volume -i 5 -v
-------------------------------------------------------------------------------
Id: 5                                   Name: T_migrate_vol_5
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: -1
ExportedWWN: 220600015593a546           OperationalStatus: OK, Synchronizing
TotalCapacity: 2 GB                     UsedCapacity: 2 GB
PoolAvailableCapacity: 7.25 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 17:07:20
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Source
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Creating                     AdvProgress: 0

administrator@cli> 

Expect: source volume should be delete

volume -i 2 -v
-------------------------------------------------------------------------------
Id: 2                                   Name: T_migrate_vol_2
PoolId: 0                               PoolName: T_migrate_0
Status: Exported                        ExportedId: 2
ExportedWWN: 2225000155c673af           OperationalStatus: OK, Synchronizing
TotalCapacity: 999.95 MB                UsedCapacity: 999.95 MB
PoolAvailableCapacity: 110.03 GB        UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 0 Byte
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 1
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 17:07:18
PreferCtrlId: 2                         AdvType: 

administrator@cli> 
volume -i 2 -v
-------------------------------------------------------------------------------
Id: 2                                   Name: T_migrate_vol_2
PoolId: 0                               PoolName: T_migrate_0
Status: Exported                        ExportedId: 2
ExportedWWN: 2225000155c673af           OperationalStatus: OK, Synchronizing
TotalCapacity: 999.95 MB                UsedCapacity: 999.95 MB
PoolAvailableCapacity: 110.03 GB        UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 0 Byte
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 1
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 17:07:18
PreferCtrlId: 2                         AdvType: 

administrator@cli> 

Fail: please check out No volume exists

'result': 'f'

Expect: migrate should be started by "syncmode=async"

migrate -a start -t local -i 2 -p 1 -s "syncmode=async"

administrator@cli> 
volume -i 10 -v
-------------------------------------------------------------------------------
Id: 10                                  Name: T_migrate_vol_2_migrate
PoolId: 1                               PoolName: T_migrate_1
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 999.95 MB                UsedCapacity: 999.95 MB
PoolAvailableCapacity: 7.25 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 18:16:20
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Async
AdvStatus: Creating                     AdvProgress: 0.0

administrator@cli> 

Expect: migrate should be started by "syncmode=semi-sync"

migrate -a start -t local -i 3 -p 1 -s "syncmode=semi-sync"

administrator@cli> 
volume -i 11 -v
-------------------------------------------------------------------------------
Id: 11                                  Name: T_migrate_vol_3_migrate
PoolId: 1                               PoolName: T_migrate_1
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 999.95 MB                UsedCapacity: 999.95 MB
PoolAvailableCapacity: 7.25 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 18:16:31
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Semi-Sync
AdvStatus: Syncing                      AdvProgress: 68.7

administrator@cli> 

Fail: please check out AdvStatus: Creating


Expect: migrate should be started by "syncmode=sync"

migrate -a start -t local -i 4 -p 0 -s "syncmode=sync"

administrator@cli> 
volume -i 12 -v
-------------------------------------------------------------------------------
Id: 12                                  Name: T_migrate_vol_4_migrate
PoolId: 0                               PoolName: T_migrate_0
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 2 GB                     UsedCapacity: 2 GB
PoolAvailableCapacity: 113.13 GB        UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 330.98 MB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 18:16:43
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Syncing                      AdvProgress: 32.3

administrator@cli> 

Fail: please check out AdvStatus: Creating


Expect: migrate should be started by default volues

migrate -a start -t local -i 5 -p 0

administrator@cli> 
volume -i 5 -v
-------------------------------------------------------------------------------
Id: 5                                   Name: T_migrate_vol_5
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: -1
ExportedWWN: 22aa000155ddfe22           OperationalStatus: OK, Synchronizing
TotalCapacity: 2 GB                     UsedCapacity: 2 GB
PoolAvailableCapacity: 7.25 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 18:16:16
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Source
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Syncing                      AdvProgress: 30.7

administrator@cli> 

Fail: please check out AdvStatus: Creating


Expect: source volume should be delete

volume -i 2 -v
-------------------------------------------------------------------------------
Id: 2                                   Name: T_migrate_vol_2
PoolId: 0                               PoolName: T_migrate_0
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 999.95 MB                UsedCapacity: 999.95 MB
PoolAvailableCapacity: 111.07 GB        UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 0 Byte
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 1
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 18:16:14
PreferCtrlId: 2                         AdvType: 

administrator@cli> 
volume -i 2 -v
-------------------------------------------------------------------------------
Id: 2                                   Name: T_migrate_vol_2
PoolId: 0                               PoolName: T_migrate_0
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 999.95 MB                UsedCapacity: 999.95 MB
PoolAvailableCapacity: 111.07 GB        UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 0 Byte
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 1
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 18:16:14
PreferCtrlId: 2                         AdvType: 

administrator@cli> 

Fail: please check out No volume exists

'result': 'f'

Expect: migrate of remote type should be started by "syncmode=async"

migrate -a start -t remote -i 6 -p 0 -s "syncmode=async,srcip=10.84.2.164,dstip=10.84.2.115,password=password"

administrator@cli> 
volume -i 6 -v
-------------------------------------------------------------------------------
Id: 6                                   Name: T_migrate_vol_6
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: 6
ExportedWWN: 221000015544f773           OperationalStatus: OK, Synchronizing
TotalCapacity: 2 GB                     UsedCapacity: 2 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 18:16:16
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Remote                         AdvRole: Source
AdvMode: Active-Passive                 AdvProtocol: Async
AdvStatus: Creating                     AdvProgress: 0

administrator@cli> 

Fail: please check out AdvProtocol: Sync


Expect: migrate of remote type should be started by "syncmode=semi-sync"

migrate -a start -t remote -i 7 -p 0 -s "syncmode=semi-sync,srcip=10.84.2.164,dstip=10.84.2.115,password=password"

administrator@cli> 
volume -i 7 -v
-------------------------------------------------------------------------------
Id: 7                                   Name: T_migrate_vol_7
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: -1
ExportedWWN: 224600015524d827           OperationalStatus: OK, Synchronizing
TotalCapacity: 2 GB                     UsedCapacity: 2 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 18:16:17
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Remote                         AdvRole: Source
AdvMode: Active-Passive                 AdvProtocol: Semi-Sync
AdvStatus: Creating                     AdvProgress: 0

administrator@cli> 

Fail: please check out AdvProtocol: Sync


Expect: migrate of remote type should be started by "syncmode=sync"

migrate -a start -t remote -i 8 -p 0 -s "syncmode=sync,srcip=10.84.2.164,dstip=10.84.2.115,password=password"

administrator@cli> 
volume -i 8 -v
-------------------------------------------------------------------------------
Id: 8                                   Name: T_migrate_vol_8
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: 8
ExportedWWN: 22970001558d1f97           OperationalStatus: OK, Synchronizing
TotalCapacity: 2 GB                     UsedCapacity: 2 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 18:16:18
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Remote                         AdvRole: Source
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Creating                     AdvProgress: 0

administrator@cli> 

Expect: migrate of remote type should be started by default volues

migrate -a start -t remote -i 9 -p 0 -s "srcip=10.84.2.164,dstip=10.84.2.115,password=password"

administrator@cli> 
volume -i 9 -v
-------------------------------------------------------------------------------
Id: 9                                   Name: T_migrate_vol_9
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: -1
ExportedWWN: 2201000155fa18a7           OperationalStatus: OK, Synchronizing
TotalCapacity: 2 GB                     UsedCapacity: 2 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 18:16:18
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Remote                         AdvRole: Source
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Creating                     AdvProgress: 0

administrator@cli> 

Expect: source volume should be delete

volume -i 6 -v
-i: specific volume not exists

administrator@cli> 
volume -i 6 -v
-i: specific volume not exists

administrator@cli> 

Fail: please check out No volume exists

'result': 'f'

Expect: migrate should be started by "syncmode=async"

migrate -a start -t local -i 2 -p 1 -s "syncmode=async"

administrator@cli> 
volume -i 10 -v
-------------------------------------------------------------------------------
Id: 10                                  Name: T_migrate_vol_2_migrate
PoolId: 1                               PoolName: T_migrate_1
Status: Un-Exported                     OperationalStatus: OK
TotalCapacity: 500 GB                   UsedCapacity: 500 GB
PoolAvailableCapacity: 99.40 GB         UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 21:50:50
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Async
AdvStatus: Creating                     AdvProgress: 0.0

administrator@cli> 

Expect: migrate should be started by "syncmode=semi-sync"

migrate -a start -t local -i 3 -p 1 -s "syncmode=semi-sync"
Error (0x4100104): Incorrect parameters: Destination Pool availiable size is not enough.

administrator@cli> 

Fail: migrate -a start -t local -i 3 -p 1 -s "syncmode=semi-sync"


Expect: migrate should be started by "syncmode=sync"


Expect: migrate should be started by "syncmode=async"

migrate -a start -t local -i 2 -p 1 -s "syncmode=async"

administrator@cli> 
volume -i 10 -v
-------------------------------------------------------------------------------
Id: 10                                  Name: T_migrate_vol_2_migrate
PoolId: 1                               PoolName: T_migrate_1
Status: Un-Exported                     OperationalStatus: OK
TotalCapacity: 100 GB                   UsedCapacity: 100 GB
PoolAvailableCapacity: 2.90 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 21:53:11
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Async
AdvStatus: Creating                     AdvProgress: 0.0

administrator@cli> 

Expect: migrate should be started by "syncmode=semi-sync"

migrate -a start -t local -i 3 -p 1 -s "syncmode=semi-sync"

administrator@cli> 
volume -i 11 -v
-------------------------------------------------------------------------------
Id: 11                                  Name: T_migrate_vol_3_migrate
PoolId: 1                               PoolName: T_migrate_1
Status: Un-Exported                     OperationalStatus: OK
TotalCapacity: 100 GB                   UsedCapacity: 100 GB
PoolAvailableCapacity: 2.80 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 21:53:17
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Semi-Sync
AdvStatus: Creating                     AdvProgress: 0.0

administrator@cli> 

Expect: migrate should be started by "syncmode=sync"

migrate -a start -t local -i 4 -p 0 -s "syncmode=sync"

administrator@cli> 
volume -i 12 -v
-------------------------------------------------------------------------------
Id: 12                                  Name: T_migrate_vol_4_migrate
PoolId: 0                               PoolName: T_migrate_0
Status: Un-Exported                     OperationalStatus: OK
TotalCapacity: 100 GB                   UsedCapacity: 100 GB
PoolAvailableCapacity: 3.42 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 21:53:30
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Creating                     AdvProgress: 0.0

administrator@cli> 

Expect: migrate should be started by default volues

migrate -a start -t local -i 5 -p 0

administrator@cli> 
volume -i 5 -v
-------------------------------------------------------------------------------
Id: 5                                   Name: T_migrate_vol_5
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: 5
ExportedWWN: 22920001556a5c07           OperationalStatus: OK
TotalCapacity: 100 GB                   UsedCapacity: 100 GB
PoolAvailableCapacity: 2.90 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 21:53:07
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Source
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Syncing                      AdvProgress: 0.1

administrator@cli> 

Expect: source volume should be delete

volume -i 2 -v
-------------------------------------------------------------------------------
Id: 2                                   Name: T_migrate_vol_2
PoolId: 0                               PoolName: T_migrate_0
Status: Un-Exported                     OperationalStatus: OK
TotalCapacity: 100 GB                   UsedCapacity: 100 GB
PoolAvailableCapacity: 3.32 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 0 Byte
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 1
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 21:53:05
PreferCtrlId: 2                         AdvType: 

administrator@cli> 
volume -i 2 -v
-------------------------------------------------------------------------------
Id: 2                                   Name: T_migrate_vol_2
PoolId: 0                               PoolName: T_migrate_0
Status: Un-Exported                     OperationalStatus: OK
TotalCapacity: 100 GB                   UsedCapacity: 100 GB
PoolAvailableCapacity: 3.32 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 0 Byte
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 1
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 21:53:05
PreferCtrlId: 2                         AdvType: 

administrator@cli> 

Fail: please check out No volume exists

'result': 'f'

Expect: destination volume should not be exported

volume -a export -i 12
Error (0x4100104): Incorrect parameters: Volume is already exported.

administrator@cli> 

Expect: destination volume should not be expanded

volume -a mod -i 12 -s "capacity=6GB"
Error (0x4100104): Incorrect parameters: The parameter [capacity] is smaller than original capacity

administrator@cli> 

Expect: destination volume should not be modified

volume -a mod -i 12 -s "name=no_way"

administrator@cli> 

Fail: volume -a mod -i 12 -s "name=no_way"


Expect: destination volume should not create snapshot

snapshot -a add -t volume -d 12 -s "name=test_replica"

administrator@cli> 

Fail: snapshot -a add -t volume -d 12 -s "name=test_replica"


Expect: destination volume should not be added for lunmap

lunmap -a add -p volume -i 0 -l 12 -m 2

administrator@cli> 

Fail: lunmap -a add -p volume -i 0 -l 12 -m 2


Expect: destination volume should not be deleted

volume -a del -i 12
Error (0x4100104): Incorrect parameters: Can't delete Volume due to there exists derivatives.

administrator@cli> 

Expect: source volume should not be expanded

volume -a mod -i 4 -s "capacity=5GB"
Error (0x4100102): Empty query result, please check input parameters. Volume id=[4] is not existed.

administrator@cli> 

Expect: source volume should not be deleted

volume -a del -i 4
Error (0x4100102): Empty query result, please check input parameters. Volume id=[4] is not existed.

administrator@cli> 

Expect: source pool should not be deleted

pool -a del -i 1 -f -y
Error (0x4100104): Incorrect parameters: There are replication or migration Volume in the Pool.

administrator@cli> 

Expect: destination pool should not be deleted

pool -a del -i 0 -f -y
Error (0x4100104): Incorrect parameters: There are replication or migration Volume in the Pool.

administrator@cli> 
'result': 'f'

Expect: migrate should be started by "syncmode=async"

migrate -a start -t local -i 2 -p 1 -s "syncmode=async"

administrator@cli> 
volume -i 10 -v
-------------------------------------------------------------------------------
Id: 10                                  Name: T_migrate_vol_2_migrate
PoolId: 1                               PoolName: T_migrate_1
Status: Un-Exported                     OperationalStatus: OK
TotalCapacity: 100 GB                   UsedCapacity: 100 GB
PoolAvailableCapacity: 2.90 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 21:57:44
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Async
AdvStatus: Creating                     AdvProgress: 0.0

administrator@cli> 

Expect: migrate should be started by "syncmode=semi-sync"

migrate -a start -t local -i 3 -p 1 -s "syncmode=semi-sync"

administrator@cli> 
volume -i 11 -v
-------------------------------------------------------------------------------
Id: 11                                  Name: T_migrate_vol_3_migrate
PoolId: 1                               PoolName: T_migrate_1
Status: Un-Exported                     OperationalStatus: OK
TotalCapacity: 100 GB                   UsedCapacity: 100 GB
PoolAvailableCapacity: 2.80 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 21:57:50
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Semi-Sync
AdvStatus: Creating                     AdvProgress: 0.0

administrator@cli> 

Expect: migrate should be started by "syncmode=sync"

migrate -a start -t local -i 4 -p 0 -s "syncmode=sync"

administrator@cli> 
volume -i 12 -v
-------------------------------------------------------------------------------
Id: 12                                  Name: T_migrate_vol_4_migrate
PoolId: 0                               PoolName: T_migrate_0
Status: Un-Exported                     OperationalStatus: OK
TotalCapacity: 100 GB                   UsedCapacity: 100 GB
PoolAvailableCapacity: 3.42 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 21:58:05
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Creating                     AdvProgress: 0.0

administrator@cli> 

Expect: migrate should be started by default volues

migrate -a start -t local -i 5 -p 0

administrator@cli> 
volume -i 5 -v
-------------------------------------------------------------------------------
Id: 5                                   Name: T_migrate_vol_5
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: 5
ExportedWWN: 224d0001555c71ce           OperationalStatus: OK
TotalCapacity: 100 GB                   UsedCapacity: 100 GB
PoolAvailableCapacity: 2.90 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 21:57:39
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Source
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Creating                     AdvProgress: 0.0

administrator@cli> 

Expect: source volume should be delete

volume -i 2 -v
-------------------------------------------------------------------------------
Id: 2                                   Name: T_migrate_vol_2
PoolId: 0                               PoolName: T_migrate_0
Status: Un-Exported                     OperationalStatus: OK
TotalCapacity: 100 GB                   UsedCapacity: 100 GB
PoolAvailableCapacity: 3.32 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 0 Byte
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 1
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 21:57:38
PreferCtrlId: 2                         AdvType: 

administrator@cli> 
volume -i 2 -v
-------------------------------------------------------------------------------
Id: 2                                   Name: T_migrate_vol_2
PoolId: 0                               PoolName: T_migrate_0
Status: Un-Exported                     OperationalStatus: OK
TotalCapacity: 100 GB                   UsedCapacity: 100 GB
PoolAvailableCapacity: 3.32 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 0 Byte
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 1
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 21:57:38
PreferCtrlId: 2                         AdvType: 

administrator@cli> 

Fail: please check out No volume exists

'result': 'f'

Expect: destination volume should not be exported

volume -a export -i 12
Error (0x4100104): Incorrect parameters: Volume is already exported.

administrator@cli> 

Expect: destination volume should not be expanded

volume -a mod -i 12 -s "capacity=102GB"

administrator@cli> 

Fail: volume -a mod -i 12 -s "capacity=102GB"


Expect: destination volume should not be modified

volume -a mod -i 12 -s "name=no_way"

administrator@cli> 

Fail: volume -a mod -i 12 -s "name=no_way"


Expect: destination volume should not create snapshot

snapshot -a add -t volume -d 12 -s "name=test_replica"

administrator@cli> 

Fail: snapshot -a add -t volume -d 12 -s "name=test_replica"


Expect: destination volume should not be added for lunmap

lunmap -a add -p volume -i 0 -l 12 -m 2
Error (0x498B5902): The specified LUN map table already exists. Try adding LD to LUN map instead

administrator@cli> 

Expect: destination volume should not be deleted

volume -a del -i 12
Error (0x4100104): Incorrect parameters: Can't delete Volume due to there exists derivatives.

administrator@cli> 

Expect: source volume should not be expanded

volume -a mod -i 4 -s "capacity=102GB"
Error (0x4100102): Empty query result, please check input parameters. Volume id=[4] is not existed.

administrator@cli> 

Expect: source volume should not be deleted

volume -a del -i 4
Error (0x4100102): Empty query result, please check input parameters. Volume id=[4] is not existed.

administrator@cli> 

Expect: source pool should not be deleted

pool -a del -i 1 -f -y

administrator@cli> 

Fail: pool -a del -i 1 -f -y


Expect: destination pool should not be deleted

pool -a del -i 0 -f -y

administrator@cli> 

Fail: pool -a del -i 0 -f -y

'result': 'f'

Expect: migrate should be started by "syncmode=async"

migrate -a start -t local -i 2 -p 1 -s "syncmode=async"

administrator@cli> 
volume -i 10 -v
-------------------------------------------------------------------------------
Id: 10                                  Name: T_migrate_vol_2_migrate
PoolId: 1                               PoolName: T_migrate_1
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 999.95 MB                UsedCapacity: 999.95 MB
PoolAvailableCapacity: 7.25 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 22:43:29
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Async
AdvStatus: Syncing                      AdvProgress: 74.1

administrator@cli> 

Expect: migrate should be started by "syncmode=semi-sync"

migrate -a start -t local -i 3 -p 1 -s "syncmode=semi-sync"

administrator@cli> 
volume -i 11 -v
-------------------------------------------------------------------------------
Id: 11                                  Name: T_migrate_vol_3_migrate
PoolId: 1                               PoolName: T_migrate_1
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 999.95 MB                UsedCapacity: 999.95 MB
PoolAvailableCapacity: 7.25 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 22:43:40
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Semi-Sync
AdvStatus: Syncing                      AdvProgress: 77.0

administrator@cli> 

Expect: migrate should be started by "syncmode=sync"

migrate -a start -t local -i 4 -p 0 -s "syncmode=sync"

administrator@cli> 
volume -i 12 -v
-------------------------------------------------------------------------------
Id: 12                                  Name: T_migrate_vol_4_migrate
PoolId: 0                               PoolName: T_migrate_0
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 2 GB                     UsedCapacity: 2 GB
PoolAvailableCapacity: 113.13 GB        UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 202.80 MB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 22:43:51
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Syncing                      AdvProgress: 34.0

administrator@cli> 

Expect: migrate should be started by default volues

migrate -a start -t local -i 5 -p 0

administrator@cli> 
volume -i 5 -v
-------------------------------------------------------------------------------
Id: 5                                   Name: T_migrate_vol_5
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: 5
ExportedWWN: 22080001556327bb           OperationalStatus: OK, Synchronizing
TotalCapacity: 2 GB                     UsedCapacity: 2 GB
PoolAvailableCapacity: 7.25 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 22:43:25
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Source
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Syncing                      AdvProgress: 29.2

administrator@cli> 

Expect: source volume should be delete

volume -i 2 -v
-------------------------------------------------------------------------------
Id: 2                                   Name: T_migrate_vol_2
PoolId: 0                               PoolName: T_migrate_0
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 999.95 MB                UsedCapacity: 999.95 MB
PoolAvailableCapacity: 111.07 GB        UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 0 Byte
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 1
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 22:43:23
PreferCtrlId: 2                         AdvType: 

administrator@cli> 
volume -i 2 -v
-------------------------------------------------------------------------------
Id: 2                                   Name: T_migrate_vol_2
PoolId: 0                               PoolName: T_migrate_0
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 999.95 MB                UsedCapacity: 999.95 MB
PoolAvailableCapacity: 111.07 GB        UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 0 Byte
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 1
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 22:43:23
PreferCtrlId: 2                         AdvType: 

administrator@cli> 

Fail: please check out No volume exists

'result': 'f'

Expect: migrate of remote type should be started by "syncmode=async"

migrate -a start -t remote -i 6 -p 0 -s "syncmode=async,srcip=10.84.2.164,dstip=10.84.2.115,password=password"

administrator@cli> 
volume -i 6 -v
-------------------------------------------------------------------------------
Id: 6                                   Name: T_migrate_vol_6
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: -1
ExportedWWN: 22b2000155fa2eea           OperationalStatus: OK, Synchronizing
TotalCapacity: 2 GB                     UsedCapacity: 2 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 22:43:25
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Remote                         AdvRole: Source
AdvMode: Active-Passive                 AdvProtocol: Async
AdvStatus: Syncing                      AdvProgress: 4.7

administrator@cli> 

Fail: please check out AdvProtocol: Sync


Expect: migrate of remote type should be started by "syncmode=semi-sync"

migrate -a start -t remote -i 7 -p 0 -s "syncmode=semi-sync,srcip=10.84.2.164,dstip=10.84.2.115,password=password"

administrator@cli> 
volume -i 7 -v
-------------------------------------------------------------------------------
Id: 7                                   Name: T_migrate_vol_7
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: 8
ExportedWWN: 22f500015524ee6a           OperationalStatus: OK, Synchronizing
TotalCapacity: 2 GB                     UsedCapacity: 2 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 22:43:26
PreferCtrlId: 2                         AdvType: 

administrator@cli> 

Fail: please check out AdvType: Migration


Fail: please check out AdvKind: Remote


Fail: please check out AdvRole: Source


Fail: please check out AdvMode: Active-Passive


Fail: please check out AdvProtocol: Sync


Expect: migrate of remote type should be started by "syncmode=sync"

migrate -a start -t remote -i 8 -p 0 -s "syncmode=sync,srcip=10.84.2.164,dstip=10.84.2.115,password=password"

administrator@cli> 
volume -i 8 -v
-------------------------------------------------------------------------------
Id: 8                                   Name: T_migrate_vol_8
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: 10
ExportedWWN: 2219000155ddc86f           OperationalStatus: OK, Synchronizing
TotalCapacity: 2 GB                     UsedCapacity: 2 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 22:43:27
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Remote                         AdvRole: Source
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Syncing                      AdvProgress: 1.9

administrator@cli> 

Expect: migrate of remote type should be started by default volues

migrate -a start -t remote -i 9 -p 0 -s "srcip=10.84.2.164,dstip=10.84.2.115,password=password"

administrator@cli> 
volume -i 9 -v
-------------------------------------------------------------------------------
Id: 9                                   Name: T_migrate_vol_9
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: 11
ExportedWWN: 228f000155aacf5f           OperationalStatus: OK, Synchronizing
TotalCapacity: 2 GB                     UsedCapacity: 2 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 22:43:27
PreferCtrlId: 2                         AdvType: 

administrator@cli> 

Fail: please check out AdvType: Migration


Fail: please check out AdvKind: Remote


Fail: please check out AdvRole: Source


Fail: please check out AdvMode: Active-Passive


Fail: please check out AdvProtocol: Sync


Expect: source volume should be delete

volume -i 6 -v
-------------------------------------------------------------------------------
Id: 6                                   Name: T_migrate_vol_6
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: -1
ExportedWWN: 22b2000155fa2eea           OperationalStatus: OK, Synchronizing
TotalCapacity: 2 GB                     UsedCapacity: 2 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 22:43:25
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Remote                         AdvRole: Source
AdvMode: Active-Passive                 AdvProtocol: Async
AdvStatus: Syncing                      AdvProgress: 26.3

administrator@cli> 
volume -i 6 -v
-------------------------------------------------------------------------------
Id: 6                                   Name: T_migrate_vol_6
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: -1
ExportedWWN: 22b2000155fa2eea           OperationalStatus: OK, Synchronizing
TotalCapacity: 2 GB                     UsedCapacity: 2 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 22:43:25
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Remote                         AdvRole: Source
AdvMode: Active-Passive                 AdvProtocol: Async
AdvStatus: Syncing                      AdvProgress: 27.7

administrator@cli> 

Fail: please check out specific volume not exists

'result': 'f'

Expect: migrate should be started by "syncmode=async"

migrate -a start -t local -i 2 -p 1 -s "syncmode=async"
Error (0x4100104): Incorrect parameters: Can not migrate Volume to the same Pool.

administrator@cli> 

Fail: migrate -a start -t local -i 2 -p 1 -s "syncmode=async"


Expect: migrate should be started by "syncmode=semi-sync"

migrate -a start -t local -i 3 -p 1 -s "syncmode=semi-sync"
Error (0x4100104): Incorrect parameters: Can not migrate Volume to the same Pool.

administrator@cli> 

Fail: migrate -a start -t local -i 3 -p 1 -s "syncmode=semi-sync"


Expect: migrate should be started by "syncmode=sync"

migrate -a start -t local -i 4 -p 0 -s "syncmode=sync"

administrator@cli> 
volume -i 12 -v
-i: specific volume not exists

administrator@cli> 

Fail: please check out Block: 8 KB


Fail: please check out Sector: 512 Bytes


Fail: please check out SyncMode: standard


Fail: please check out Logbias: latency


Fail: please check out Compress: off


Fail: please check out AdvType: Migration


Fail: please check out AdvKind: Local


Fail: please check out AdvRole: Destination


Fail: please check out AdvMode: Active-Passive


Fail: please check out AdvProtocol: Sync


Expect: migrate should be started by default volues

migrate -a start -t local -i 5 -p 0

administrator@cli> 
volume -i 5 -v
-------------------------------------------------------------------------------
Id: 5                                   Name: T_migrate_vol_9
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: -1
ExportedWWN: 221500015577c46d           OperationalStatus: OK, Synchronizing
TotalCapacity: 10 GB                    UsedCapacity: 10 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 22:48:15
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Source
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Creating                     AdvProgress: 0.0

administrator@cli> 

Expect: source volume should be delete

volume -i 2 -v
-------------------------------------------------------------------------------
Id: 2                                   Name: T_migrate_vol_4
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: 4
ExportedWWN: 22c4000155de03dd           OperationalStatus: OK, Synchronizing
TotalCapacity: 10 GB                    UsedCapacity: 10 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 0 Byte
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 1
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 22:48:12
PreferCtrlId: 2                         AdvType: 

administrator@cli> 
volume -i 2 -v
-------------------------------------------------------------------------------
Id: 2                                   Name: T_migrate_vol_4
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: 4
ExportedWWN: 22c4000155de03dd           OperationalStatus: OK, Synchronizing
TotalCapacity: 10 GB                    UsedCapacity: 10 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 0 Byte
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 1
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 22:48:12
PreferCtrlId: 2                         AdvType: 

administrator@cli> 

Fail: please check out No volume exists

'result': 'f'

Expect: migrate of remote type should be started by "syncmode=async"

migrate -a start -t remote -i 6 -p 0 -s "syncmode=async,srcip=10.84.2.164,dstip=10.84.2.115,password=password"
Error (0x4100104): Incorrect parameters: There is existing replication or migration pair to this Volume.

administrator@cli> 

Fail: migrate -a start -t remote -i 6 -p 0 -s "syncmode=async,srcip=10.84.2.164,dstip=10.84.2.115,password=password"


Expect: migrate of remote type should be started by "syncmode=semi-sync"

migrate -a start -t remote -i 7 -p 0 -s "syncmode=semi-sync,srcip=10.84.2.164,dstip=10.84.2.115,password=password"
Error (0x4100104): Incorrect parameters: Can not find meta device info by zp409076/ds350523 1.

administrator@cli> 

Fail: migrate -a start -t remote -i 7 -p 0 -s "syncmode=semi-sync,srcip=10.84.2.164,dstip=10.84.2.115,password=password"


Expect: migrate of remote type should be started by "syncmode=sync"

migrate -a start -t remote -i 8 -p 0 -s "syncmode=sync,srcip=10.84.2.164,dstip=10.84.2.115,password=password"
Error (0x4100104): Incorrect parameters: There is existing replication or migration pair to this Volume.

administrator@cli> 

Fail: migrate -a start -t remote -i 8 -p 0 -s "syncmode=sync,srcip=10.84.2.164,dstip=10.84.2.115,password=password"


Expect: migrate of remote type should be started by default volues

migrate -a start -t remote -i 9 -p 0 -s "srcip=10.84.2.164,dstip=10.84.2.115,password=password"
Error (0x4100104): Incorrect parameters: Can not find meta device info by zp409076/ds359066 1.

administrator@cli> 

Fail: migrate -a start -t remote -i 9 -p 0 -s "srcip=10.84.2.164,dstip=10.84.2.115,password=password"


Expect: source volume should be delete

volume -i 6 -v
-------------------------------------------------------------------------------
Id: 6                                   Name: T_migrate_vol_6
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: 6
ExportedWWN: 22b2000155fa2eea           OperationalStatus: OK, Synchronizing
TotalCapacity: 2 GB                     UsedCapacity: 2 GB
PoolAvailableCapacity: 7.27 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 22:43:25
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Remote                         AdvRole: Source
AdvMode: Active-Passive                 AdvProtocol: Async
AdvStatus: Creating                     AdvProgress: 0

administrator@cli> 
volume -i 6 -v
-------------------------------------------------------------------------------
Id: 6                                   Name: T_migrate_vol_6
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: 6
ExportedWWN: 22b2000155fa2eea           OperationalStatus: OK, Synchronizing
TotalCapacity: 2 GB                     UsedCapacity: 2 GB
PoolAvailableCapacity: 7.27 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 22:43:25
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Remote                         AdvRole: Source
AdvMode: Active-Passive                 AdvProtocol: Async
AdvStatus: Creating                     AdvProgress: 0

administrator@cli> 

Fail: please check out specific volume not exists

'result': 'f'

Expect: migrate should be started by "syncmode=async"

migrate -a start -t local -i 2 -p 1 -s "syncmode=async"

administrator@cli> 
volume -i 10 -v
-------------------------------------------------------------------------------
Id: 10                                  Name: T_migrate_vol_2_migrate
PoolId: 1                               PoolName: T_migrate_1
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 999.95 MB                UsedCapacity: 999.95 MB
PoolAvailableCapacity: 7.21 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 23:12:01
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Async
AdvStatus: Creating                     AdvProgress: 0.0

administrator@cli> 

Expect: migrate should be started by "syncmode=semi-sync"

migrate -a start -t local -i 3 -p 1 -s "syncmode=semi-sync"

administrator@cli> 
volume -i 11 -v
-------------------------------------------------------------------------------
Id: 11                                  Name: T_migrate_vol_3_migrate
PoolId: 1                               PoolName: T_migrate_1
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 999.95 MB                UsedCapacity: 999.95 MB
PoolAvailableCapacity: 7.21 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 23:12:06
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Semi-Sync
AdvStatus: Creating                     AdvProgress: 0.0

administrator@cli> 

Expect: migrate should be started by "syncmode=sync"

migrate -a start -t local -i 4 -p 0 -s "syncmode=sync"

administrator@cli> 
volume -i 12 -v
-------------------------------------------------------------------------------
Id: 12                                  Name: T_migrate_vol_4_migrate
PoolId: 0                               PoolName: T_migrate_0
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 10 GB                    UsedCapacity: 10 GB
PoolAvailableCapacity: 104.88 GB        UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 23:12:19
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Creating                     AdvProgress: 0.0

administrator@cli> 

Expect: migrate should be started by default volues

migrate -a start -t local -i 5 -p 0

administrator@cli> 
volume -i 5 -v
-------------------------------------------------------------------------------
Id: 5                                   Name: T_migrate_vol_5
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: -1
ExportedWWN: 22da000155ae0b87           OperationalStatus: OK, Synchronizing
TotalCapacity: 10 GB                    UsedCapacity: 10 GB
PoolAvailableCapacity: 7.22 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 23:11:57
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Source
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Creating                     AdvProgress: 0.0

administrator@cli> 

Expect: source volume should be delete

volume -i 2 -v
-------------------------------------------------------------------------------
Id: 2                                   Name: T_migrate_vol_2
PoolId: 0                               PoolName: T_migrate_0
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 999.95 MB                UsedCapacity: 999.95 MB
PoolAvailableCapacity: 94.56 GB         UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 0 Byte
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 1
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 23:11:55
PreferCtrlId: 2                         AdvType: 

administrator@cli> 
volume -i 2 -v
-------------------------------------------------------------------------------
Id: 2                                   Name: T_migrate_vol_2
PoolId: 0                               PoolName: T_migrate_0
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 999.95 MB                UsedCapacity: 999.95 MB
PoolAvailableCapacity: 94.56 GB         UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 0 Byte
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 1
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 23:11:55
PreferCtrlId: 2                         AdvType: 

administrator@cli> 

Fail: please check out No volume exists

'result': 'f'

Expect: migrate of remote type should be started by "syncmode=async"

migrate -a start -t remote -i 6 -p 0 -s "syncmode=async,srcip=10.84.2.164,dstip=10.84.2.115,password=password"

administrator@cli> 
volume -i 6 -v
-------------------------------------------------------------------------------
Id: 6                                   Name: T_migrate_vol_6
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: 6
ExportedWWN: 22600001553702d6           OperationalStatus: OK, Synchronizing
TotalCapacity: 10 GB                    UsedCapacity: 10 GB
PoolAvailableCapacity: 7.23 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 23:11:57
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Remote                         AdvRole: Source
AdvMode: Active-Passive                 AdvProtocol: Async
AdvStatus: Creating                     AdvProgress: 0.0

administrator@cli> 

Fail: please check out AdvProtocol: Sync


Expect: migrate of remote type should be started by "syncmode=semi-sync"

migrate -a start -t remote -i 7 -p 0 -s "syncmode=semi-sync,srcip=10.84.2.164,dstip=10.84.2.115,password=password"

administrator@cli> 
volume -i 7 -v
-------------------------------------------------------------------------------
Id: 7                                   Name: T_migrate_vol_7
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: -1
ExportedWWN: 22b6000155797d4b           OperationalStatus: OK, Synchronizing
TotalCapacity: 10 GB                    UsedCapacity: 10 GB
PoolAvailableCapacity: 7.24 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 23:11:58
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Remote                         AdvRole: Source
AdvMode: Active-Passive                 AdvProtocol: Semi-Sync
AdvStatus: Syncing                      AdvProgress: 0.1

administrator@cli> 

Fail: please check out AdvProtocol: Sync


Expect: migrate of remote type should be started by "syncmode=sync"

migrate -a start -t remote -i 8 -p 0 -s "syncmode=sync,srcip=10.84.2.164,dstip=10.84.2.115,password=password"

administrator@cli> 
volume -i 8 -v
-------------------------------------------------------------------------------
Id: 8                                   Name: T_migrate_vol_8
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: 8
ExportedWWN: 22e7000155feea32           OperationalStatus: OK, Synchronizing
TotalCapacity: 10 GB                    UsedCapacity: 10 GB
PoolAvailableCapacity: 7.24 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 23:11:59
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Remote                         AdvRole: Source
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Creating                     AdvProgress: 0.0

administrator@cli> 

Expect: migrate of remote type should be started by default volues

migrate -a start -t remote -i 9 -p 0 -s "srcip=10.84.2.164,dstip=10.84.2.115,password=password"

administrator@cli> 
volume -i 9 -v
-------------------------------------------------------------------------------
Id: 9                                   Name: T_migrate_vol_9
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: -1
ExportedWWN: 227100015589ed02           OperationalStatus: OK, Synchronizing
TotalCapacity: 10 GB                    UsedCapacity: 10 GB
PoolAvailableCapacity: 7.25 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 23:11:59
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Remote                         AdvRole: Source
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Syncing                      AdvProgress: 0.1

administrator@cli> 

Expect: source volume should be delete

volume -i 6 -v
-i: specific volume not exists

administrator@cli> 
volume -i 6 -v
-i: specific volume not exists

administrator@cli> 
'result': 'f'

Expect: specific migrate should be stopped

migrate -a stop -i 2
Error (0x2013): Invalid setting parameters
specified source volume not in migration status

administrator@cli> 

Fail: migrate -a stop -i 2

'result': 'f'

Expect: specific migrate should be stopped

migrate -a stop -i 7
Error (0x4100104): Incorrect parameters: The parameter [password] is empty.

administrator@cli> 

Fail: migrate -a stop -i 7

'result': 'f'

Expect: migrate help document should be displayed

migrate -h
migrate

Usage:
   migrate [-a <action>] [-i <ID>] [-t <location>] [-p <pool ID>]
           [-s <settings>]

Summary:
   The migrate command allows the user to migrate volume into another pool
   which located in same subsystem (Local) or other subsystem (Remote).
   As well as to stop a specified migration.
   Only with thin-provision disabled volume can be used to migrate. During
   migration in progress, source volume cannot be expanded or removed;
   destination volume disallowed to do any operations.

Options:

-a <action>           Which action to perform.
   start              (Default) Start a specific migration progress.
   stop               Stop the migration

-i <ID>               Source volume ID.

-t <location>         Destination location.
   local              (Default)
   remote

-p <pool ID>          Destination pool ID.

-s "<option>=<value>"
                      Used to specify migration settings
   syncmode=          Sync mode method
     async
     semi-sync
     sync             (Default)

   srcip=             Source portal IP
                      Only valid for -t remote specified.

   dstip=             Destination portal IP of remote subsystem.
                      Only valid for -t remote specified.

   password=          Password of administrator of remote subsystem.
                      Only valid for -t remote specified.

Examples:
   migrate -a start -i 1 -t local -p 0 -s "syncmode=async"
   migrate -a start -i 2 -t remote -p 0 -s "srcip=10.0.0.1,
     dstip=10.0.0.2, password=test"
Type ' | grep "word1,word2,..."' at the end of each command, to display 
filtered info.

administrator@cli> 
'result': 'p'

Expect: Invalid setting parameters

migrate test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid setting parameters

migrate -a test
Error (0x2013): Invalid setting parameters
-a: invalid setting test (start|stop)

administrator@cli> 

Expect: destination pool capacity should be more than soure volume

migrate -a start -t local -i 0 -p 3
Error (0x4100104): Incorrect parameters: Destination Pool availiable size is not enough.

administrator@cli> 

Fail: please check out Fail to execute this method


Expect: specify nonexistent source volume

migrate -a start -t local -i 100 -p 0
Error (0x4100102): Empty query result, please check input parameters. Volume id=[100] is not existed.

administrator@cli> 

Expect: specify nonexistent destination pool

migrate -a start -t local -i 0 -p 10
Error (0x4100102): Empty query result, please check input parameters. Pool id=[10] is not existed.

administrator@cli> 

Expect: thin provision volume cannot become source volume

migrate -a start -t local -i 1 -p 1
Error (0x4100104): Incorrect parameters: Volume is not full-provision.

administrator@cli> 

Expect: Can not migrate Volume to the same Pool

migrate -a start -t local -i 0 -p 2
Error (0x4100104): Incorrect parameters: Can not migrate Volume to the same Pool.

administrator@cli> 

Expect: should hint error when specify wrong sync mode

migrate -a start -t local -i 0 -p 1 -s "syncmode=test"
Error (0x2013): Invalid setting parameters
syncmode: invalid setting test (async|semi-sync|sync)

administrator@cli> 

Expect: should hint error when specify wrong sync mode

migrate -a start -t remote -i 0 -p 0 -s "syncmode=t,srcip=10.84.2.164,dstip=10.84.2.115, password=password"
Error (0x2013): Invalid setting parameters
syncmode: invalid setting t (async|semi-sync|sync)

administrator@cli> 

Fail: please check out invalid setting test (async|semi-sync|sync)


Expect: ip nonconformity

migrate -a start -t remote -i 0 -p 0 -s "srcip=256.0.0.1,dstip=10.0.0.2, password=password"
Error (0x4100104): Incorrect parameters: Can not find meta device info by zp912782/ds588912 1.

administrator@cli> 

Expect: ip nonconformity

migrate -a start -t remote -i 0 -p 0 -s "srcip=10.256.0.1,dstip=10.0.0.2, password=password"
Error (0x4100104): Incorrect parameters: There is existing replication or migration pair to this Volume.

administrator@cli> 

Expect: ip nonconformity

migrate -a start -t remote -i 0 -p 0 -s "srcip=10.0.256.1,dstip=10.0.0.2, password=password"
Error (0x4100104): Incorrect parameters: There is existing replication or migration pair to this Volume.

administrator@cli> 

Expect: ip nonconformity

migrate -a start -t remote -i 0 -p 0 -s "srcip=10.0.0.256,dstip=10.0.0.2, password=password"
Error (0x4100104): Incorrect parameters: There is existing replication or migration pair to this Volume.

administrator@cli> 

Expect: specify nonexistent destination host

migrate -a start -t remote -i 0 -p 0 -s "srcip=10.84.2.164,dstip=10.0.254.2, password=password"
Error (0x4100104): Incorrect parameters: There is existing replication or migration pair to this Volume.

administrator@cli> 

Expect: specify nonexistent source host

migrate -a start -t remote -i 0 -p 0 -s "srcip=10.84.254.164,dstip=10.84.1.115, password=password"
Error (0x4100104): Incorrect parameters: There is existing replication or migration pair to this Volume.

administrator@cli> 

Expect: Invalid setting parameters

migrate -a stop -i test
Error (0x2013): Invalid setting parameters
-i: invalid setting test

administrator@cli> 

Expect: migrate should not stop by destination volume

migrate -a stop -i 9
Error (0x4100104): Incorrect parameters: The parameter [password] is empty.

administrator@cli> 

Fail: please check out zp254243d


Expect: Volume id=[20] is not existed

migrate -a stop -i 20
Error (0x4100102): Empty query result, please check input parameters. Volume id=[20] is not existed.

administrator@cli> 
'result': 'f'

Expect: invalid option: -test

migrate -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: invalid option: -test

migrate -a -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: invalid option: -test

migrate -a start -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: invalid option: test

migrate -a start -i 0 -p 1 -s "test=sync"
Error (0x2012): Invalid option for the command or the action
-s: invalid option: test

administrator@cli> 

Expect: invalid option: -test

migrate -a stop -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 
'result': 'p'

Expect: Invalid setting parameters

migrate test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid setting parameters

migrate -a test
Error (0x2013): Invalid setting parameters
-a: invalid setting test (start|stop)

administrator@cli> 

Expect: destination pool capacity should be more than soure volume

migrate -a start -t local -i 0 -p 3
Error (0x4100104): Incorrect parameters: There is existing replication or migration pair to this Volume.

administrator@cli> 

Fail: please check out Destination Pool availiable size is not enough


Expect: specify nonexistent source volume

migrate -a start -t local -i 100 -p 0
Error (0x4100102): Empty query result, please check input parameters. Volume id=[100] is not existed.

administrator@cli> 

Expect: specify nonexistent destination pool

migrate -a start -t local -i 0 -p 10
Error (0x4100104): Incorrect parameters: There is existing replication or migration pair to this Volume.

administrator@cli> 

Fail: please check out Pool id=[10] is not existed


Expect: thin provision volume cannot become source volume

migrate -a start -t local -i 1 -p 1
Error (0x4100104): Incorrect parameters: Volume is not full-provision.

administrator@cli> 

Expect: Can not migrate Volume to the same Pool

migrate -a start -t local -i 0 -p 2
Error (0x4100104): Incorrect parameters: Can not migrate Volume to the same Pool.

administrator@cli> 

Expect: should hint error when specify wrong sync mode

migrate -a start -t local -i 0 -p 1 -s "syncmode=test"
Error (0x2013): Invalid setting parameters
syncmode: invalid setting test (async|semi-sync|sync)

administrator@cli> 

Expect: should hint error when specify wrong sync mode

migrate -a start -t remote -i 0 -p 0 -s "syncmode=t,srcip=10.84.2.164,dstip=10.84.2.115, password=password"
Error (0x2013): Invalid setting parameters
syncmode: invalid setting t (async|semi-sync|sync)

administrator@cli> 

Expect: ip nonconformity

migrate -a start -t remote -i 0 -p 0 -s "srcip=256.0.0.1,dstip=10.0.0.2, password=password"
Error (0x4100104): Incorrect parameters: There is existing replication or migration pair to this Volume.

administrator@cli> 

Expect: ip nonconformity

migrate -a start -t remote -i 0 -p 0 -s "srcip=10.256.0.1,dstip=10.0.0.2, password=password"
Error (0x4100104): Incorrect parameters: There is existing replication or migration pair to this Volume.

administrator@cli> 

Expect: ip nonconformity

migrate -a start -t remote -i 0 -p 0 -s "srcip=10.0.256.1,dstip=10.0.0.2, password=password"
Error (0x4100104): Incorrect parameters: There is existing replication or migration pair to this Volume.

administrator@cli> 

Expect: ip nonconformity

migrate -a start -t remote -i 0 -p 0 -s "srcip=10.0.0.256,dstip=10.0.0.2, password=password"
Error (0x4100104): Incorrect parameters: There is existing replication or migration pair to this Volume.

administrator@cli> 

Expect: specify nonexistent destination host

migrate -a start -t remote -i 0 -p 0 -s "srcip=10.84.2.164,dstip=10.0.254.2, password=password"
Error (0x4100104): Incorrect parameters: There is existing replication or migration pair to this Volume.

administrator@cli> 

Expect: specify nonexistent source host

migrate -a start -t remote -i 0 -p 0 -s "srcip=10.84.254.164,dstip=10.84.1.115, password=password"
Error (0x4100104): Incorrect parameters: There is existing replication or migration pair to this Volume.

administrator@cli> 

Expect: Invalid setting parameters

migrate -a stop -i test
Error (0x2013): Invalid setting parameters
-i: invalid setting test

administrator@cli> 

Expect: Volume id=[20] is not existed

migrate -a stop -i 20
Error (0x4100102): Empty query result, please check input parameters. Volume id=[20] is not existed.

administrator@cli> 
'result': 'f'

Expect: Missing parameter

migrate -a
Error (0x403): Missing parameter
-a: missing value

administrator@cli> 

Expect: Missing parameter

migrate -a start
Error (0x403): Missing parameter
-i source volumd ID is missed

administrator@cli> 

Expect: Missing parameter

migrate -a start -t
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Expect: Missing parameter

migrate -a start -t local
Error (0x403): Missing parameter
-i source volumd ID is missed

administrator@cli> 

Expect: Missing parameter

migrate -a start -t local -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 

Expect: Missing parameter

migrate -a start -t local -i 0 -p 2 -s
Error (0x403): Missing parameter
-s: missing value

administrator@cli> 

Expect: Missing parameter

migrate -a stop
Error (0x403): Missing parameter
-i source volumd ID is missed

administrator@cli> 

Expect: Missing parameter

migrate -a stop -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 
'result': 'p'
<b>Verify: fc -t node</b>
fc -t node
-------------------------------------------------------------------------------
WWNN: 25-01-00-01-55-5b-3d-29           SupportedFCClass: Class Of Service 3
MaxFrameSize: 2048                      SpeedSupported: 16Gb/s, 8Gb/s, 4Gb/s

administrator@cli> 
<b>Verify: fc -t port</b>
fc -t port
===============================================================================
CtrlId Port   State     WWPN                          
===============================================================================
2      1      Offline   26-07-00-01-55-5b-3d-29                                
2      2      Offline   26-06-00-01-55-5b-3d-29                                
2      3      Offline   26-05-00-01-55-5b-3d-29                                
2      4      Online    26-04-00-01-55-5b-3d-29                                

administrator@cli> 
<b>Verify: fc -t SFP</b>
fc -t SFP
-------------------------------------------------------------------------------
Controller 2 Port 1 : No SFP found

-------------------------------------------------------------------------------
Controller 2 Port 2 : No SFP found

-------------------------------------------------------------------------------
Controller 2 Port 3 : No SFP found

-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 4
Transceiver: SFP                        Connector: LC
TransCode: 00-00-00-00-40-40-04-70      SerialEncoding: 64B66B
BitRate: 14.0 Gb/s                      ManufacturingDateCode: 170518
LinkLength_9/125um: 0 m                 LinkLength_50/125um: 30 m
LinkLength_62.5/125um: 0 m              VendorName: BROCADE
VendorOUI: 00-05-1e                     VendorPartNum: 57-0000088-01
VendorRevision: A                       VendorSerialNum: HAF317200000J34

administrator@cli> 
<b>Verify: fc -t stats</b>
fc -t stats
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 1
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 2
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 3
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 4
LinkFailureCount: 1                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0

administrator@cli> 
<b>Verify: fc -t device</b>
fc -t device
Error (0x2013): Invalid setting parameters
-t: invalid setting device (node|port|stats|sfp|loggedininitiators|loggedintargets|allinitiators)

administrator@cli> 
<font color="red">Fail: fc -t device</font>
<b>Verify: fc -t fabricdevices</b>
fc -t fabricdevices
Error (0x2013): Invalid setting parameters
-t: invalid setting fabricdevices (node|port|stats|sfp|loggedininitiators|loggedintargets|allinitiators)

administrator@cli> 
<font color="red">Fail: fc -t fabricdevices</font>
<b>Verify: fc</b>
fc
===============================================================================
CtrlId Port   State     WWPN                          
===============================================================================
2      1      Offline   26-07-00-01-55-5b-3d-29                                
2      2      Offline   26-06-00-01-55-5b-3d-29                                
2      3      Offline   26-05-00-01-55-5b-3d-29                                
2      4      Online    26-04-00-01-55-5b-3d-29                                

administrator@cli> 
<b>Verify: fc -t port -p 3</b>
fc -t port -p 3
===============================================================================
CtrlId Port   State     WWPN                          
===============================================================================
2      3      Offline   26-05-00-01-55-5b-3d-29                                

administrator@cli> 

<font color="red">Fail: Verify fc </font>
'result': 'f'
<b>Verify: fc -a list -t node</b>
fc -a list -t node
-------------------------------------------------------------------------------
WWNN: 25-01-00-01-55-5b-3d-29           SupportedFCClass: Class Of Service 3
MaxFrameSize: 2048                      SpeedSupported: 16Gb/s, 8Gb/s, 4Gb/s

administrator@cli> 
<b>Verify: fc -a list -t port</b>
fc -a list -t port
===============================================================================
CtrlId Port   State     WWPN                          
===============================================================================
2      1      Offline   26-07-00-01-55-5b-3d-29                                
2      2      Offline   26-06-00-01-55-5b-3d-29                                
2      3      Offline   26-05-00-01-55-5b-3d-29                                
2      4      Online    26-04-00-01-55-5b-3d-29                                

administrator@cli> 
<b>Verify: fc -a list -t SFP</b>
fc -a list -t SFP
-------------------------------------------------------------------------------
Controller 2 Port 1 : No SFP found

-------------------------------------------------------------------------------
Controller 2 Port 2 : No SFP found

-------------------------------------------------------------------------------
Controller 2 Port 3 : No SFP found

-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 4
Transceiver: SFP                        Connector: LC
TransCode: 00-00-00-00-40-40-04-70      SerialEncoding: 64B66B
BitRate: 14.0 Gb/s                      ManufacturingDateCode: 170518
LinkLength_9/125um: 0 m                 LinkLength_50/125um: 30 m
LinkLength_62.5/125um: 0 m              VendorName: BROCADE
VendorOUI: 00-05-1e                     VendorPartNum: 57-0000088-01
VendorRevision: A                       VendorSerialNum: HAF317200000J34

administrator@cli> 
<b>Verify: fc -a list -t stats</b>
fc -a list -t stats
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 1
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 2
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 3
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 4
LinkFailureCount: 1                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0

administrator@cli> 
<b>Verify: fc -a list -t device</b>
fc -a list -t device
Error (0x2013): Invalid setting parameters
-t: invalid setting device (node|port|stats|sfp|loggedininitiators|loggedintargets|allinitiators)

administrator@cli> 
<font color="red">Fail: fc -a list -t device</font>
<b>Verify: fc -a list -t fabricdevices</b>
fc -a list -t fabricdevices
Error (0x2013): Invalid setting parameters
-t: invalid setting fabricdevices (node|port|stats|sfp|loggedininitiators|loggedintargets|allinitiators)

administrator@cli> 
<font color="red">Fail: fc -a list -t fabricdevices</font>
<b>Verify: fc -a list</b>
fc -a list
===============================================================================
CtrlId Port   State     WWPN                          
===============================================================================
2      1      Offline   26-07-00-01-55-5b-3d-29                                
2      2      Offline   26-06-00-01-55-5b-3d-29                                
2      3      Offline   26-05-00-01-55-5b-3d-29                                
2      4      Online    26-04-00-01-55-5b-3d-29                                

administrator@cli> 
<b>Verify: fc -a list -t port -p 3</b>
fc -a list -t port -p 3
===============================================================================
CtrlId Port   State     WWPN                          
===============================================================================
2      3      Offline   26-05-00-01-55-5b-3d-29                                

administrator@cli> 

<font color="red">Fail: Verify fc -a list</font>
'result': 'f'
<b>Verify: fc -a list -t node -v</b>
fc -a list -t node -v
-------------------------------------------------------------------------------
WWNN: 25-01-00-01-55-5b-3d-29           SupportedFCClass: Class Of Service 3
MaxFrameSize: 2048                      SpeedSupported: 16Gb/s, 8Gb/s, 4Gb/s

administrator@cli> 
<b>Verify: fc -a list -t port -v</b>
fc -a list -t port -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 1
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-07-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: Auto               ConfiguredTopology: Auto
HardALPA: 255
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 2
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-06-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: Auto               ConfiguredTopology: Auto
HardALPA: 255
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 3
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-05-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: Auto               ConfiguredTopology: Auto
HardALPA: 255
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 4
State: Online                           PortIdentifier: 0x010700
TopologyAttached: N-Port (Fabric Direct)
WWPN: 26-04-00-01-55-5b-3d-29           AliasWWPN: N/A
NumCurrentAlias: 0                      FabricWWNN: 10-00-c4-f5-7c-e2-70-a6
FabricWWPN: 20-07-c4-f5-7c-e2-70-a6     CurrentSpeed: 16Gb/s
LinkType: Laser Short Wave              ConfiguredLinkSpeed: Auto
ConfiguredTopology: Auto                HardALPA: 255

administrator@cli> 
<b>Verify: fc -a list -t SFP -v</b>
fc -a list -t SFP -v
-------------------------------------------------------------------------------
Controller 2 Port 1 : No SFP found

-------------------------------------------------------------------------------
Controller 2 Port 2 : No SFP found

-------------------------------------------------------------------------------
Controller 2 Port 3 : No SFP found

-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 4
Transceiver: SFP                        Connector: LC
TransCode: 00-00-00-00-40-40-04-70      SerialEncoding: 64B66B
BitRate: 14.0 Gb/s                      ManufacturingDateCode: 170518
LinkLength_9/125um: 0 m                 LinkLength_50/125um: 30 m
LinkLength_62.5/125um: 0 m              VendorName: BROCADE
VendorOUI: 00-05-1e                     VendorPartNum: 57-0000088-01
VendorRevision: A                       VendorSerialNum: HAF317200000J34

administrator@cli> 
<b>Verify: fc -a list -t stats -v</b>
fc -a list -t stats -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 1
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 2
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 3
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 4
LinkFailureCount: 1                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0

administrator@cli> 
<b>Verify: fc -a list -t device -v</b>
fc -a list -t device -v
Error (0x2013): Invalid setting parameters
-t: invalid setting device (node|port|stats|sfp|loggedininitiators|loggedintargets|allinitiators)

administrator@cli> 
<font color="red">Fail: fc -a list -t device -v</font>
<b>Verify: fc -a list -t fabricdevices -v</b>
fc -a list -t fabricdevices -v
Error (0x2013): Invalid setting parameters
-t: invalid setting fabricdevices (node|port|stats|sfp|loggedininitiators|loggedintargets|allinitiators)

administrator@cli> 
<font color="red">Fail: fc -a list -t fabricdevices -v</font>
<b>Verify: fc -a list -v</b>
fc -a list -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 1
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-07-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: Auto               ConfiguredTopology: Auto
HardALPA: 255
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 2
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-06-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: Auto               ConfiguredTopology: Auto
HardALPA: 255
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 3
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-05-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: Auto               ConfiguredTopology: Auto
HardALPA: 255
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 4
State: Online                           PortIdentifier: 0x010700
TopologyAttached: N-Port (Fabric Direct)
WWPN: 26-04-00-01-55-5b-3d-29           AliasWWPN: N/A
NumCurrentAlias: 0                      FabricWWNN: 10-00-c4-f5-7c-e2-70-a6
FabricWWPN: 20-07-c4-f5-7c-e2-70-a6     CurrentSpeed: 16Gb/s
LinkType: Laser Short Wave              ConfiguredLinkSpeed: Auto
ConfiguredTopology: Auto                HardALPA: 255

administrator@cli> 
<b>Verify: fc -a list -t port -p 3 -v</b>
fc -a list -t port -p 3 -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 3
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-05-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: Auto               ConfiguredTopology: Auto
HardALPA: 255

administrator@cli> 

<font color="red">Fail: Verify fc -a list -v</font>
'result': 'f'
<b> Verify fc -a mod -i 2 -t port -p 1 -s "linkspeed=4gb,topology=nlport,hardalpa=0"</b>
fc -a mod -i 2 -t port -p 1 -s "linkspeed=4gb,topology=nlport,hardalpa=0"

administrator@cli> 
fc -t port -i 2 -t port -p 1 -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 1
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-07-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: 4 Gb/s             ConfiguredTopology: NL-Port
HardALPA: 0

administrator@cli> 
<b> Verify fc -a mod -i 2 -t port -p 1 -s "linkspeed=16gb,topology=nport,hardalpa=126"</b>
fc -a mod -i 2 -t port -p 1 -s "linkspeed=16gb,topology=nport,hardalpa=126"

administrator@cli> 
fc -t port -i 2 -t port -p 1 -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 1
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-07-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: 16 Gb/s            ConfiguredTopology: N-Port
HardALPA: 126

administrator@cli> 
<b> Verify fc -a mod -i 2 -t port -p 1 -s "linkspeed=auto,topology=auto,hardalpa=255"</b>
fc -a mod -i 2 -t port -p 1 -s "linkspeed=auto,topology=auto,hardalpa=255"

administrator@cli> 
fc -t port -i 2 -t port -p 1 -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 1
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-07-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: Auto               ConfiguredTopology: Auto
HardALPA: 255

administrator@cli> 
<b> Verify fc -a mod -i 2 -t port -p 2 -s "linkspeed=4gb,topology=nlport,hardalpa=0"</b>
fc -a mod -i 2 -t port -p 2 -s "linkspeed=4gb,topology=nlport,hardalpa=0"

administrator@cli> 
fc -t port -i 2 -t port -p 2 -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 2
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-06-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: 4 Gb/s             ConfiguredTopology: NL-Port
HardALPA: 0

administrator@cli> 
<b> Verify fc -a mod -i 2 -t port -p 2 -s "linkspeed=16gb,topology=nport,hardalpa=126"</b>
fc -a mod -i 2 -t port -p 2 -s "linkspeed=16gb,topology=nport,hardalpa=126"

administrator@cli> 
fc -t port -i 2 -t port -p 2 -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 2
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-06-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: 16 Gb/s            ConfiguredTopology: N-Port
HardALPA: 126

administrator@cli> 
<b> Verify fc -a mod -i 2 -t port -p 2 -s "linkspeed=auto,topology=auto,hardalpa=255"</b>
fc -a mod -i 2 -t port -p 2 -s "linkspeed=auto,topology=auto,hardalpa=255"

administrator@cli> 
fc -t port -i 2 -t port -p 2 -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 2
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-06-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: Auto               ConfiguredTopology: Auto
HardALPA: 255

administrator@cli> 
<b> Verify fc -a mod -i 2 -t port -p 3 -s "linkspeed=4gb,topology=nlport,hardalpa=0"</b>
fc -a mod -i 2 -t port -p 3 -s "linkspeed=4gb,topology=nlport,hardalpa=0"

administrator@cli> 
fc -t port -i 2 -t port -p 3 -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 3
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-05-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: 4 Gb/s             ConfiguredTopology: NL-Port
HardALPA: 0

administrator@cli> 
<b> Verify fc -a mod -i 2 -t port -p 3 -s "linkspeed=16gb,topology=nport,hardalpa=126"</b>
fc -a mod -i 2 -t port -p 3 -s "linkspeed=16gb,topology=nport,hardalpa=126"

administrator@cli> 
fc -t port -i 2 -t port -p 3 -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 3
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-05-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: 16 Gb/s            ConfiguredTopology: N-Port
HardALPA: 126

administrator@cli> 
<b> Verify fc -a mod -i 2 -t port -p 3 -s "linkspeed=auto,topology=auto,hardalpa=255"</b>
fc -a mod -i 2 -t port -p 3 -s "linkspeed=auto,topology=auto,hardalpa=255"

administrator@cli> 
fc -t port -i 2 -t port -p 3 -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 3
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-05-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: Auto               ConfiguredTopology: Auto
HardALPA: 255

administrator@cli> 
<b> Verify fc -a mod -i 2 -t port -p 4 -s "linkspeed=4gb,topology=nlport,hardalpa=0"</b>
fc -a mod -i 2 -t port -p 4 -s "linkspeed=4gb,topology=nlport,hardalpa=0"

administrator@cli> 
fc -t port -i 2 -t port -p 4 -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 4
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-04-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: 4 Gb/s             ConfiguredTopology: NL-Port
HardALPA: 0

administrator@cli> 
<b> Verify fc -a mod -i 2 -t port -p 4 -s "linkspeed=16gb,topology=nport,hardalpa=126"</b>
fc -a mod -i 2 -t port -p 4 -s "linkspeed=16gb,topology=nport,hardalpa=126"

administrator@cli> 
fc -t port -i 2 -t port -p 4 -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 4
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-04-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: 16 Gb/s            ConfiguredTopology: N-Port
HardALPA: 126

administrator@cli> 
<b> Verify fc -a mod -i 2 -t port -p 4 -s "linkspeed=auto,topology=auto,hardalpa=255"</b>
fc -a mod -i 2 -t port -p 4 -s "linkspeed=auto,topology=auto,hardalpa=255"

administrator@cli> 
fc -t port -i 2 -t port -p 4 -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 4
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-04-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: Auto               ConfiguredTopology: Auto
HardALPA: 255

administrator@cli> 

<font color="green">Pass</font>
'result': 'p'
<b>Verify: fc -a reset -i 2 -p 1</b>
fc -a reset -i 2 -p 1

administrator@cli> 
fc -v -t port -i 2 -p 1
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 1
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-07-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: Auto               ConfiguredTopology: Auto
HardALPA: 255

administrator@cli> 
<b>Verify: fc -a reset -i 2 -p 2</b>
fc -a reset -i 2 -p 2

administrator@cli> 
fc -v -t port -i 2 -p 2
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 2
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-06-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: Auto               ConfiguredTopology: Auto
HardALPA: 255

administrator@cli> 
<b>Verify: fc -a reset -i 2 -p 3</b>
fc -a reset -i 2 -p 3

administrator@cli> 
fc -v -t port -i 2 -p 3
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 3
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-05-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: Auto               ConfiguredTopology: Auto
HardALPA: 255

administrator@cli> 
<b>Verify: fc -a reset -i 2 -p 4</b>
fc -a reset -i 2 -p 4

administrator@cli> 
fc -v -t port -i 2 -p 4
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 4
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-04-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: Auto               ConfiguredTopology: Auto
HardALPA: 255

administrator@cli> 

<font color="green">Pass</font>
'result': 'p'
<b>Verify: fc -a clear -i 2 -p 1</b>
fc -a clear -i 2 -p 1

administrator@cli> 
fc -v -t stats -i 2 -p 1
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 1
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0

administrator@cli> 
<b>Verify: fc -a clear -i 2 -p 2</b>
fc -a clear -i 2 -p 2

administrator@cli> 
fc -v -t stats -i 2 -p 2
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 2
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0

administrator@cli> 
<b>Verify: fc -a clear -i 2 -p 3</b>
fc -a clear -i 2 -p 3

administrator@cli> 
fc -v -t stats -i 2 -p 3
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 3
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0

administrator@cli> 
<b>Verify: fc -a clear -i 2 -p 4</b>
fc -a clear -i 2 -p 4

administrator@cli> 
fc -v -t stats -i 2 -p 4
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 4
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0

administrator@cli> 

<font color="green">Pass</font>
'result': 'p'
<b>Verify fc invalid option</b>
<b> Verify fc -x</b>
fc -x
Error (0x2012): Invalid option for the command or the action
invalid option: -x

administrator@cli> 
<b> Verify fc -a list -x</b>
fc -a list -x
Error (0x2012): Invalid option for the command or the action
invalid option: -x

administrator@cli> 
<b> Verify fc -a mod -x</b>
fc -a mod -x
Error (0x2012): Invalid option for the command or the action
invalid option: -x

administrator@cli> 
<b> Verify fc -a reset -x</b>
fc -a reset -x
Error (0x2012): Invalid option for the command or the action
invalid option: -x

administrator@cli> 
<b> Verify fc -a clear -x</b>
fc -a clear -x
Error (0x2012): Invalid option for the command or the action
invalid option: -x

administrator@cli> 

<font color="green">Pass</font>
'result': 'p'
<b>Verify fc invalid parameters</b>
<b> Verify fc test</b>
fc test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 
<b> Verify fc -a list test</b>
fc -a list test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 
<b> Verify fc -a mod test</b>
fc -a mod test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 
<b> Verify fc -a reset test</b>
fc -a reset test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 
<b> Verify fc -a clear test</b>
fc -a clear test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 
<b> Verify fc -i 3 -t port</b>
fc -i 3 -t port
Error (0x2013): Invalid setting parameters
-i: invalid setting 3 (1,2)

administrator@cli> 
<b> Verify fc -i 2 -t port -p 5</b>
fc -i 2 -t port -p 5
Error (0x2013): Invalid setting parameters
-p: invalid setting 5 (1,4)

administrator@cli> 

<font color="green">Pass</font>
'result': 'p'
<b>Verify fc missing parameters</b>
<b> Verify fc -a list -p</b>
fc -a list -p
Error (0x403): Missing parameter
-p: missing value

administrator@cli> 
<b> Verify fc -a mod -i</b>
fc -a mod -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 
<b> Verify fc -a reset -i</b>
fc -a reset -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 
<b> Verify fc -a clear -p</b>
fc -a clear -p
Error (0x403): Missing parameter
-p: missing value

administrator@cli> 

<font color="green">Pass</font>
'result': 'p'

Expect: all of fc info should be displayed

fc
===============================================================================
CtrlId Port   State     WWPN                          
===============================================================================
2      1      Offline   26-07-00-01-55-5b-3d-29                                
2      2      Offline   26-06-00-01-55-5b-3d-29                                
2      3      Offline   26-05-00-01-55-5b-3d-29                                
2      4      Online    26-04-00-01-55-5b-3d-29                                

administrator@cli> 

Expect: Display fc node information

fc -t node
-------------------------------------------------------------------------------
WWNN: 25-01-00-01-55-5b-3d-29           SupportedFCClass: Class Of Service 3
MaxFrameSize: 2048                      SpeedSupported: 16Gb/s, 8Gb/s, 4Gb/s

administrator@cli> 

Expect: Specifies fc port as the device type to display or modify information

fc -t port
===============================================================================
CtrlId Port   State     WWPN                          
===============================================================================
2      1      Offline   26-07-00-01-55-5b-3d-29                                
2      2      Offline   26-06-00-01-55-5b-3d-29                                
2      3      Offline   26-05-00-01-55-5b-3d-29                                
2      4      Online    26-04-00-01-55-5b-3d-29                                

administrator@cli> 

Expect: Display port SFP information

fc -t sfp
-------------------------------------------------------------------------------
Controller 2 Port 1 : No SFP found

-------------------------------------------------------------------------------
Controller 2 Port 2 : No SFP found

-------------------------------------------------------------------------------
Controller 2 Port 3 : No SFP found

-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 4
Transceiver: SFP                        Connector: LC
TransCode: 00-00-00-00-40-40-04-70      SerialEncoding: 64B66B
BitRate: 14.0 Gb/s                      ManufacturingDateCode: 170518
LinkLength_9/125um: 0 m                 LinkLength_50/125um: 30 m
LinkLength_62.5/125um: 0 m              VendorName: BROCADE
VendorOUI: 00-05-1e                     VendorPartNum: 57-0000088-01
VendorRevision: A                       VendorSerialNum: HAF317200000J34

administrator@cli> 

Expect: Display port statistics information

fc -t stats
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 1
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 2
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 3
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 4
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0

administrator@cli> 

Expect: Display port logged in initiator information

fc -t loggedininitiators
-------------------------------------------------------------------------------
No devices logged in

administrator@cli> 

Expect: Display port logged in target information

fc -t loggedintargets
-------------------------------------------------------------------------------
No targets logged in

administrator@cli> 

Expect: Display initiator list from fibre switch

fc -t allinitiators
===============================================================================
Index   CtrlId  PortId  WWPN                          
===============================================================================
1       2       4       26-05-00-01-55-5b-3c-fc                                
2       2       4       26-04-00-01-55-5b-3d-29                                
3       2       4       26-01-00-01-55-00-00-00                                
4       2       4       26-02-00-01-55-00-00-00                                

administrator@cli> 

Expect: 

fc -t 
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Fail: fc -t 


Expect: 

fc -t 
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Fail: fc -t 


Expect: 

fc -t 
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Fail: fc -t 


Expect: 

fc -t 
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Fail: fc -t 


Expect: 

fc -t 
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Fail: fc -t 


Expect: 

fc -t 
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Fail: fc -t 


Expect: 

fc -t 
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Fail: fc -t 

'result': 'f'

Expect: all of fc info should be displayed

fc
===============================================================================
CtrlId Port   State     WWPN                          
===============================================================================
2      1      Offline   26-07-00-01-55-5b-3d-29                                
2      2      Offline   26-06-00-01-55-5b-3d-29                                
2      3      Offline   26-05-00-01-55-5b-3d-29                                
2      4      Online    26-04-00-01-55-5b-3d-29                                

administrator@cli> 

Expect: Display fc node information

fc -t node
-------------------------------------------------------------------------------
WWNN: 25-01-00-01-55-5b-3d-29           SupportedFCClass: Class Of Service 3
MaxFrameSize: 2048                      SpeedSupported: 16Gb/s, 8Gb/s, 4Gb/s

administrator@cli> 

Expect: Specifies fc port as the device type to display or modify information

fc -t port
===============================================================================
CtrlId Port   State     WWPN                          
===============================================================================
2      1      Offline   26-07-00-01-55-5b-3d-29                                
2      2      Offline   26-06-00-01-55-5b-3d-29                                
2      3      Offline   26-05-00-01-55-5b-3d-29                                
2      4      Online    26-04-00-01-55-5b-3d-29                                

administrator@cli> 

Expect: Display port SFP information

fc -t sfp
-------------------------------------------------------------------------------
Controller 2 Port 1 : No SFP found

-------------------------------------------------------------------------------
Controller 2 Port 2 : No SFP found

-------------------------------------------------------------------------------
Controller 2 Port 3 : No SFP found

-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 4
Transceiver: SFP                        Connector: LC
TransCode: 00-00-00-00-40-40-04-70      SerialEncoding: 64B66B
BitRate: 14.0 Gb/s                      ManufacturingDateCode: 170518
LinkLength_9/125um: 0 m                 LinkLength_50/125um: 30 m
LinkLength_62.5/125um: 0 m              VendorName: BROCADE
VendorOUI: 00-05-1e                     VendorPartNum: 57-0000088-01
VendorRevision: A                       VendorSerialNum: HAF317200000J34

administrator@cli> 

Expect: Display port statistics information

fc -t stats
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 1
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 2
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 3
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 4
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0

administrator@cli> 

Expect: Display port logged in initiator information

fc -t loggedininitiators
-------------------------------------------------------------------------------
No devices logged in

administrator@cli> 

Expect: Display port logged in target information

fc -t loggedintargets
-------------------------------------------------------------------------------
No targets logged in

administrator@cli> 

Expect: Display initiator list from fibre switch

fc -t allinitiators
===============================================================================
Index   CtrlId  PortId  WWPN                          
===============================================================================
1       2       4       26-05-00-01-55-5b-3c-fc                                
2       2       4       26-04-00-01-55-5b-3d-29                                
3       2       4       26-01-00-01-55-00-00-00                                
4       2       4       26-02-00-01-55-00-00-00                                

administrator@cli> 

Expect: 

fc -t 
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Fail: fc -t 


Expect: 

fc -t 
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Fail: fc -t 


Expect: 

fc -t 
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Fail: fc -t 


Expect: 

fc -t 
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Fail: fc -t 


Expect: 

fc -t 
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Fail: fc -t 


Expect: 

fc -t 
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Fail: fc -t 


Expect: 

fc -t 
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Fail: fc -t 

'result': 'f'

Expect: all of fc info should be displayed

fc
===============================================================================
CtrlId Port   State     WWPN                          
===============================================================================
2      1      Offline   26-07-00-01-55-5b-3d-29                                
2      2      Offline   26-06-00-01-55-5b-3d-29                                
2      3      Offline   26-05-00-01-55-5b-3d-29                                
2      4      Online    26-04-00-01-55-5b-3d-29                                

administrator@cli> 

Expect: Display fc node information

fc -t node
-------------------------------------------------------------------------------
WWNN: 25-01-00-01-55-5b-3d-29           SupportedFCClass: Class Of Service 3
MaxFrameSize: 2048                      SpeedSupported: 16Gb/s, 8Gb/s, 4Gb/s

administrator@cli> 

Expect: Specifies fc port as the device type to display or modify information

fc -t port
===============================================================================
CtrlId Port   State     WWPN                          
===============================================================================
2      1      Offline   26-07-00-01-55-5b-3d-29                                
2      2      Offline   26-06-00-01-55-5b-3d-29                                
2      3      Offline   26-05-00-01-55-5b-3d-29                                
2      4      Online    26-04-00-01-55-5b-3d-29                                

administrator@cli> 

Expect: Display port SFP information

fc -t sfp
-------------------------------------------------------------------------------
Controller 2 Port 1 : No SFP found

-------------------------------------------------------------------------------
Controller 2 Port 2 : No SFP found

-------------------------------------------------------------------------------
Controller 2 Port 3 : No SFP found

-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 4
Transceiver: SFP                        Connector: LC
TransCode: 00-00-00-00-40-40-04-70      SerialEncoding: 64B66B
BitRate: 14.0 Gb/s                      ManufacturingDateCode: 170518
LinkLength_9/125um: 0 m                 LinkLength_50/125um: 30 m
LinkLength_62.5/125um: 0 m              VendorName: BROCADE
VendorOUI: 00-05-1e                     VendorPartNum: 57-0000088-01
VendorRevision: A                       VendorSerialNum: HAF317200000J34

administrator@cli> 

Expect: Display port statistics information

fc -t stats
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 1
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 2
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 3
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 4
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0

administrator@cli> 

Expect: Display port logged in initiator information

fc -t loggedininitiators
-------------------------------------------------------------------------------
No devices logged in

administrator@cli> 

Expect: Display port logged in target information

fc -t loggedintargets
-------------------------------------------------------------------------------
No targets logged in

administrator@cli> 

Expect: Display initiator list from fibre switch

fc -t allinitiators
===============================================================================
Index   CtrlId  PortId  WWPN                          
===============================================================================
1       2       4       26-05-00-01-55-5b-3c-fc                                
2       2       4       26-04-00-01-55-5b-3d-29                                
3       2       4       26-01-00-01-55-00-00-00                                
4       2       4       26-02-00-01-55-00-00-00                                

administrator@cli> 

Expect: port 1 info should be listed on ctrl 2

fc -i 2 -t port -p 1 
===============================================================================
CtrlId Port   State     WWPN                          
===============================================================================
2      1      Offline   26-07-00-01-55-5b-3d-29                                

administrator@cli> 

Expect: port 2 info should be listed on ctrl 2

fc -i 2 -t port -p 2
===============================================================================
CtrlId Port   State     WWPN                          
===============================================================================
2      2      Offline   26-06-00-01-55-5b-3d-29                                

administrator@cli> 

Expect: port 3 info should be listed on ctrl 2

fc -i 2 -t port -p 3
===============================================================================
CtrlId Port   State     WWPN                          
===============================================================================
2      3      Offline   26-05-00-01-55-5b-3d-29                                

administrator@cli> 

Expect: port 4 info should be listed on ctrl 2

fc -i 2 -t port -p 4
===============================================================================
CtrlId Port   State     WWPN                          
===============================================================================
2      4      Online    26-04-00-01-55-5b-3d-29                                

administrator@cli> 
'result': 'p'

Expect: all of fc info should be displayed by verbose mode

fc -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 1
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-07-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: Auto               ConfiguredTopology: Auto
HardALPA: 255
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 2
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-06-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: Auto               ConfiguredTopology: Auto
HardALPA: 255
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 3
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-05-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: Auto               ConfiguredTopology: Auto
HardALPA: 255
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 4
State: Online                           PortIdentifier: 0x010700
TopologyAttached: N-Port (Fabric Direct)
WWPN: 26-04-00-01-55-5b-3d-29           AliasWWPN: N/A
NumCurrentAlias: 0                      FabricWWNN: 10-00-c4-f5-7c-e2-70-a6
FabricWWPN: 20-07-c4-f5-7c-e2-70-a6     CurrentSpeed: 16Gb/s
LinkType: Laser Short Wave              ConfiguredLinkSpeed: Auto
ConfiguredTopology: Auto                HardALPA: 255

administrator@cli> 

Expect: Display fc node information by verbose mode

fc -t node -v
-------------------------------------------------------------------------------
WWNN: 25-01-00-01-55-5b-3d-29           SupportedFCClass: Class Of Service 3
MaxFrameSize: 2048                      SpeedSupported: 16Gb/s, 8Gb/s, 4Gb/s

administrator@cli> 

Expect: Specifies fc port as the device type to display or modify information by verbose mode

fc -t port -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 1
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-07-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: Auto               ConfiguredTopology: Auto
HardALPA: 255
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 2
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-06-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: Auto               ConfiguredTopology: Auto
HardALPA: 255
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 3
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-05-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: Auto               ConfiguredTopology: Auto
HardALPA: 255
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 4
State: Online                           PortIdentifier: 0x010700
TopologyAttached: N-Port (Fabric Direct)
WWPN: 26-04-00-01-55-5b-3d-29           AliasWWPN: N/A
NumCurrentAlias: 0                      FabricWWNN: 10-00-c4-f5-7c-e2-70-a6
FabricWWPN: 20-07-c4-f5-7c-e2-70-a6     CurrentSpeed: 16Gb/s
LinkType: Laser Short Wave              ConfiguredLinkSpeed: Auto
ConfiguredTopology: Auto                HardALPA: 255

administrator@cli> 

Expect: Display port SFP information by verbose mode

fc -t sfp -v
-------------------------------------------------------------------------------
Controller 2 Port 1 : No SFP found

-------------------------------------------------------------------------------
Controller 2 Port 2 : No SFP found

-------------------------------------------------------------------------------
Controller 2 Port 3 : No SFP found

-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 4
Transceiver: SFP                        Connector: LC
TransCode: 00-00-00-00-40-40-04-70      SerialEncoding: 64B66B
BitRate: 14.0 Gb/s                      ManufacturingDateCode: 170518
LinkLength_9/125um: 0 m                 LinkLength_50/125um: 30 m
LinkLength_62.5/125um: 0 m              VendorName: BROCADE
VendorOUI: 00-05-1e                     VendorPartNum: 57-0000088-01
VendorRevision: A                       VendorSerialNum: HAF317200000J34

administrator@cli> 

Expect: Display port statistics information by verbose mode

fc -t stats -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 1
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 2
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 3
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 4
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0

administrator@cli> 

Expect: Display port logged in initiator information by verbose mode

fc -t loggedininitiators -v
-------------------------------------------------------------------------------
No devices logged in

administrator@cli> 

Expect: Display port logged in target information by verbose mode

fc -t loggedintargets -v
-------------------------------------------------------------------------------
No targets logged in

administrator@cli> 

Expect: Display initiator list from fibre switch by verbose mode

fc -t allinitiators -v
-------------------------------------------------------------------------------
Index: 1                                CtrlId: 2
PortId: 4                               WWPN: 26-05-00-01-55-5b-3c-fc
WWNN: 25-01-00-01-55-5b-3c-fc           NPortId: 0x010100
SymbolicName: Promise VTrak 16G FC product
-------------------------------------------------------------------------------
Index: 2                                CtrlId: 2
PortId: 4                               WWPN: 26-04-00-01-55-5b-3d-29
WWNN: 25-01-00-01-55-5b-3d-29           NPortId: 0x010700
SymbolicName: Promise VTrak 16G FC product
-------------------------------------------------------------------------------
Index: 3                                CtrlId: 2
PortId: 4                               WWPN: 26-01-00-01-55-00-00-00
WWNN: 25-00-00-01-55-00-00-00           NPortId: 0x010a00
SymbolicName: Promise VTrak 16G FC product
-------------------------------------------------------------------------------
Index: 4                                CtrlId: 2
PortId: 4                               WWPN: 26-02-00-01-55-00-00-00
WWNN: 25-00-00-01-55-00-00-00           NPortId: 0x010b00
SymbolicName: Promise VTrak 16G FC product

administrator@cli> 

Expect: port 1 info should be listed on ctrl 2 by verbose mode

fc -i 2 -t port -p 1 -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 1
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-07-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: Auto               ConfiguredTopology: Auto
HardALPA: 255

administrator@cli> 

Expect: port 2 info should be listed on ctrl 2 by verbose mode

fc -i 2 -t port -p 2 -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 2
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-06-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: Auto               ConfiguredTopology: Auto
HardALPA: 255

administrator@cli> 

Expect: port 3 info should be listed on ctrl 2 by verbose mode

fc -i 2 -t port -p 3 -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 3
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-05-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: Auto               ConfiguredTopology: Auto
HardALPA: 255

administrator@cli> 

Expect: port 4 info should be listed on ctrl 2 by verbose mode

fc -i 2 -t port -p 4 -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 4
State: Online                           PortIdentifier: 0x010700
TopologyAttached: N-Port (Fabric Direct)
WWPN: 26-04-00-01-55-5b-3d-29           AliasWWPN: N/A
NumCurrentAlias: 0                      FabricWWNN: 10-00-c4-f5-7c-e2-70-a6
FabricWWPN: 20-07-c4-f5-7c-e2-70-a6     CurrentSpeed: 16Gb/s
LinkType: Laser Short Wave              ConfiguredLinkSpeed: Auto
ConfiguredTopology: Auto                HardALPA: 255

administrator@cli> 
'result': 'p'

Expect: all of fc info should be displayed by verbose mode

fc -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 1
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-07-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: Auto               ConfiguredTopology: Auto
HardALPA: 255
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 2
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-06-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: Auto               ConfiguredTopology: Auto
HardALPA: 255
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 3
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-05-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: Auto               ConfiguredTopology: Auto
HardALPA: 255
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 4
State: Online                           PortIdentifier: 0x010700
TopologyAttached: N-Port (Fabric Direct)
WWPN: 26-04-00-01-55-5b-3d-29           AliasWWPN: N/A
NumCurrentAlias: 0                      FabricWWNN: 10-00-c4-f5-7c-e2-70-a6
FabricWWPN: 20-07-c4-f5-7c-e2-70-a6     CurrentSpeed: 16Gb/s
LinkType: Laser Short Wave              ConfiguredLinkSpeed: Auto
ConfiguredTopology: Auto                HardALPA: 255

administrator@cli> 

Expect: Display fc node information by verbose mode

fc -t node -v
-------------------------------------------------------------------------------
WWNN: 25-01-00-01-55-5b-3d-29           SupportedFCClass: Class Of Service 3
MaxFrameSize: 2048                      SpeedSupported: 16Gb/s, 8Gb/s, 4Gb/s

administrator@cli> 

Expect: Specifies fc port as the device type to display or modify information by verbose mode

fc -t port -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 1
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-07-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: Auto               ConfiguredTopology: Auto
HardALPA: 255
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 2
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-06-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: Auto               ConfiguredTopology: Auto
HardALPA: 255
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 3
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-05-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: Auto               ConfiguredTopology: Auto
HardALPA: 255
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 4
State: Online                           PortIdentifier: 0x010700
TopologyAttached: N-Port (Fabric Direct)
WWPN: 26-04-00-01-55-5b-3d-29           AliasWWPN: N/A
NumCurrentAlias: 0                      FabricWWNN: 10-00-c4-f5-7c-e2-70-a6
FabricWWPN: 20-07-c4-f5-7c-e2-70-a6     CurrentSpeed: 16Gb/s
LinkType: Laser Short Wave              ConfiguredLinkSpeed: Auto
ConfiguredTopology: Auto                HardALPA: 255

administrator@cli> 

Expect: Display port SFP information by verbose mode

fc -t sfp -v
-------------------------------------------------------------------------------
Controller 2 Port 1 : No SFP found

-------------------------------------------------------------------------------
Controller 2 Port 2 : No SFP found

-------------------------------------------------------------------------------
Controller 2 Port 3 : No SFP found

-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 4
Transceiver: SFP                        Connector: LC
TransCode: 00-00-00-00-40-40-04-70      SerialEncoding: 64B66B
BitRate: 14.0 Gb/s                      ManufacturingDateCode: 170518
LinkLength_9/125um: 0 m                 LinkLength_50/125um: 30 m
LinkLength_62.5/125um: 0 m              VendorName: BROCADE
VendorOUI: 00-05-1e                     VendorPartNum: 57-0000088-01
VendorRevision: A                       VendorSerialNum: HAF317200000J34

administrator@cli> 

Expect: Display port statistics information by verbose mode

fc -t stats -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 1
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 2
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 3
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 4
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0

administrator@cli> 

Expect: Display port logged in initiator information by verbose mode

fc -t loggedininitiators -v
-------------------------------------------------------------------------------
No devices logged in

administrator@cli> 

Expect: Display port logged in target information by verbose mode

fc -t loggedintargets -v
-------------------------------------------------------------------------------
No targets logged in

administrator@cli> 

Expect: Display initiator list from fibre switch by verbose mode

fc -t allinitiators -v
-------------------------------------------------------------------------------
Index: 1                                CtrlId: 2
PortId: 4                               WWPN: 26-05-00-01-55-5b-3c-fc
WWNN: 25-01-00-01-55-5b-3c-fc           NPortId: 0x010100
SymbolicName: Promise VTrak 16G FC product
-------------------------------------------------------------------------------
Index: 2                                CtrlId: 2
PortId: 4                               WWPN: 26-04-00-01-55-5b-3d-29
WWNN: 25-01-00-01-55-5b-3d-29           NPortId: 0x010700
SymbolicName: Promise VTrak 16G FC product
-------------------------------------------------------------------------------
Index: 3                                CtrlId: 2
PortId: 4                               WWPN: 26-01-00-01-55-00-00-00
WWNN: 25-00-00-01-55-00-00-00           NPortId: 0x010a00
SymbolicName: Promise VTrak 16G FC product
-------------------------------------------------------------------------------
Index: 4                                CtrlId: 2
PortId: 4                               WWPN: 26-02-00-01-55-00-00-00
WWNN: 25-00-00-01-55-00-00-00           NPortId: 0x010b00
SymbolicName: Promise VTrak 16G FC product

administrator@cli> 

Expect: port 1 info should be listed on ctrl 2 by verbose mode

fc -i 2 -t port -p 1 -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 1
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-07-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: Auto               ConfiguredTopology: Auto
HardALPA: 255

administrator@cli> 

Expect: port 2 info should be listed on ctrl 2 by verbose mode

fc -i 2 -t port -p 2 -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 2
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-06-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: Auto               ConfiguredTopology: Auto
HardALPA: 255

administrator@cli> 

Expect: port 3 info should be listed on ctrl 2 by verbose mode

fc -i 2 -t port -p 3 -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 3
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-05-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: Auto               ConfiguredTopology: Auto
HardALPA: 255

administrator@cli> 

Expect: port 4 info should be listed on ctrl 2 by verbose mode

fc -i 2 -t port -p 4 -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 4
State: Online                           PortIdentifier: 0x010700
TopologyAttached: N-Port (Fabric Direct)
WWPN: 26-04-00-01-55-5b-3d-29           AliasWWPN: N/A
NumCurrentAlias: 0                      FabricWWNN: 10-00-c4-f5-7c-e2-70-a6
FabricWWPN: 20-07-c4-f5-7c-e2-70-a6     CurrentSpeed: 16Gb/s
LinkType: Laser Short Wave              ConfiguredLinkSpeed: Auto
ConfiguredTopology: Auto                HardALPA: 255

administrator@cli> 
'result': 'p'

Expect: port 1 should be modified by "linkspeed=4gb,topology=nlport,hardalpa=0"

fc -a mod -t port -p 1 -s "linkspeed=4gb,topology=nlport,hardalpa=0"

administrator@cli> 
fc -t port -p 1 
===============================================================================
CtrlId Port   State     WWPN                          
===============================================================================
2      1      Offline   26-07-00-01-55-5b-3d-29                                

administrator@cli> 

Expect: port 2 should be modified by "linkspeed=8gb,topology=nport,hardalpa=1"

fc -a mod -t port -p 2 -s "linkspeed=8gb,topology=nport,hardalpa=1"

administrator@cli> 
fc -t port -p 2
===============================================================================
CtrlId Port   State     WWPN                          
===============================================================================
2      2      Offline   26-06-00-01-55-5b-3d-29                                

administrator@cli> 

Expect: port 3 should be modified by "linkspeed=16gb,topology=auto,hardalpa=254"

fc -a mod -t port -p 3 -s "linkspeed=16gb,topology=auto,hardalpa=254"

administrator@cli> 
fc -t port -p 3
===============================================================================
CtrlId Port   State     WWPN                          
===============================================================================
2      3      Offline   26-05-00-01-55-5b-3d-29                                

administrator@cli> 

Expect: port 4 should be modified by "linkspeed=auto,hardalpa=255"

fc -a mod -i 2 -t port -p 4 -s "linkspeed=auto,hardalpa=255"

administrator@cli> 
fc -i 2 -t port -p 4
===============================================================================
CtrlId Port   State     WWPN                          
===============================================================================
2      4      Online    26-04-00-01-55-5b-3d-29                                

administrator@cli> 
'result': 'p'

Expect: port 1 should be modified by "linkspeed=4gb,topology=nlport,hardalpa=0"

fc -a mod -t port -p 1 -s "linkspeed=4gb,topology=nlport,hardalpa=0"

administrator@cli> 
fc -t port -p 1 -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 1
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-07-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: 4 Gb/s             ConfiguredTopology: NL-Port
HardALPA: 0

administrator@cli> 

Expect: port 2 should be modified by "linkspeed=8gb,topology=nport,hardalpa=1"

fc -a mod -t port -p 2 -s "linkspeed=8gb,topology=nport,hardalpa=1"

administrator@cli> 
fc -t port -p 2 -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 2
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-06-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: 8 Gb/s             ConfiguredTopology: N-Port
HardALPA: 1

administrator@cli> 

Expect: port 3 should be modified by "linkspeed=16gb,topology=auto,hardalpa=254"

fc -a mod -t port -p 3 -s "linkspeed=16gb,topology=auto,hardalpa=254"

administrator@cli> 
fc -t port -p 3 -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 3
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-05-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: 16 Gb/s            ConfiguredTopology: Auto
HardALPA: 254

administrator@cli> 

Expect: port 4 should be modified by "linkspeed=auto,hardalpa=255"

fc -a mod -i 2 -t port -p 4 -s "linkspeed=auto,hardalpa=255"

administrator@cli> 
fc -i 2 -t port -p 4 -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 4
State: Online                           PortIdentifier: 0x010700
TopologyAttached: N-Port (Fabric Direct)
WWPN: 26-04-00-01-55-5b-3d-29           AliasWWPN: N/A
NumCurrentAlias: 0                      FabricWWNN: 10-00-c4-f5-7c-e2-70-a6
FabricWWPN: 20-07-c4-f5-7c-e2-70-a6     CurrentSpeed: 16Gb/s
LinkType: Laser Short Wave              ConfiguredLinkSpeed: Auto
ConfiguredTopology: Auto                HardALPA: 255

administrator@cli> 
'result': 'p'

Expect: port 1 should be modified by "linkspeed=4gb,topology=nlport,hardalpa=0"

fc -a mod -t port -p 1 -s "linkspeed=4gb,topology=nlport,hardalpa=0"

administrator@cli> 
fc -t port -p 1 -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 1
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-07-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: 4 Gb/s             ConfiguredTopology: NL-Port
HardALPA: 0

administrator@cli> 

Expect: port 2 should be modified by "linkspeed=8gb,topology=nport,hardalpa=1"

fc -a mod -t port -p 2 -s "linkspeed=8gb,topology=nport,hardalpa=1"

administrator@cli> 
fc -t port -p 2 -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 2
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-06-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: 8 Gb/s             ConfiguredTopology: N-Port
HardALPA: 1

administrator@cli> 

Expect: port 3 should be modified by "linkspeed=16gb,topology=auto,hardalpa=254"

fc -a mod -t port -p 3 -s "linkspeed=16gb,topology=auto,hardalpa=254"

administrator@cli> 
fc -t port -p 3 -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 3
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-05-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: 16 Gb/s            ConfiguredTopology: Auto
HardALPA: 254

administrator@cli> 

Expect: port 4 should be modified by "linkspeed=auto,hardalpa=255"

fc -a mod -i 2 -t port -p 4 -s "linkspeed=auto,hardalpa=255"

administrator@cli> 
fc -i 2 -t port -p 4 -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 4
State: Online                           PortIdentifier: 0x010700
TopologyAttached: N-Port (Fabric Direct)
WWPN: 26-04-00-01-55-5b-3d-29           AliasWWPN: N/A
NumCurrentAlias: 0                      FabricWWNN: 10-00-c4-f5-7c-e2-70-a6
FabricWWPN: 20-07-c4-f5-7c-e2-70-a6     CurrentSpeed: 16Gb/s
LinkType: Laser Short Wave              ConfiguredLinkSpeed: Auto
ConfiguredTopology: Auto                HardALPA: 255

administrator@cli> 
'result': 'p'

Expect: port 1 should be reset

fc -a reset -i 2 -p 1

administrator@cli> 

Expect: port 2 should be reset

fc -a reset -i 2 -p 2

administrator@cli> 

Expect: port 3 should be reset

fc -a reset -i 2 -p 3

administrator@cli> 

Expect: port 4 should be reset

fc -a reset -p 4
Error (0x403): Missing parameter
missing parameter '-i' for '-a reset'

administrator@cli> 

Fail: fc -a reset -p 4

'result': 'f'

Expect: port 1 should be reset

fc -a reset -i 2 -p 1

administrator@cli> 

Expect: port 2 should be reset

fc -a reset -i 2 -p 2

administrator@cli> 

Expect: port 3 should be reset

fc -a reset -i 2 -p 3

administrator@cli> 

Expect: port 4 should be reset

fc -a reset -i 2 -p 4

administrator@cli> 
'result': 'p'

Expect: port 1 should be reset

fc -a reset -i 2 -p 1

administrator@cli> 

Expect: port 2 should be reset

fc -a reset -i 2 -p 2

administrator@cli> 

Expect: port 3 should be reset

fc -a reset -i 2 -p 3

administrator@cli> 

Expect: port 4 should be reset

fc -a reset -i 2 -p 4

administrator@cli> 
'result': 'p'

Expect: port 1 should be cleared

fc -a clear -i 2 -p 1

administrator@cli> 

Expect: port 2 should be cleared

fc -a clear -i 2 -p 2

administrator@cli> 

Expect: port 3 should be cleared

fc -a clear -i 2 -p 3

administrator@cli> 

Expect: port 4 should be cleared

fc -a clear -i 2 -p 4

administrator@cli> 
'result': 'p'

Expect: Invalid setting parameters

ctrl test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid setting parameters

fc test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid setting parameters

fc -t test
Error (0x2013): Invalid setting parameters
-t: invalid setting test (node|port|stats|sfp|loggedininitiators|loggedintargets|allinitiators)

administrator@cli> 

Expect: Invalid setting parameters

fc -t 1
Error (0x2013): Invalid setting parameters
-t: invalid setting 1 (node|port|stats|sfp|loggedininitiators|loggedintargets|allinitiators)

administrator@cli> 

Expect: Invalid setting parameters

fc -i 2 -t port -p 5 
Error (0x2013): Invalid setting parameters
-p: invalid setting 5 (1,4)

administrator@cli> 

Expect: Invalid setting parameters

fc -i 3 -t port -p 2
Error (0x2013): Invalid setting parameters
-i: invalid setting 3 (1,2)

administrator@cli> 

Expect: Invalid setting parameters

fc -i test -t port -p 3
Error (0x2013): Invalid setting parameters
-i: invalid setting test

administrator@cli> 

Expect: Invalid setting parameters

fc -i 2 -t port -p test
Error (0x2013): Invalid setting parameters
-p: invalid setting test

administrator@cli> 
'result': 'p'

Expect: Invalid setting parameters

fc test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid type setting parameters

fc -t test
Error (0x2013): Invalid setting parameters
-t: invalid setting test (node|port|stats|sfp|loggedininitiators|loggedintargets|allinitiators)

administrator@cli> 

Expect: Invalid type setting parameters

fc -t 1
Error (0x2013): Invalid setting parameters
-t: invalid setting 1 (node|port|stats|sfp|loggedininitiators|loggedintargets|allinitiators)

administrator@cli> 

Expect: Invalid port id

fc -i 2 -t port -p 5 
Error (0x2013): Invalid setting parameters
-p: invalid setting 5 (1,4)

administrator@cli> 

Expect: Invalid ctrl id

fc -i 3 -t port -p 2
Error (0x2013): Invalid setting parameters
-i: invalid setting 3 (1,2)

administrator@cli> 

Expect: Invalid setting parameters of ctrl id

fc -i test -t port -p 3
Error (0x2013): Invalid setting parameters
-i: invalid setting test

administrator@cli> 

Expect: Invalid setting parameters of port id

fc -i 2 -t port -p test
Error (0x2013): Invalid setting parameters
-p: invalid setting test

administrator@cli> 
'result': 'p'

Expect: Invalid setting parameters when executes list

fc test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid type setting parameters

fc -t test
Error (0x2013): Invalid setting parameters
-t: invalid setting test (node|port|stats|sfp|loggedininitiators|loggedintargets|allinitiators)

administrator@cli> 

Expect: Invalid type setting parameters

fc -t 1
Error (0x2013): Invalid setting parameters
-t: invalid setting 1 (node|port|stats|sfp|loggedininitiators|loggedintargets|allinitiators)

administrator@cli> 

Expect: Invalid port id

fc -i 2 -t port -p 5 
Error (0x2013): Invalid setting parameters
-p: invalid setting 5 (1,4)

administrator@cli> 

Expect: Invalid ctrl id

fc -i 3 -t port -p 2
Error (0x2013): Invalid setting parameters
-i: invalid setting 3 (1,2)

administrator@cli> 

Expect: Invalid setting parameters of ctrl id

fc -i test -t port -p 3
Error (0x2013): Invalid setting parameters
-i: invalid setting test

administrator@cli> 

Expect: Invalid setting parameters of port id

fc -i 2 -t port -p test
Error (0x2013): Invalid setting parameters
-p: invalid setting test

administrator@cli> 

Expect: Invalid setting parameters when executes modification

fc -a mod test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid type setting parameters when executes modification

fc -a mod -t test
Error (0x2013): Invalid setting parameters
-t: invalid setting test (node|port|stats|sfp|loggedininitiators|loggedintargets|allinitiators)

administrator@cli> 

Expect: Invalid port id when executes modification

fc -a mod -t port -p 5 -s "linkspeed=4gb,topology=nlport,hardalpa=0"
Error (0x2013): Invalid setting parameters
-p: invalid setting 5 (1,4)

administrator@cli> 

Expect: Invalid type of linkspeed setting parameters

fc -a mod -t port -p 2 -s "linkspeed=test"
Error (0x2013): Invalid setting parameters
linkspeed: invalid setting test (auto|4gb|8gb|16gb)

administrator@cli> 

Expect: Invalid type of topology setting parameters

fc -a mod -t port -p 3 -s "topology=test"
Error (0x2013): Invalid setting parameters
topology: invalid setting test (auto|nlport|nport)

administrator@cli> 

Expect: Invalid type of hardalpa setting parameters

fc -a mod -i 2 -t port -p 4 -s "hardalpa=256"
Error (0x2013): Invalid setting parameters
hardalpa: invalid setting 256 (0,255)

administrator@cli> 

Expect: Invalid type of hardalpa setting parameters

fc -a mod -i 2 -t port -p 4 -s "hardalpa=test"
Error (0x2013): Invalid setting parameters
hardalpa: invalid setting test

administrator@cli> 

Expect: Invalid ctrl id when executes modification

fc -a mod -i 3 -t port -p 4 -s "hardalpa=1"
Error (0x2013): Invalid setting parameters
-i: invalid setting 3 (1,2)

administrator@cli> 

Expect: Invalid setting parameters when executes reseting

fc -a reset test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid ctrl id when executes reseting

fc -a reset -i 3 -p 2
Error (0x2013): Invalid setting parameters
-i: invalid setting 3 (1,2)

administrator@cli> 

Expect: Invalid port id when executes reseting

fc -a reset -i 2 -p 5
Error (0x2013): Invalid setting parameters
-p: invalid setting 5 (1,4)

administrator@cli> 

Expect: Invalid setting parameters when executes clearing

fc -a clear test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid ctrl id when executes clearing

fc -a clear -i 3 -p 2
Error (0x2013): Invalid setting parameters
-i: invalid setting 3 (1,2)

administrator@cli> 

Expect: Invalid port id when executes clearing

fc -a clear -i 2 -p 5
Error (0x2013): Invalid setting parameters
-p: invalid setting 5 (1,4)

administrator@cli> 
'result': 'p'

Expect: Invalid setting parameters when executes list

fc test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid type setting parameters

fc -t test
Error (0x2013): Invalid setting parameters
-t: invalid setting test (node|port|stats|sfp|loggedininitiators|loggedintargets|allinitiators)

administrator@cli> 

Expect: Invalid type setting parameters

fc -t 1
Error (0x2013): Invalid setting parameters
-t: invalid setting 1 (node|port|stats|sfp|loggedininitiators|loggedintargets|allinitiators)

administrator@cli> 

Expect: Invalid port id

fc -i 2 -t port -p 5 
Error (0x2013): Invalid setting parameters
-p: invalid setting 5 (1,4)

administrator@cli> 

Expect: Invalid ctrl id

fc -i 3 -t port -p 2
Error (0x2013): Invalid setting parameters
-i: invalid setting 3 (1,2)

administrator@cli> 

Expect: Invalid setting parameters of ctrl id

fc -i test -t port -p 3
Error (0x2013): Invalid setting parameters
-i: invalid setting test

administrator@cli> 

Expect: Invalid setting parameters of port id

fc -i 2 -t port -p test
Error (0x2013): Invalid setting parameters
-p: invalid setting test

administrator@cli> 

Expect: Invalid setting parameters when executes modification

fc -a mod test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid type setting parameters when executes modification

fc -a mod -t test
Error (0x2013): Invalid setting parameters
-t: invalid setting test (node|port|stats|sfp|loggedininitiators|loggedintargets|allinitiators)

administrator@cli> 

Expect: Invalid port id when executes modification

fc -a mod -t port -p 5 -s "linkspeed=4gb,topology=nlport,hardalpa=0"
Error (0x2013): Invalid setting parameters
-p: invalid setting 5 (1,4)

administrator@cli> 

Expect: Invalid type of linkspeed setting parameters

fc -a mod -t port -p 2 -s "linkspeed=test"
Error (0x2013): Invalid setting parameters
linkspeed: invalid setting test (auto|4gb|8gb|16gb)

administrator@cli> 

Expect: Invalid type of topology setting parameters

fc -a mod -t port -p 3 -s "topology=test"
Error (0x2013): Invalid setting parameters
topology: invalid setting test (auto|nlport|nport)

administrator@cli> 

Expect: Invalid type of hardalpa setting parameters

fc -a mod -i 2 -t port -p 4 -s "hardalpa=256"
Error (0x2013): Invalid setting parameters
hardalpa: invalid setting 256 (0,255)

administrator@cli> 

Expect: Invalid type of hardalpa setting parameters

fc -a mod -i 2 -t port -p 4 -s "hardalpa=test"
Error (0x2013): Invalid setting parameters
hardalpa: invalid setting test

administrator@cli> 

Expect: Invalid ctrl id when executes modification

fc -a mod -i 3 -t port -p 4 -s "hardalpa=1"
Error (0x2013): Invalid setting parameters
-i: invalid setting 3 (1,2)

administrator@cli> 

Expect: Invalid setting parameters when executes reseting

fc -a reset test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid ctrl id when executes reseting

fc -a reset -i 3 -p 2
Error (0x2013): Invalid setting parameters
-i: invalid setting 3 (1,2)

administrator@cli> 

Expect: Invalid port id when executes reseting

fc -a reset -i 2 -p 5
Error (0x2013): Invalid setting parameters
-p: invalid setting 5 (1,4)

administrator@cli> 

Expect: Invalid setting parameters when executes clearing

fc -a clear test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid ctrl id when executes clearing

fc -a clear -i 3 -p 2
Error (0x2013): Invalid setting parameters
-i: invalid setting 3 (1,2)

administrator@cli> 

Expect: Invalid port id when executes clearing

fc -a clear -i 2 -p 5
Error (0x2013): Invalid setting parameters
-p: invalid setting 5 (1,4)

administrator@cli> 
'result': 'p'

Expect: Invalid setting parameters when executes list

fc test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid type setting parameters

fc -t test
Error (0x2013): Invalid setting parameters
-t: invalid setting test (node|port|stats|sfp|loggedininitiators|loggedintargets|allinitiators)

administrator@cli> 

Expect: Invalid type setting parameters

fc -t 1
Error (0x2013): Invalid setting parameters
-t: invalid setting 1 (node|port|stats|sfp|loggedininitiators|loggedintargets|allinitiators)

administrator@cli> 

Expect: Invalid port id

fc -i 2 -t port -p 5 
Error (0x2013): Invalid setting parameters
-p: invalid setting 5 (1,4)

administrator@cli> 

Expect: Invalid ctrl id

fc -i 3 -t port -p 2
Error (0x2013): Invalid setting parameters
-i: invalid setting 3 (1,2)

administrator@cli> 

Expect: Invalid setting parameters of ctrl id

fc -i test -t port -p 3
Error (0x2013): Invalid setting parameters
-i: invalid setting test

administrator@cli> 

Expect: Invalid setting parameters of port id

fc -i 2 -t port -p test
Error (0x2013): Invalid setting parameters
-p: invalid setting test

administrator@cli> 

Expect: Invalid setting parameters when executes modification

fc -a mod test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid type setting parameters when executes modification

fc -a mod -t test
Error (0x2013): Invalid setting parameters
-t: invalid setting test (node|port|stats|sfp|loggedininitiators|loggedintargets|allinitiators)

administrator@cli> 

Expect: Invalid port id when executes modification

fc -a mod -t port -p 5 -s "linkspeed=4gb,topology=nlport,hardalpa=0"
Error (0x2013): Invalid setting parameters
-p: invalid setting 5 (1,4)

administrator@cli> 

Expect: Invalid type of linkspeed setting parameters

fc -a mod -t port -p 2 -s "linkspeed=test"
Error (0x2013): Invalid setting parameters
linkspeed: invalid setting test (auto|4gb|8gb|16gb)

administrator@cli> 

Expect: Invalid type of topology setting parameters

fc -a mod -t port -p 3 -s "topology=test"
Error (0x2013): Invalid setting parameters
topology: invalid setting test (auto|nlport|nport)

administrator@cli> 

Expect: Invalid type of hardalpa setting parameters

fc -a mod -i 2 -t port -p 4 -s "hardalpa=256"
Error (0x2013): Invalid setting parameters
hardalpa: invalid setting 256 (0,255)

administrator@cli> 

Expect: Invalid type of hardalpa setting parameters

fc -a mod -i 2 -t port -p 4 -s "hardalpa=test"
Error (0x2013): Invalid setting parameters
hardalpa: invalid setting test

administrator@cli> 

Expect: Invalid ctrl id when executes modification

fc -a mod -i 3 -t port -p 4 -s "hardalpa=1"
Error (0x2013): Invalid setting parameters
-i: invalid setting 3 (1,2)

administrator@cli> 

Expect: invalid fc setting type

fc -a mod -t node -p 2 -s "linkspeed=4gb"
Error (0x402): Invalid parameter
invalid fc setting type

administrator@cli> 

Expect: Invalid setting parameters when executes reseting

fc -a reset test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid ctrl id when executes reseting

fc -a reset -i 3 -p 2
Error (0x2013): Invalid setting parameters
-i: invalid setting 3 (1,2)

administrator@cli> 

Expect: Invalid port id when executes reseting

fc -a reset -i 2 -p 5
Error (0x2013): Invalid setting parameters
-p: invalid setting 5 (1,4)

administrator@cli> 

Expect: Invalid setting parameters when executes clearing

fc -a clear test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid ctrl id when executes clearing

fc -a clear -i 3 -p 2
Error (0x2013): Invalid setting parameters
-i: invalid setting 3 (1,2)

administrator@cli> 

Expect: Invalid port id when executes clearing

fc -a clear -i 2 -p 5
Error (0x2013): Invalid setting parameters
-p: invalid setting 5 (1,4)

administrator@cli> 
'result': 'p'

Expect: Invalid setting parameters when executes list

fc test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid type setting parameters

fc -1
Error (0x2013): Invalid setting parameters
invalid setting: -1

administrator@cli> 

Fail: please check out Invalid type setting parameters


Expect: Invalid type setting parameters

fc -t test
Error (0x2013): Invalid setting parameters
-t: invalid setting test (node|port|stats|sfp|loggedininitiators|loggedintargets|allinitiators)

administrator@cli> 

Expect: Invalid type setting parameters

fc -t 1
Error (0x2013): Invalid setting parameters
-t: invalid setting 1 (node|port|stats|sfp|loggedininitiators|loggedintargets|allinitiators)

administrator@cli> 

Expect: Invalid port id

fc -i 2 -t port -p 5 
Error (0x2013): Invalid setting parameters
-p: invalid setting 5 (1,4)

administrator@cli> 

Expect: Invalid ctrl id

fc -i 3 -t port -p 2
Error (0x2013): Invalid setting parameters
-i: invalid setting 3 (1,2)

administrator@cli> 

Expect: Invalid setting parameters of ctrl id

fc -i test -t port -p 3
Error (0x2013): Invalid setting parameters
-i: invalid setting test

administrator@cli> 

Expect: Invalid setting parameters of port id

fc -i 2 -t port -p test
Error (0x2013): Invalid setting parameters
-p: invalid setting test

administrator@cli> 

Expect: Invalid setting parameters when executes modification

fc -a mod test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid type setting parameters when executes modification

fc -a mod -t test
Error (0x2013): Invalid setting parameters
-t: invalid setting test (node|port|stats|sfp|loggedininitiators|loggedintargets|allinitiators)

administrator@cli> 

Expect: Invalid port id when executes modification

fc -a mod -t port -p 5 -s "linkspeed=4gb,topology=nlport,hardalpa=0"
Error (0x2013): Invalid setting parameters
-p: invalid setting 5 (1,4)

administrator@cli> 

Expect: Invalid type of linkspeed setting parameters

fc -a mod -t port -p 2 -s "linkspeed=test"
Error (0x2013): Invalid setting parameters
linkspeed: invalid setting test (auto|4gb|8gb|16gb)

administrator@cli> 

Expect: Invalid type of topology setting parameters

fc -a mod -t port -p 3 -s "topology=test"
Error (0x2013): Invalid setting parameters
topology: invalid setting test (auto|nlport|nport)

administrator@cli> 

Expect: Invalid type of hardalpa setting parameters

fc -a mod -i 2 -t port -p 4 -s "hardalpa=256"
Error (0x2013): Invalid setting parameters
hardalpa: invalid setting 256 (0,255)

administrator@cli> 

Expect: Invalid type of hardalpa setting parameters

fc -a mod -i 2 -t port -p 4 -s "hardalpa=test"
Error (0x2013): Invalid setting parameters
hardalpa: invalid setting test

administrator@cli> 

Expect: Invalid ctrl id when executes modification

fc -a mod -i 3 -t port -p 4 -s "hardalpa=1"
Error (0x2013): Invalid setting parameters
-i: invalid setting 3 (1,2)

administrator@cli> 

Expect: invalid fc setting type

fc -a mod -t node -p 2 -s "linkspeed=4gb"
Error (0x402): Invalid parameter
invalid fc setting type

administrator@cli> 

Expect: Invalid setting parameters when executes reseting

fc -a reset test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid ctrl id when executes reseting

fc -a reset -i 3 -p 2
Error (0x2013): Invalid setting parameters
-i: invalid setting 3 (1,2)

administrator@cli> 

Expect: Invalid port id when executes reseting

fc -a reset -i 2 -p 5
Error (0x2013): Invalid setting parameters
-p: invalid setting 5 (1,4)

administrator@cli> 

Expect: Invalid setting parameters when executes clearing

fc -a clear test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid ctrl id when executes clearing

fc -a clear -i 3 -p 2
Error (0x2013): Invalid setting parameters
-i: invalid setting 3 (1,2)

administrator@cli> 

Expect: Invalid port id when executes clearing

fc -a clear -i 2 -p 5
Error (0x2013): Invalid setting parameters
-p: invalid setting 5 (1,4)

administrator@cli> 
'result': 'f'

Expect: Invalid setting parameters when executes list

fc test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid setting parameters

fc -1
Error (0x2013): Invalid setting parameters
invalid setting: -1

administrator@cli> 

Expect: Invalid type setting parameters

fc -t test
Error (0x2013): Invalid setting parameters
-t: invalid setting test (node|port|stats|sfp|loggedininitiators|loggedintargets|allinitiators)

administrator@cli> 

Expect: Invalid type setting parameters

fc -t 1
Error (0x2013): Invalid setting parameters
-t: invalid setting 1 (node|port|stats|sfp|loggedininitiators|loggedintargets|allinitiators)

administrator@cli> 

Expect: Invalid port id

fc -i 2 -t port -p 5 
Error (0x2013): Invalid setting parameters
-p: invalid setting 5 (1,4)

administrator@cli> 

Expect: Invalid ctrl id

fc -i 3 -t port -p 2
Error (0x2013): Invalid setting parameters
-i: invalid setting 3 (1,2)

administrator@cli> 

Expect: Invalid setting parameters of ctrl id

fc -i test -t port -p 3
Error (0x2013): Invalid setting parameters
-i: invalid setting test

administrator@cli> 

Expect: Invalid setting parameters of port id

fc -i 2 -t port -p test
Error (0x2013): Invalid setting parameters
-p: invalid setting test

administrator@cli> 

Expect: Invalid setting parameters when executes modification

fc -a mod test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid type setting parameters when executes modification

fc -a mod -t test
Error (0x2013): Invalid setting parameters
-t: invalid setting test (node|port|stats|sfp|loggedininitiators|loggedintargets|allinitiators)

administrator@cli> 

Expect: Invalid port id when executes modification

fc -a mod -t port -p 5 -s "linkspeed=4gb,topology=nlport,hardalpa=0"
Error (0x2013): Invalid setting parameters
-p: invalid setting 5 (1,4)

administrator@cli> 

Expect: Invalid type of linkspeed setting parameters

fc -a mod -t port -p 2 -s "linkspeed=test"
Error (0x2013): Invalid setting parameters
linkspeed: invalid setting test (auto|4gb|8gb|16gb)

administrator@cli> 

Expect: Invalid type of topology setting parameters

fc -a mod -t port -p 3 -s "topology=test"
Error (0x2013): Invalid setting parameters
topology: invalid setting test (auto|nlport|nport)

administrator@cli> 

Expect: Invalid type of hardalpa setting parameters

fc -a mod -i 2 -t port -p 4 -s "hardalpa=256"
Error (0x2013): Invalid setting parameters
hardalpa: invalid setting 256 (0,255)

administrator@cli> 

Expect: Invalid type of hardalpa setting parameters

fc -a mod -i 2 -t port -p 4 -s "hardalpa=test"
Error (0x2013): Invalid setting parameters
hardalpa: invalid setting test

administrator@cli> 

Expect: Invalid ctrl id when executes modification

fc -a mod -i 3 -t port -p 4 -s "hardalpa=1"
Error (0x2013): Invalid setting parameters
-i: invalid setting 3 (1,2)

administrator@cli> 

Expect: invalid fc setting type

fc -a mod -t node -p 2 -s "linkspeed=4gb"
Error (0x402): Invalid parameter
invalid fc setting type

administrator@cli> 

Expect: Invalid setting parameters when executes reseting

fc -a reset test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid ctrl id when executes reseting

fc -a reset -i 3 -p 2
Error (0x2013): Invalid setting parameters
-i: invalid setting 3 (1,2)

administrator@cli> 

Expect: Invalid port id when executes reseting

fc -a reset -i 2 -p 5
Error (0x2013): Invalid setting parameters
-p: invalid setting 5 (1,4)

administrator@cli> 

Expect: Invalid setting parameters when executes clearing

fc -a clear test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid ctrl id when executes clearing

fc -a clear -i 3 -p 2
Error (0x2013): Invalid setting parameters
-i: invalid setting 3 (1,2)

administrator@cli> 

Expect: Invalid port id when executes clearing

fc -a clear -i 2 -p 5
Error (0x2013): Invalid setting parameters
-p: invalid setting 5 (1,4)

administrator@cli> 
'result': 'p'

Expect: Invalid option for the command or the action

fc -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

fc -i 2 -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

fc -a mod -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

fc -a mod -t port -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

fc -a mod -i 2 -t port -p 4 -s "test=auto"
Error (0x2012): Invalid option for the command or the action
-s: invalid option: test

administrator@cli> 

Expect: Invalid option for the command or the action

fc -a reset -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

fc -a reset -i 3 -test
Error (0x2013): Invalid setting parameters
-i: invalid setting 3 (1,2)

administrator@cli> 

Fail: please check out Invalid option for the command or the action


Expect: Invalid option for the command or the action

fc -a clear -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

fc -a clear -i 3 -test
Error (0x2013): Invalid setting parameters
-i: invalid setting 3 (1,2)

administrator@cli> 

Fail: please check out Invalid option for the command or the action

'result': 'f'

Expect: Invalid option for the command or the action

fc -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

fc -i 2 -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

fc -a mod -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

fc -a mod -t port -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

fc -a mod -i 2 -t port -p 4 -s "test=auto"
Error (0x2012): Invalid option for the command or the action
-s: invalid option: test

administrator@cli> 

Expect: Invalid option for the command or the action

fc -a reset -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

fc -a reset -i 2 -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

fc -a clear -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

fc -a clear -i 2 -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 
'result': 'p'

Expect: Missing parameter

fc -t 1
Error (0x2013): Invalid setting parameters
-t: invalid setting 1 (node|port|stats|sfp|loggedininitiators|loggedintargets|allinitiators)

administrator@cli> 

Fail: please check out Missing parameter


Expect: Missing parameter

fc -i 
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 

Expect: Missing parameter

fc -i 3 -t port -p
Error (0x2013): Invalid setting parameters
-i: invalid setting 3 (1,2)

administrator@cli> 

Fail: please check out Missing parameter


Expect: Missing parameter

fc -a mod
Error (0x403): Missing parameter
missing parameter '-s' for '-a mod'

administrator@cli> 

Expect: Missing parameter

fc -a mod -t 
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Expect: Missing parameter

fc -a mod -t port
Error (0x403): Missing parameter
missing parameter '-s' for '-a mod'

administrator@cli> 

Expect: Missing parameter

fc -a mod -t port -p 2
Error (0x403): Missing parameter
missing parameter '-s' for '-a mod'

administrator@cli> 

Expect: Missing parameter

fc -a mod -t port -p 3 -s 
Error (0x403): Missing parameter
-s: missing value

administrator@cli> 

Expect: Missing parameter

fc -a reset
Error (0x403): Missing parameter
missing parameter '-i' for '-a reset'

administrator@cli> 

Expect: Missing parameter

fc -a reset -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 

Expect: Missing parameter

fc -a reset -i 2 -p
Error (0x403): Missing parameter
-p: missing value

administrator@cli> 

Expect: Missing parameter

fc -a clear

administrator@cli> 

Fail: fc -a clear


Expect: Missing parameter

fc -a clear -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 

Expect: Missing parameter

fc -a clear -i 2 -p
Error (0x403): Missing parameter
-p: missing value

administrator@cli> 
'result': 'f'

Expect: Missing parameter

fc -t
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Expect: Missing parameter

fc -i 
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 

Expect: Missing parameter

fc -i 3 -t port -p
Error (0x2013): Invalid setting parameters
-i: invalid setting 3 (1,2)

administrator@cli> 

Fail: please check out Missing parameter


Expect: Missing parameter

fc -a mod
Error (0x403): Missing parameter
missing parameter '-s' for '-a mod'

administrator@cli> 

Expect: Missing parameter

fc -a mod -t 
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Expect: Missing parameter

fc -a mod -t port
Error (0x403): Missing parameter
missing parameter '-s' for '-a mod'

administrator@cli> 

Expect: Missing parameter

fc -a mod -t port -p 2
Error (0x403): Missing parameter
missing parameter '-s' for '-a mod'

administrator@cli> 

Expect: Missing parameter

fc -a mod -t port -p 3 -s 
Error (0x403): Missing parameter
-s: missing value

administrator@cli> 

Expect: Missing parameter

fc -a reset
Error (0x403): Missing parameter
missing parameter '-i' for '-a reset'

administrator@cli> 

Expect: Missing parameter

fc -a reset -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 

Expect: Missing parameter

fc -a reset -i 2 -p
Error (0x403): Missing parameter
-p: missing value

administrator@cli> 

Expect: Missing parameter

fc -a clear

administrator@cli> 

Fail: fc -a clear


Expect: Missing parameter

fc -a clear -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 

Expect: Missing parameter

fc -a clear -i 2 -p
Error (0x403): Missing parameter
-p: missing value

administrator@cli> 
'result': 'f'

Expect: Missing parameter

fc -t
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Expect: Missing parameter

fc -i 
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 

Expect: Missing parameter

fc -i 2 -t port -p
Error (0x403): Missing parameter
-p: missing value

administrator@cli> 

Expect: Missing parameter

fc -a mod
Error (0x403): Missing parameter
missing parameter '-s' for '-a mod'

administrator@cli> 

Expect: Missing parameter

fc -a mod -t 
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Expect: Missing parameter

fc -a mod -t port
Error (0x403): Missing parameter
missing parameter '-s' for '-a mod'

administrator@cli> 

Expect: Missing parameter

fc -a mod -t port -p 2
Error (0x403): Missing parameter
missing parameter '-s' for '-a mod'

administrator@cli> 

Expect: Missing parameter

fc -a mod -t port -p 3 -s 
Error (0x403): Missing parameter
-s: missing value

administrator@cli> 

Expect: Missing parameter

fc -a reset
Error (0x403): Missing parameter
missing parameter '-i' for '-a reset'

administrator@cli> 

Expect: Missing parameter

fc -a reset -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 

Expect: Missing parameter

fc -a reset -i 2 -p
Error (0x403): Missing parameter
-p: missing value

administrator@cli> 

Expect: Missing parameter

fc -a clear

administrator@cli> 

Fail: fc -a clear


Expect: Missing parameter

fc -a clear -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 

Expect: Missing parameter

fc -a clear -i 2 -p
Error (0x403): Missing parameter
-p: missing value

administrator@cli> 
'result': 'f'

Expect: port 1 should be cleared

fc -a clear -i 2 -p 1

administrator@cli> 

Expect: port 2 should be cleared

fc -a clear -i 2 -p 2

administrator@cli> 

Expect: port 3 should be cleared

fc -a clear -i 2 -p 3

administrator@cli> 

Expect: port 4 should be cleared

fc -a clear -i 2 -p 4

administrator@cli> 

Expect: all port on ctrl 2 should be cleared

fc -a clear -i 2

administrator@cli> 

Expect: all port on primary ctrl should be cleared

fc -a clear

administrator@cli> 
'result': 'p'

Expect: all of fc info should be displayed

fc
===============================================================================
CtrlId Port   State     WWPN                          
===============================================================================
2      1      Offline   26-07-00-01-55-5b-3d-29                                
2      2      Offline   26-06-00-01-55-5b-3d-29                                
2      3      Offline   26-05-00-01-55-5b-3d-29                                
2      4      Online    26-04-00-01-55-5b-3d-29                                

administrator@cli> 

Expect: Display fc node information

fc -t node
-------------------------------------------------------------------------------
WWNN: 25-01-00-01-55-5b-3d-29           SupportedFCClass: Class Of Service 3
MaxFrameSize: 2048                      SpeedSupported: 16Gb/s, 8Gb/s, 4Gb/s

administrator@cli> 

Expect: Specifies fc port as the device type to display or modify information

fc -t port
===============================================================================
CtrlId Port   State     WWPN                          
===============================================================================
2      1      Offline   26-07-00-01-55-5b-3d-29                                
2      2      Offline   26-06-00-01-55-5b-3d-29                                
2      3      Offline   26-05-00-01-55-5b-3d-29                                
2      4      Online    26-04-00-01-55-5b-3d-29                                

administrator@cli> 

Expect: Display port SFP information

fc -t sfp
-------------------------------------------------------------------------------
Controller 2 Port 1 : No SFP found

-------------------------------------------------------------------------------
Controller 2 Port 2 : No SFP found

-------------------------------------------------------------------------------
Controller 2 Port 3 : No SFP found

-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 4
Transceiver: SFP                        Connector: LC
TransCode: 00-00-00-00-40-40-04-70      SerialEncoding: 64B66B
BitRate: 14.0 Gb/s                      ManufacturingDateCode: 170518
LinkLength_9/125um: 0 m                 LinkLength_50/125um: 30 m
LinkLength_62.5/125um: 0 m              VendorName: BROCADE
VendorOUI: 00-05-1e                     VendorPartNum: 57-0000088-01
VendorRevision: A                       VendorSerialNum: HAF317200000J34

administrator@cli> 

Expect: Display port statistics information

fc -t stats
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 1
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 2
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 3
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 4
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0

administrator@cli> 

Expect: Display port logged in initiator information

fc -t loggedininitiators
-------------------------------------------------------------------------------
No devices logged in

administrator@cli> 

Expect: Display port logged in target information

fc -t loggedintargets
-------------------------------------------------------------------------------
No targets logged in

administrator@cli> 

Expect: Display initiator list from fibre switch

fc -t allinitiators
===============================================================================
Index   CtrlId  PortId  WWPN                          
===============================================================================
1       2       4       26-05-00-01-55-5b-3c-fc                                
2       2       4       26-04-00-01-55-5b-3d-29                                
3       2       4       26-01-00-01-55-00-00-00                                
4       2       4       26-02-00-01-55-00-00-00                                

administrator@cli> 

Expect: port 1 info should be listed on ctrl 2

fc -i 2 -t port -p 1 
===============================================================================
CtrlId Port   State     WWPN                          
===============================================================================
2      1      Offline   26-07-00-01-55-5b-3d-29                                

administrator@cli> 

Expect: port 2 info should be listed on ctrl 2

fc -i 2 -t port -p 2
===============================================================================
CtrlId Port   State     WWPN                          
===============================================================================
2      2      Offline   26-06-00-01-55-5b-3d-29                                

administrator@cli> 

Expect: port 3 info should be listed on ctrl 2

fc -i 2 -t port -p 3
===============================================================================
CtrlId Port   State     WWPN                          
===============================================================================
2      3      Offline   26-05-00-01-55-5b-3d-29                                

administrator@cli> 

Expect: port 4 info should be listed on ctrl 2

fc -i 2 -t port -p 4
===============================================================================
CtrlId Port   State     WWPN                          
===============================================================================
2      4      Online    26-04-00-01-55-5b-3d-29                                

administrator@cli> 
'result': 'p'

Expect: all of fc info should be displayed by verbose mode

fc -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 1
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-07-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: Auto               ConfiguredTopology: Auto
HardALPA: 255
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 2
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-06-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: Auto               ConfiguredTopology: Auto
HardALPA: 255
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 3
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-05-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: Auto               ConfiguredTopology: Auto
HardALPA: 255
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 4
State: Online                           PortIdentifier: 0x010700
TopologyAttached: N-Port (Fabric Direct)
WWPN: 26-04-00-01-55-5b-3d-29           AliasWWPN: N/A
NumCurrentAlias: 0                      FabricWWNN: 10-00-c4-f5-7c-e2-70-a6
FabricWWPN: 20-07-c4-f5-7c-e2-70-a6     CurrentSpeed: 16Gb/s
LinkType: Laser Short Wave              ConfiguredLinkSpeed: Auto
ConfiguredTopology: Auto                HardALPA: 255

administrator@cli> 

Expect: Display fc node information by verbose mode

fc -t node -v
-------------------------------------------------------------------------------
WWNN: 25-01-00-01-55-5b-3d-29           SupportedFCClass: Class Of Service 3
MaxFrameSize: 2048                      SpeedSupported: 16Gb/s, 8Gb/s, 4Gb/s

administrator@cli> 

Expect: Specifies fc port as the device type to display or modify information by verbose mode

fc -t port -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 1
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-07-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: Auto               ConfiguredTopology: Auto
HardALPA: 255
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 2
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-06-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: Auto               ConfiguredTopology: Auto
HardALPA: 255
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 3
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-05-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: Auto               ConfiguredTopology: Auto
HardALPA: 255
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 4
State: Online                           PortIdentifier: 0x010700
TopologyAttached: N-Port (Fabric Direct)
WWPN: 26-04-00-01-55-5b-3d-29           AliasWWPN: N/A
NumCurrentAlias: 0                      FabricWWNN: 10-00-c4-f5-7c-e2-70-a6
FabricWWPN: 20-07-c4-f5-7c-e2-70-a6     CurrentSpeed: 16Gb/s
LinkType: Laser Short Wave              ConfiguredLinkSpeed: Auto
ConfiguredTopology: Auto                HardALPA: 255

administrator@cli> 

Expect: Display port SFP information by verbose mode

fc -t sfp -v
-------------------------------------------------------------------------------
Controller 2 Port 1 : No SFP found

-------------------------------------------------------------------------------
Controller 2 Port 2 : No SFP found

-------------------------------------------------------------------------------
Controller 2 Port 3 : No SFP found

-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 4
Transceiver: SFP                        Connector: LC
TransCode: 00-00-00-00-40-40-04-70      SerialEncoding: 64B66B
BitRate: 14.0 Gb/s                      ManufacturingDateCode: 170518
LinkLength_9/125um: 0 m                 LinkLength_50/125um: 30 m
LinkLength_62.5/125um: 0 m              VendorName: BROCADE
VendorOUI: 00-05-1e                     VendorPartNum: 57-0000088-01
VendorRevision: A                       VendorSerialNum: HAF317200000J34

administrator@cli> 

Expect: Display port statistics information by verbose mode

fc -t stats -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 1
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 2
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 3
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 4
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0

administrator@cli> 

Expect: Display port logged in initiator information by verbose mode

fc -t loggedininitiators -v
-------------------------------------------------------------------------------
No devices logged in

administrator@cli> 

Expect: Display port logged in target information by verbose mode

fc -t loggedintargets -v
-------------------------------------------------------------------------------
No targets logged in

administrator@cli> 

Expect: Display initiator list from fibre switch by verbose mode

fc -t allinitiators -v
-------------------------------------------------------------------------------
Index: 1                                CtrlId: 2
PortId: 4                               WWPN: 26-05-00-01-55-5b-3c-fc
WWNN: 25-01-00-01-55-5b-3c-fc           NPortId: 0x010100
SymbolicName: Promise VTrak 16G FC product
-------------------------------------------------------------------------------
Index: 2                                CtrlId: 2
PortId: 4                               WWPN: 26-04-00-01-55-5b-3d-29
WWNN: 25-01-00-01-55-5b-3d-29           NPortId: 0x010700
SymbolicName: Promise VTrak 16G FC product
-------------------------------------------------------------------------------
Index: 3                                CtrlId: 2
PortId: 4                               WWPN: 26-01-00-01-55-00-00-00
WWNN: 25-00-00-01-55-00-00-00           NPortId: 0x010a00
SymbolicName: Promise VTrak 16G FC product
-------------------------------------------------------------------------------
Index: 4                                CtrlId: 2
PortId: 4                               WWPN: 26-02-00-01-55-00-00-00
WWNN: 25-00-00-01-55-00-00-00           NPortId: 0x010b00
SymbolicName: Promise VTrak 16G FC product

administrator@cli> 

Expect: port 1 info should be listed on ctrl 2 by verbose mode

fc -i 2 -t port -p 1 -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 1
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-07-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: Auto               ConfiguredTopology: Auto
HardALPA: 255

administrator@cli> 

Expect: port 2 info should be listed on ctrl 2 by verbose mode

fc -i 2 -t port -p 2 -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 2
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-06-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: Auto               ConfiguredTopology: Auto
HardALPA: 255

administrator@cli> 

Expect: port 3 info should be listed on ctrl 2 by verbose mode

fc -i 2 -t port -p 3 -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 3
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-05-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: Auto               ConfiguredTopology: Auto
HardALPA: 255

administrator@cli> 

Expect: port 4 info should be listed on ctrl 2 by verbose mode

fc -i 2 -t port -p 4 -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 4
State: Online                           PortIdentifier: 0x010700
TopologyAttached: N-Port (Fabric Direct)
WWPN: 26-04-00-01-55-5b-3d-29           AliasWWPN: N/A
NumCurrentAlias: 0                      FabricWWNN: 10-00-c4-f5-7c-e2-70-a6
FabricWWPN: 20-07-c4-f5-7c-e2-70-a6     CurrentSpeed: 16Gb/s
LinkType: Laser Short Wave              ConfiguredLinkSpeed: Auto
ConfiguredTopology: Auto                HardALPA: 255

administrator@cli> 
'result': 'p'

Expect: port 1 should be modified by "linkspeed=4gb,topology=nlport,hardalpa=0"

fc -a mod -t port -p 1 -s "linkspeed=4gb,topology=nlport,hardalpa=0"

administrator@cli> 
fc -t port -p 1 -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 1
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-07-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: 4 Gb/s             ConfiguredTopology: NL-Port
HardALPA: 0

administrator@cli> 

Expect: port 2 should be modified by "linkspeed=8gb,topology=nport,hardalpa=1"

fc -a mod -t port -p 2 -s "linkspeed=8gb,topology=nport,hardalpa=1"

administrator@cli> 
fc -t port -p 2 -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 2
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-06-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: 8 Gb/s             ConfiguredTopology: N-Port
HardALPA: 1

administrator@cli> 

Expect: port 3 should be modified by "linkspeed=16gb,topology=auto,hardalpa=254"

fc -a mod -t port -p 3 -s "linkspeed=16gb,topology=auto,hardalpa=254"

administrator@cli> 
fc -t port -p 3 -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 3
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-05-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: 16 Gb/s            ConfiguredTopology: Auto
HardALPA: 254

administrator@cli> 

Expect: port 4 should be modified by "linkspeed=auto,hardalpa=255"

fc -a mod -i 2 -t port -p 4 -s "linkspeed=auto,hardalpa=255"

administrator@cli> 
fc -i 2 -t port -p 4 -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 4
State: Online                           PortIdentifier: 0x010700
TopologyAttached: N-Port (Fabric Direct)
WWPN: 26-04-00-01-55-5b-3d-29           AliasWWPN: N/A
NumCurrentAlias: 0                      FabricWWNN: 10-00-c4-f5-7c-e2-70-a6
FabricWWPN: 20-07-c4-f5-7c-e2-70-a6     CurrentSpeed: 16Gb/s
LinkType: Laser Short Wave              ConfiguredLinkSpeed: Auto
ConfiguredTopology: Auto                HardALPA: 255

administrator@cli> 
'result': 'p'

Expect: port 1 should be reset

fc -a reset -i 2 -p 1

administrator@cli> 

Expect: port 2 should be reset

fc -a reset -i 2 -p 2

administrator@cli> 

Expect: port 3 should be reset

fc -a reset -i 2 -p 3

administrator@cli> 

Expect: port 4 should be reset

fc -a reset -i 2 -p 4

administrator@cli> 
'result': 'p'

Expect: port 1 should be cleared

fc -a clear -i 2 -p 1

administrator@cli> 

Expect: port 2 should be cleared

fc -a clear -i 2 -p 2

administrator@cli> 

Expect: port 3 should be cleared

fc -a clear -i 2 -p 3

administrator@cli> 

Expect: port 4 should be cleared

fc -a clear -i 2 -p 4

administrator@cli> 

Expect: all port on ctrl 2 should be cleared

fc -a clear -i 2

administrator@cli> 

Expect: all port on primary ctrl should be cleared

fc -a clear

administrator@cli> 
'result': 'p'

Expect: Invalid setting parameters when executes list

fc test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid setting parameters

fc -1
Error (0x2013): Invalid setting parameters
invalid setting: -1

administrator@cli> 

Expect: Invalid type setting parameters

fc -t test
Error (0x2013): Invalid setting parameters
-t: invalid setting test (node|port|stats|sfp|loggedininitiators|loggedintargets|allinitiators)

administrator@cli> 

Expect: Invalid type setting parameters

fc -t 1
Error (0x2013): Invalid setting parameters
-t: invalid setting 1 (node|port|stats|sfp|loggedininitiators|loggedintargets|allinitiators)

administrator@cli> 

Expect: Invalid port id

fc -i 2 -t port -p 5 
Error (0x2013): Invalid setting parameters
-p: invalid setting 5 (1,4)

administrator@cli> 

Expect: Invalid ctrl id

fc -i 3 -t port -p 2
Error (0x2013): Invalid setting parameters
-i: invalid setting 3 (1,2)

administrator@cli> 

Expect: Invalid setting parameters of ctrl id

fc -i test -t port -p 3
Error (0x2013): Invalid setting parameters
-i: invalid setting test

administrator@cli> 

Expect: Invalid setting parameters of port id

fc -i 2 -t port -p test
Error (0x2013): Invalid setting parameters
-p: invalid setting test

administrator@cli> 

Expect: Invalid setting parameters when executes modification

fc -a mod test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid type setting parameters when executes modification

fc -a mod -t test
Error (0x2013): Invalid setting parameters
-t: invalid setting test (node|port|stats|sfp|loggedininitiators|loggedintargets|allinitiators)

administrator@cli> 

Expect: Invalid port id when executes modification

fc -a mod -t port -p 5 -s "linkspeed=4gb,topology=nlport,hardalpa=0"
Error (0x2013): Invalid setting parameters
-p: invalid setting 5 (1,4)

administrator@cli> 

Expect: Invalid type of linkspeed setting parameters

fc -a mod -t port -p 2 -s "linkspeed=test"
Error (0x2013): Invalid setting parameters
linkspeed: invalid setting test (auto|4gb|8gb|16gb)

administrator@cli> 

Expect: Invalid type of topology setting parameters

fc -a mod -t port -p 3 -s "topology=test"
Error (0x2013): Invalid setting parameters
topology: invalid setting test (auto|nlport|nport)

administrator@cli> 

Expect: Invalid type of hardalpa setting parameters

fc -a mod -i 2 -t port -p 4 -s "hardalpa=256"
Error (0x2013): Invalid setting parameters
hardalpa: invalid setting 256 (0,255)

administrator@cli> 

Expect: Invalid type of hardalpa setting parameters

fc -a mod -i 2 -t port -p 4 -s "hardalpa=test"
Error (0x2013): Invalid setting parameters
hardalpa: invalid setting test

administrator@cli> 

Expect: Invalid ctrl id when executes modification

fc -a mod -i 3 -t port -p 4 -s "hardalpa=1"
Error (0x2013): Invalid setting parameters
-i: invalid setting 3 (1,2)

administrator@cli> 

Expect: invalid fc setting type

fc -a mod -t node -p 2 -s "linkspeed=4gb"
Error (0x402): Invalid parameter
invalid fc setting type

administrator@cli> 

Expect: Invalid setting parameters when executes reseting

fc -a reset test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid ctrl id when executes reseting

fc -a reset -i 3 -p 2
Error (0x2013): Invalid setting parameters
-i: invalid setting 3 (1,2)

administrator@cli> 

Expect: Invalid port id when executes reseting

fc -a reset -i 2 -p 5
Error (0x2013): Invalid setting parameters
-p: invalid setting 5 (1,4)

administrator@cli> 

Expect: Invalid setting parameters when executes clearing

fc -a clear test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid ctrl id when executes clearing

fc -a clear -i 3 -p 2
Error (0x2013): Invalid setting parameters
-i: invalid setting 3 (1,2)

administrator@cli> 

Expect: Invalid port id when executes clearing

fc -a clear -i 2 -p 5
Error (0x2013): Invalid setting parameters
-p: invalid setting 5 (1,4)

administrator@cli> 
'result': 'p'

Expect: Invalid option for the command or the action

fc -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

fc -i 2 -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

fc -a mod -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

fc -a mod -t port -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

fc -a mod -i 2 -t port -p 4 -s "test=auto"
Error (0x2012): Invalid option for the command or the action
-s: invalid option: test

administrator@cli> 

Expect: Invalid option for the command or the action

fc -a reset -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

fc -a reset -i 2 -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

fc -a clear -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

fc -a clear -i 2 -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 
'result': 'p'

Expect: Missing parameter

fc -t
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Expect: Missing parameter

fc -i 
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 

Expect: Missing parameter

fc -i 2 -t port -p
Error (0x403): Missing parameter
-p: missing value

administrator@cli> 

Expect: Missing parameter

fc -a mod
Error (0x403): Missing parameter
missing parameter '-s' for '-a mod'

administrator@cli> 

Expect: Missing parameter

fc -a mod -t 
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Expect: Missing parameter

fc -a mod -t port
Error (0x403): Missing parameter
missing parameter '-s' for '-a mod'

administrator@cli> 

Expect: Missing parameter

fc -a mod -t port -p 2
Error (0x403): Missing parameter
missing parameter '-s' for '-a mod'

administrator@cli> 

Expect: Missing parameter

fc -a mod -t port -p 3 -s 
Error (0x403): Missing parameter
-s: missing value

administrator@cli> 

Expect: Missing parameter

fc -a reset
Error (0x403): Missing parameter
missing parameter '-i' for '-a reset'

administrator@cli> 

Expect: Missing parameter

fc -a reset -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 

Expect: Missing parameter

fc -a reset -i 2 -p
Error (0x403): Missing parameter
-p: missing value

administrator@cli> 

Expect: Missing parameter

fc -a clear -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 

Expect: Missing parameter

fc -a clear -i 2 -p
Error (0x403): Missing parameter
-p: missing value

administrator@cli> 
'result': 'p'

Expect: all of fc info should be displayed

fc
===============================================================================
CtrlId Port   State     WWPN                          
===============================================================================
2      1      Offline   26-07-00-01-55-5b-3d-29                                
2      2      Offline   26-06-00-01-55-5b-3d-29                                
2      3      Offline   26-05-00-01-55-5b-3d-29                                
2      4      Online    26-04-00-01-55-5b-3d-29                                

administrator@cli> 

Expect: Display fc node information

fc -t node
-------------------------------------------------------------------------------
WWNN: 25-01-00-01-55-5b-3d-29           SupportedFCClass: Class Of Service 3
MaxFrameSize: 2048                      SpeedSupported: 16Gb/s, 8Gb/s, 4Gb/s

administrator@cli> 

Expect: Specifies fc port as the device type to display or modify information

fc -t port
===============================================================================
CtrlId Port   State     WWPN                          
===============================================================================
2      1      Offline   26-07-00-01-55-5b-3d-29                                
2      2      Offline   26-06-00-01-55-5b-3d-29                                
2      3      Offline   26-05-00-01-55-5b-3d-29                                
2      4      Online    26-04-00-01-55-5b-3d-29                                

administrator@cli> 

Expect: Display port SFP information

fc -t sfp
-------------------------------------------------------------------------------
Controller 2 Port 1 : No SFP found

-------------------------------------------------------------------------------
Controller 2 Port 2 : No SFP found

-------------------------------------------------------------------------------
Controller 2 Port 3 : No SFP found

-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 4
Transceiver: SFP                        Connector: LC
TransCode: 00-00-00-00-40-40-04-70      SerialEncoding: 64B66B
BitRate: 14.0 Gb/s                      ManufacturingDateCode: 170518
LinkLength_9/125um: 0 m                 LinkLength_50/125um: 30 m
LinkLength_62.5/125um: 0 m              VendorName: BROCADE
VendorOUI: 00-05-1e                     VendorPartNum: 57-0000088-01
VendorRevision: A                       VendorSerialNum: HAF317200000J34

administrator@cli> 

Expect: Display port statistics information

fc -t stats
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 1
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 2
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 3
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 4
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0

administrator@cli> 

Expect: Display port logged in initiator information

fc -t loggedininitiators
-------------------------------------------------------------------------------
No devices logged in

administrator@cli> 

Expect: Display port logged in target information

fc -t loggedintargets
-------------------------------------------------------------------------------
No targets logged in

administrator@cli> 

Expect: Display initiator list from fibre switch

fc -t allinitiators
===============================================================================
Index   CtrlId  PortId  WWPN                          
===============================================================================
1       2       4       26-05-00-01-55-5b-3c-fc                                
2       2       4       26-04-00-01-55-5b-3d-29                                
3       2       4       26-01-00-01-55-00-00-00                                
4       2       4       26-02-00-01-55-00-00-00                                

administrator@cli> 

Expect: port 1 info should be listed on ctrl 2

fc -i 2 -t port -p 1 
===============================================================================
CtrlId Port   State     WWPN                          
===============================================================================
2      1      Offline   26-07-00-01-55-5b-3d-29                                

administrator@cli> 

Expect: port 2 info should be listed on ctrl 2

fc -i 2 -t port -p 2
===============================================================================
CtrlId Port   State     WWPN                          
===============================================================================
2      2      Offline   26-06-00-01-55-5b-3d-29                                

administrator@cli> 

Expect: port 3 info should be listed on ctrl 2

fc -i 2 -t port -p 3
===============================================================================
CtrlId Port   State     WWPN                          
===============================================================================
2      3      Offline   26-05-00-01-55-5b-3d-29                                

administrator@cli> 

Expect: port 4 info should be listed on ctrl 2

fc -i 2 -t port -p 4
===============================================================================
CtrlId Port   State     WWPN                          
===============================================================================
2      4      Online    26-04-00-01-55-5b-3d-29                                

administrator@cli> 
'result': 'p'

Expect: all of fc info should be displayed by verbose mode

fc -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 1
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-07-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: 4 Gb/s             ConfiguredTopology: NL-Port
HardALPA: 0
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 2
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-06-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: 8 Gb/s             ConfiguredTopology: N-Port
HardALPA: 1
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 3
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-05-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: 16 Gb/s            ConfiguredTopology: Auto
HardALPA: 254
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 4
State: Online                           PortIdentifier: 0x010700
TopologyAttached: N-Port (Fabric Direct)
WWPN: 26-04-00-01-55-5b-3d-29           AliasWWPN: N/A
NumCurrentAlias: 0                      FabricWWNN: 10-00-c4-f5-7c-e2-70-a6
FabricWWPN: 20-07-c4-f5-7c-e2-70-a6     CurrentSpeed: 16Gb/s
LinkType: Laser Short Wave              ConfiguredLinkSpeed: Auto
ConfiguredTopology: Auto                HardALPA: 255

administrator@cli> 

Expect: Display fc node information by verbose mode

fc -t node -v
-------------------------------------------------------------------------------
WWNN: 25-01-00-01-55-5b-3d-29           SupportedFCClass: Class Of Service 3
MaxFrameSize: 2048                      SpeedSupported: 16Gb/s, 8Gb/s, 4Gb/s

administrator@cli> 

Expect: Specifies fc port as the device type to display or modify information by verbose mode

fc -t port -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 1
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-07-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: 4 Gb/s             ConfiguredTopology: NL-Port
HardALPA: 0
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 2
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-06-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: 8 Gb/s             ConfiguredTopology: N-Port
HardALPA: 1
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 3
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-05-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: 16 Gb/s            ConfiguredTopology: Auto
HardALPA: 254
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 4
State: Online                           PortIdentifier: 0x010700
TopologyAttached: N-Port (Fabric Direct)
WWPN: 26-04-00-01-55-5b-3d-29           AliasWWPN: N/A
NumCurrentAlias: 0                      FabricWWNN: 10-00-c4-f5-7c-e2-70-a6
FabricWWPN: 20-07-c4-f5-7c-e2-70-a6     CurrentSpeed: 16Gb/s
LinkType: Laser Short Wave              ConfiguredLinkSpeed: Auto
ConfiguredTopology: Auto                HardALPA: 255

administrator@cli> 

Expect: Display port SFP information by verbose mode

fc -t sfp -v
-------------------------------------------------------------------------------
Controller 2 Port 1 : No SFP found

-------------------------------------------------------------------------------
Controller 2 Port 2 : No SFP found

-------------------------------------------------------------------------------
Controller 2 Port 3 : No SFP found

-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 4
Transceiver: SFP                        Connector: LC
TransCode: 00-00-00-00-40-40-04-70      SerialEncoding: 64B66B
BitRate: 14.0 Gb/s                      ManufacturingDateCode: 170518
LinkLength_9/125um: 0 m                 LinkLength_50/125um: 30 m
LinkLength_62.5/125um: 0 m              VendorName: BROCADE
VendorOUI: 00-05-1e                     VendorPartNum: 57-0000088-01
VendorRevision: A                       VendorSerialNum: HAF317200000J34

administrator@cli> 

Expect: Display port statistics information by verbose mode

fc -t stats -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 1
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 2
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 3
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 4
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0

administrator@cli> 

Expect: Display port logged in initiator information by verbose mode

fc -t loggedininitiators -v
-------------------------------------------------------------------------------
No devices logged in

administrator@cli> 

Expect: Display port logged in target information by verbose mode


Expect: replication should be started by "name=T, syncmode=async"

replication -a start -i 2 -p 1 -s "name=T, syncmode=async"

administrator@cli> 
volume -i 6 -v
-------------------------------------------------------------------------------
Id: 6                                   Name: T
PoolId: 1                               PoolName: T_replication_1
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 4 GB                     UsedCapacity: 4 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-10 19:22:42
PreferCtrlId: 2                         AdvType: Replication
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Async
AdvStatus: Syncing                      AdvProgress: 2.9

administrator@cli> 

Expect: replication should be started by "name=t2, syncmode=semi-sync"

replication -a start -i 3 -p 1 -s "name=t2, syncmode=semi-sync"

administrator@cli> 
volume -i 7 -v
-------------------------------------------------------------------------------
Id: 7                                   Name: t2
PoolId: 1                               PoolName: T_replication_1
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 4 GB                     UsedCapacity: 4 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-10 19:22:51
PreferCtrlId: 2                         AdvType: Replication
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Semi-Sync
AdvStatus: Syncing                      AdvProgress: 3.6

administrator@cli> 

Expect: replication should be started by "name=test_Test_Test_Test_Test_Test31, syncmode=sync"

replication -a start -i 4 -p 0 -s "name=test_Test_Test_Test_Test_Test31, syncmode=sync"

administrator@cli> 
volume -i 8 -v
-------------------------------------------------------------------------------
Id: 8                                   Name: test_Test_Test_Test_Test_Test31
PoolId: 0                               PoolName: T_replication_0
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
PoolAvailableCapacity: 107.22 GB        UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 4.21 MB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-10 19:22:57
PreferCtrlId: 2                         AdvType: Replication
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Syncing                      AdvProgress: 7.2

administrator@cli> 

Expect: replication should be started by "name=test_Test_Test_Test_Test_Test_32"

replication -a start -i 5 -p 0 -s "name=test_Test_Test_Test_Test_Test_32"

administrator@cli> 
volume -i 5 -v
-------------------------------------------------------------------------------
Id: 5                                   Name: T_replication_vol_5
PoolId: 1                               PoolName: T_replication_1
Status: Exported                        ExportedId: 5
ExportedWWN: 22ba0001554099d3           OperationalStatus: OK, Synchronizing
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-10 19:22:41
PreferCtrlId: 2                         AdvType: Replication
AdvKind: Local                          AdvRole: Source
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Syncing                      AdvProgress: 8.0

administrator@cli> 
'result': 'p'

Expect: Max 4 pairs of replication

replication -a start -i 0 -p 0 -s "name=firth_replica"
Error (0x4100104): Incorrect parameters: Support maximum 4 local replication!

administrator@cli> 

Expect: destination volume should not be exported

volume -a export -i 6
Error (0x4100104): Incorrect parameters: Destination volume of replication in Active_Passive mode cannot be exported.

administrator@cli> 

Expect: destination volume should not be expanded

volume -a mod -i 6 -s "capacity=6GB"
Error (0x4100104): Incorrect parameters: Volume is replication or migration Volume.

administrator@cli> 

Expect: destination volume should not be modified

volume -a mod -i 6 -s "name=no_way"
Error (0x4100104): Incorrect parameters: Volume is replication or migration Volume.

administrator@cli> 

Expect: destination volume should not create snapshot

snapshot -a add -t volume -d 6 -s "name=test_replica"
Error (0x4100104): Incorrect parameters: Destination volume of replication or migration cannot create snapshot.

administrator@cli> 

Expect: destination volume should not be added for lunmap

lunmap -a add -p volume -i 0 -l 6 -m 2
Error (0x402): Invalid parameter
The volume/snapshot/clone is un-exported

administrator@cli> 

Expect: destination volume should not be deleted

volume -a del -i 6
Error (0x4100104): Incorrect parameters: Volume is replication or migration Volume.

administrator@cli> 

Expect: source volume should not be expanded

volume -a mod -i 2 -s "capacity=5GB"
Error (0x4100104): Incorrect parameters: Volume is replication or migration Volume.

administrator@cli> 

Expect: source volume should not be deleted

volume -a del -i 2
Error (0x4100104): Incorrect parameters: Volume is replication or migration Volume.

administrator@cli> 

Expect: source pool should not be deleted

pool -a del -i 1 -f -y
Error (0x4100104): Incorrect parameters: There are replication or migration Volume in the Pool.

administrator@cli> 

Expect: destination pool should not be deleted

pool -a del -i 0 -f -y
Error (0x4100104): Incorrect parameters: There are replication or migration Volume in the Pool.

administrator@cli> 
'result': 'p'

Expect: all of replication should be listed

replication
===============================================================================
SrcVol         DestVol        Location  TotalCap  UsedCap   Status         
===============================================================================
T_replication_ test_Test_Test Local     1 GB      1 GB      Warning            
vol_5          _Test_Test_Tes                                                  
               t_32                                                            
T_replication_ test_Test_Test Local     1 GB      1 GB      Warning            
vol_4          _Test_Test_Tes                                                  
               t31                                                             
T_replication_ T              Local     4 GB      4 GB      Creating           
vol_2                                                                          
T_replication_ t2             Local     4 GB      4 GB      Creating           
vol_3                                                                          

administrator@cli> 
'result': 'p'

Expect: all of replication should be listed by verbose mode

replication -a list -v
-------------------------------------------------------------------------------
Location: Local                         Role: Destination
Mode: Active-Passive                    SyncMode: Sync
Status: Warning                         Description: Unconnected.
Progress: 0.0                           SourceVolumeId: 5
SourceVolumeName: T_replication_vol_5   SourcePoolName: T_replication_1
SourcePortalIP: 10.128.0.2              DestinationVolumeId: 9
DestinationVolumeName: test_Test_Test_Test_Test_Test_32
DestinationPoolName: T_replication_0    DestinationPortalIP: 10.128.0.2
Enable: 1                               Period: 0
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
-------------------------------------------------------------------------------
Location: Local                         Role: Destination
Mode: Active-Passive                    SyncMode: Sync
Status: Warning                         Description: Unconnected.
Progress: 0.0                           SourceVolumeId: 4
SourceVolumeName: T_replication_vol_4   SourcePoolName: T_replication_1
SourcePortalIP: 10.128.0.2              DestinationVolumeId: 8
DestinationVolumeName: test_Test_Test_Test_Test_Test31
DestinationPoolName: T_replication_0    DestinationPortalIP: 10.128.0.2
Enable: 1                               Period: 0
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
-------------------------------------------------------------------------------
Location: Local                         Role: Source
Mode: Active-Passive                    SyncMode: Async
Status: Creating                        Description: 
Progress: 0                             SourceVolumeId: 2
SourceVolumeName: T_replication_vol_2   SourcePoolName: T_replication_0
SourcePortalIP: 10.128.0.2              DestinationVolumeId: 6
DestinationVolumeName: T                DestinationPoolName: T_replication_1
DestinationPortalIP: 10.128.0.2         Enable: 1
Period: 0                               TotalCapacity: 4 GB
UsedCapacity: 4 GB
-------------------------------------------------------------------------------
Location: Local                         Role: Source
Mode: Active-Passive                    SyncMode: Semi-Sync
Status: Creating                        Description: 
Progress: 0                             SourceVolumeId: 3
SourceVolumeName: T_replication_vol_3   SourcePoolName: T_replication_0
SourcePortalIP: 10.128.0.2              DestinationVolumeId: 7
DestinationVolumeName: t2               DestinationPoolName: T_replication_1
DestinationPortalIP: 10.128.0.2         Enable: 1
Period: 0                               TotalCapacity: 4 GB
UsedCapacity: 4 GB

administrator@cli> 
'result': 'p'

Expect: specific replication should be stopped

replication -a stop -i 2

administrator@cli> 
volume -v -i 6
-------------------------------------------------------------------------------
Id: 6                                   Name: T
PoolId: 1                               PoolName: T_replication_1
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 4 GB                     UsedCapacity: 4 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-10 19:22:42
PreferCtrlId: 2                         AdvType: 

administrator@cli> 
'result': 'p'

Expect: replication should be paused by source volume

replication -a pause -i 3
Error (0x4100107): Fail to pause local replication.

administrator@cli> 

Fail: replication -a pause -i 3

'result': 'f'

Expect: replication should be started by "name=T, syncmode=async"

replication -a start -i 2 -p 1 -s "name=T, syncmode=async"

administrator@cli> 
volume -i 6 -v
-------------------------------------------------------------------------------
Id: 6                                   Name: T
PoolId: 1                               PoolName: T_replication_1
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 4 GB                     UsedCapacity: 4 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-10 19:41:12
PreferCtrlId: 2                         AdvType: Replication
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Async
AdvStatus: Syncing                      AdvProgress: 2.0

administrator@cli> 

Expect: replication should be started by "name=t2, syncmode=semi-sync"

replication -a start -i 3 -p 1 -s "name=t2, syncmode=semi-sync"

administrator@cli> 
volume -i 7 -v
-------------------------------------------------------------------------------
Id: 7                                   Name: t2
PoolId: 1                               PoolName: T_replication_1
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 4 GB                     UsedCapacity: 4 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-10 19:41:24
PreferCtrlId: 2                         AdvType: Replication
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Semi-Sync
AdvStatus: Syncing                      AdvProgress: 3.1

administrator@cli> 

Expect: replication should be started by "name=test_Test_Test_Test_Test_Test31, syncmode=sync"

replication -a start -i 4 -p 0 -s "name=test_Test_Test_Test_Test_Test31, syncmode=sync"

administrator@cli> 
volume -i 8 -v
-------------------------------------------------------------------------------
Id: 8                                   Name: test_Test_Test_Test_Test_Test31
PoolId: 0                               PoolName: T_replication_0
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
PoolAvailableCapacity: 107.22 GB        UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-10 19:41:30
PreferCtrlId: 2                         AdvType: Replication
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Syncing                      AdvProgress: 15.5

administrator@cli> 

Expect: replication should be started by "name=test_Test_Test_Test_Test_Test_32"

replication -a start -i 5 -p 0 -s "name=test_Test_Test_Test_Test_Test_32"

administrator@cli> 
volume -i 5 -v
-------------------------------------------------------------------------------
Id: 5                                   Name: T_replication_vol_5
PoolId: 1                               PoolName: T_replication_1
Status: Exported                        ExportedId: 6
ExportedWWN: 22bd000155da21b5           OperationalStatus: OK, Synchronizing
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-10 19:41:11
PreferCtrlId: 2                         AdvType: Replication
AdvKind: Local                          AdvRole: Source
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Syncing                      AdvProgress: 8.0

administrator@cli> 
'result': 'p'

Expect: replication should be paused by source volume

replication -a pause -i 3
Error (0x4100107): Fail to pause local replication.

administrator@cli> 

Fail: replication -a pause -i 3

'result': 'f'

Expect: domain setting should be listed

domain
===============================================================================
ControllerId                            DomainStatus                           
===============================================================================
2                                       error                                  
 
Not Joined into Domain mode
 
-------------------------------------------------------------------------------
Last successfully joined domain setting
-------------------------------------------------------------------------------
Netbios:                                Kdc: 
Domain:                                 Username: 

administrator@cli> 
'result': 'p'

Expect: domain setting should be listed by verbose mode

domain -v
===============================================================================
ControllerId                            DomainStatus                           
===============================================================================
2                                       error                                  
 
Not Joined into Domain mode
 
-------------------------------------------------------------------------------
Last successfully joined domain setting
-------------------------------------------------------------------------------
Netbios:                                Kdc: 
Domain:                                 Username: 

administrator@cli> 
'result': 'p'

Expect: 

domain -a enable -t ad -s "domain=2008ad.com,kdc=WIN-CC18N6QMNLL.2008AD.com, netbios=2008ad, username=administrator,password=password"
Error (0x4100104): Incorrect parameters: System DNS IP is empty. Please set it first.

administrator@cli> 

Fail: domain -a enable -t ad -s "domain=2008ad.com,kdc=WIN-CC18N6QMNLL.2008AD.com, netbios=2008ad, username=administrator,password=password"


Expect: 

domain -a enable -t ad -s "domain=2008ad.com,kdc=WIN-CC18N6QMNLL.2008AD.com, netbios=2008ad, username=administrator,password=password"
Error (0x4100104): Incorrect parameters: System DNS IP is empty. Please set it first.

administrator@cli> 

Fail: domain -a enable -t ad -s "domain=2008ad.com,kdc=WIN-CC18N6QMNLL.2008AD.com, netbios=2008ad, username=administrator,password=password"


Expect: 

domain -a enable -t ad -s "domain=2008ad.com,kdc=WIN-CC18N6QMNLL.2008AD.com, netbios=2008ad, username=administrator,password=password"
Error (0x4100104): Incorrect parameters: System DNS IP is empty. Please set it first.

administrator@cli> 

Fail: domain -a enable -t ad -s "domain=2008ad.com,kdc=WIN-CC18N6QMNLL.2008AD.com, netbios=2008ad, username=administrator,password=password"


Expect: 

domain -a enable -t ad -s "domain=2008ad.com,kdc=WIN-CC18N6QMNLL.2008AD.com, netbios=2008ad, username=administrator,password=password"
Error (0x4100104): Incorrect parameters: System DNS IP is empty. Please set it first.

administrator@cli> 

Fail: domain -a enable -t ad -s "domain=2008ad.com,kdc=WIN-CC18N6QMNLL.2008AD.com, netbios=2008ad, username=administrator,password=password"

'result': 'f'

Expect: 

domain -a enable -t ad -s "domain=2008ad.com,kdc=WIN-CC18N6QMNLL.2008AD.com, netbios=2008ad, username=administrator,password=password"
Error (0x4100104): Incorrect parameters: System DNS IP is empty. Please set it first.

administrator@cli> 

Fail: domain -a enable -t ad -s "domain=2008ad.com,kdc=WIN-CC18N6QMNLL.2008AD.com, netbios=2008ad, username=administrator,password=password"


Expect: 

domain -a enable -t ad -s "domain=2008ad.com,kdc=WIN-CC18N6QMNLL.2008AD.com, netbios=2008ad, username=administrator,password=password"
Error (0x4100104): Incorrect parameters: System DNS IP is empty. Please set it first.

administrator@cli> 

Fail: domain -a enable -t ad -s "domain=2008ad.com,kdc=WIN-CC18N6QMNLL.2008AD.com, netbios=2008ad, username=administrator,password=password"


Expect: 

domain -a enable -t ad -s "domain=2008ad.com,kdc=WIN-CC18N6QMNLL.2008AD.com, netbios=2008ad, username=administrator,password=password"
Error (0x4100104): Incorrect parameters: System DNS IP is empty. Please set it first.

administrator@cli> 

Fail: domain -a enable -t ad -s "domain=2008ad.com,kdc=WIN-CC18N6QMNLL.2008AD.com, netbios=2008ad, username=administrator,password=password"


Expect: 

domain -a enable -t ad -s "domain=2008ad.com,kdc=WIN-CC18N6QMNLL.2008AD.com, netbios=2008ad, username=administrator,password=password"
Error (0x4100104): Incorrect parameters: System DNS IP is empty. Please set it first.

administrator@cli> 

Fail: domain -a enable -t ad -s "domain=2008ad.com,kdc=WIN-CC18N6QMNLL.2008AD.com, netbios=2008ad, username=administrator,password=password"

'result': 'f'

Expect: specific nas user should have 1GB of storage limit in nasshare

quota -a set -d 0 -t nasshare -s "role=user,limit=1GB,name=test_quota_0"

administrator@cli> 
quota -v -d 0
-------------------------------------------------------------------------------
Name: test_quota_0                      AccountType: User
Uid: 1001                               Limit: 1 GB
Used: 0 Byte                            Status: Ready

administrator@cli> 

Expect: specific nas user should have 2GB of storage limit in nasshare

quota -a set -d 0 -t nasshare -s "role=user,limit=2GB,name=test_quota_0"

administrator@cli> 
quota -v -d 0
-------------------------------------------------------------------------------
Name: test_quota_0                      AccountType: User
Uid: 1001                               Limit: 2 GB
Used: 0 Byte                            Status: Ready

administrator@cli> 

Expect: specific nas user should have 3GB of storage limit in nasshare

quota -a set -d 0 -t nasshare -s "role=user,limit=3GB,name=test_quota_1"

administrator@cli> 
quota -v -d 0
-------------------------------------------------------------------------------
Name: test_quota_0                      AccountType: User
Uid: 1001                               Limit: 2 GB
Used: 0 Byte                            Status: Ready
-------------------------------------------------------------------------------
Name: test_quota_1                      AccountType: User
Uid: 1002                               Limit: 3 GB
Used: 0 Byte                            Status: Ready

administrator@cli> 

Expect: specific nas user should have 998GB of storage limit in nasshare

quota -a set -d 1 -t nasshare -s "role=group,limit=998GB,name=test_quota_group_0"

administrator@cli> 
quota -v -d 1
-------------------------------------------------------------------------------
Name: test_quota_group_0                AccountType: Group
Gid: 1001                               Limit: 998 GB
Used: 0 Byte                            Status: Ready

administrator@cli> 

Expect: specific nas user should have 999GB of storage limit in nasshare

quota -a set -d 1 -t nasshare -s "role=group,limit=999GB,name=test_quota_group_0"

administrator@cli> 
quota -v -d 1
-------------------------------------------------------------------------------
Name: test_quota_group_0                AccountType: Group
Gid: 1001                               Limit: 999 GB
Used: 0 Byte                            Status: Ready

administrator@cli> 

Expect: specific nas user should have 1000GB of storage limit in nasshare

quota -a set -d 1 -t nasshare -s "role=group,limit=1000GB,name=test_quota_group_1"

administrator@cli> 
quota -v -d 1
-------------------------------------------------------------------------------
Name: test_quota_group_0                AccountType: Group
Gid: 1001                               Limit: 999 GB
Used: 0 Byte                            Status: Ready
-------------------------------------------------------------------------------
Name: test_quota_group_1                AccountType: Group
Gid: 1002                               Limit: 1 TB
Used: 0 Byte                            Status: Ready

administrator@cli> 
'result': 'p'

Expect: quota of user for test_quota_0 should be deleted

quota -a set -d 0 -t nasshare -s "role=user,name=test_quota_0,limit=0GB"
Error (0x2013): Invalid setting parameters
invalid setting: 0GB

administrator@cli> 

Fail: quota -a set -d 0 -t nasshare -s "role=user,name=test_quota_0,limit=0GB"

'result': 'f'

Expect: quota of user for test_quota_0 should be deleted

quota -a set -d 0 -t nasshare -s "role=user,name=test_quota_0,limit="
Error (0x2013): Invalid setting parameters
invalid setting: 

administrator@cli> 

Fail: quota -a set -d 0 -t nasshare -s "role=user,name=test_quota_0,limit="

'result': 'f'

Expect: quota of user for test_quota_0 should be deleted

quota -a set -d 0 -t nasshare -s "role=user,name=test_quota_0,limit=0"

administrator@cli> 
quota -t nasshare -d 0
===============================================================================
Name                    Limit           Used             AccountType           
===============================================================================
test_quota_1            3 GB            0 Byte           User                  

administrator@cli> 
'result': 'p'

Expect: Missing parameter

quota -d
Error (0x403): Missing parameter
-d: missing value

administrator@cli> 

Expect: Missing parameter

quota -d 0 -t
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Expect: Missing parameter

quota -a
Error (0x403): Missing parameter
-a: missing value

administrator@cli> 

Expect: Missing parameter

quota -a set -d
Error (0x403): Missing parameter
-d: missing value

administrator@cli> 

Expect: Missing parameter

quota -a set -d 0 
Error (0x403): Missing parameter
missing parameter '-t' for '-a set'

administrator@cli> 

Expect: Missing parameter

quota -a set -d 0 -t 
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Expect: Missing parameter

quota -a set -d 0 -t nasshare 
Error (0x403): Missing parameter
missing parameter '-s' for '-a set'

administrator@cli> 

Expect: Missing parameter

quota -a set -d 0 -t nasshare -s
Error (0x403): Missing parameter
-s: missing value

administrator@cli> 

Expect: Missing parameter

quota -a set -d 0 -t clone
Error (0x403): Missing parameter
missing parameter '-s' for '-a set'

administrator@cli> 

Expect: Missing parameter

quota -a set -d 0 -t clone -s
Error (0x403): Missing parameter
-s: missing value

administrator@cli> 

Expect: Missing parameter

quota -a refresh
Error (0x403): Missing parameter
missing parameter '-t' for '-a refresh'

administrator@cli> 

Expect: Missing parameter

quota -a refresh -d
Error (0x403): Missing parameter
-d: missing value

administrator@cli> 

Expect: Missing parameter

quota -a refresh -d 0 -t
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 
'result': 'p'

Expect: domain setting should be listed

domain
===============================================================================
ControllerId                            DomainStatus                           
===============================================================================
2                                       error                                  
 
Not Joined into Domain mode
 
-------------------------------------------------------------------------------
Last successfully joined domain setting
-------------------------------------------------------------------------------
Netbios:                                Kdc: 
Domain:                                 Username: 

administrator@cli> 
'result': 'p'

Expect: Invalid setting parameters

domain test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid setting parameters

domain -a test
Error (0x2013): Invalid setting parameters
-a: invalid setting test (list|enable|disable|refresh|check)

administrator@cli> 

Expect: Invalid setting parameters

domain -a enable -t test -s ""
Error (0x2013): Invalid setting parameters
-t: invalid setting test (ad|ldap|od)

administrator@cli> 

Expect: Incorrect parameters

domain -a enable -t ad -s "domain=test,kdc=WIN-CC18N6QMNLL.2008AD.com, netbios=2008ad,username=administrator,password=password"
Error (0x4100104): Incorrect parameters: System DNS IP is empty. Please set it first.

administrator@cli> 

Fail: please check out System DNS IP is invalid


Expect: Invalid IP address

domain -a enable -t ldap -s "domain=test.com,server=test,security=none, basedn='dc=test,dc=com', username=admin,password=password, usersuffix='ou=People', grpsuffix='ou=Group'"
Error (0x4100104): Incorrect parameters: Invalid IP address format of [test]

administrator@cli> 

Expect: Invalid setting parameters

domain -a enable -t ldap -s "domain=test.com,server=10.84.2.46,security=tset, basedn='dc=test,dc=com', username=admin,password=password, usersuffix='ou=People', grpsuffix='ou=Group'"
Error (0x2013): Invalid setting parameters
security: invalid setting tset (none|tls|ssl)

administrator@cli> 

Expect: Invalid IP address

domain -a enable -t od -s "domain=test.com,server=test,basedn='dc=test,dc=com',username=administrator,password=password"
unexpected error
please send service report to your administrator
administrator@cli> 

Fail: domain -a enable -t od -s "domain=test.com,server=test,basedn='dc=test,dc=com',username=administrator,password=password"


Expect: Invalid setting parameters

domain -a check -t test
Error (0x2013): Invalid setting parameters
-t: invalid setting test (ad|ldap|od)

administrator@cli> 

Expect: Invalid setting parameters

domain -a check -t ldap -l "server=10.84.2.71,security=test,basedn=122"
Error (0x2013): Invalid setting parameters
security: invalid setting test (none|tls|ssl)

administrator@cli> 

Expect: Invalid IP address

domain -a check -t ldap -l "server=test,security=none,basedn=122"
Error (0x4100104): Incorrect parameters: Invalid IP address format of [test]

administrator@cli> 

Expect: Invalid setting parameters

domain -a disable test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid setting parameters

domain -a refresh test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 
'result': 'f'

Expect: Invalid option for the command or the action

domain -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

domain -a -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

domain -a enable -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

domain -a check -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

domain -a disable -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

domain -a refresh -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 
'result': 'p'

Expect: Missing parameter

domain -a enable -t ad -s "domain=2008ad.com,kdc=WIN-CC18N6QMNLL.2008AD.com, netbios=2008ad,username=administrator"
unexpected error
please send service report to your administrator
administrator@cli> 

Fail: domain -a enable -t ad -s "domain=2008ad.com,kdc=WIN-CC18N6QMNLL.2008AD.com, netbios=2008ad,username=administrator"


Expect: Missing parameter

domain -a enable -t ldap -s "server=10.84.2.46,security=none, basedn='dc=test,dc=com', username=admin,password=password, usersuffix='ou=People', grpsuffix='ou=Group'"
unexpected error
please send service report to your administrator
administrator@cli> 

Fail: domain -a enable -t ldap -s "server=10.84.2.46,security=none, basedn='dc=test,dc=com', username=admin,password=password, usersuffix='ou=People', grpsuffix='ou=Group'"


Expect: Missing parameter

domain -a enable -t od -s "domain=test.com,server=10.84.2.55,basedn='dc=test,dc=com',password=password"
unexpected error
please send service report to your administrator
administrator@cli> 

Fail: domain -a enable -t od -s "domain=test.com,server=10.84.2.55,basedn='dc=test,dc=com',password=password"


Expect: Missing parameter

domain -a
Error (0x403): Missing parameter
-a: missing value

administrator@cli> 

Expect: Missing parameter

domain -a enable -t
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Expect: Missing parameter

domain -a enable -t ad 
Error (0x403): Missing parameter
missing parameter '-s' for '-a enable'

administrator@cli> 

Expect: Missing parameter

domain -a enable -t ldap -s
Error (0x403): Missing parameter
-s: missing value

administrator@cli> 

Expect: Missing parameter

domain -a enable -t od -s
Error (0x403): Missing parameter
-s: missing value

administrator@cli> 

Expect: Missing parameter

domain -a check
Error (0x403): Missing parameter
missing parameter '-t' for '-a check'

administrator@cli> 

Expect: Missing parameter

domain -a check -t
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 
'result': 'f'

Expect: Missing parameter

domain -a enable -t ad -s "domain=2008ad.com,kdc=WIN-CC18N6QMNLL.2008AD.com, netbios=2008ad,username=administrator"
unexpected error
please send service report to your administrator
administrator@cli> 

Fail: domain -a enable -t ad -s "domain=2008ad.com,kdc=WIN-CC18N6QMNLL.2008AD.com, netbios=2008ad,username=administrator"


Expect: Missing parameter

domain -a enable -t ad -s "domain=2008ad.com,kdc=WIN-CC18N6QMNLL.2008AD.com, netbios=2008ad,password=test"
unexpected error
please send service report to your administrator
administrator@cli> 

Fail: domain -a enable -t ad -s "domain=2008ad.com,kdc=WIN-CC18N6QMNLL.2008AD.com, netbios=2008ad,password=test"


Expect: Missing parameter

domain -a enable -t ldap -s "server=10.84.2.46,security=none, basedn='dc=test,dc=com', username=admin,password=password, usersuffix='ou=People', grpsuffix='ou=Group'"
unexpected error
please send service report to your administrator
administrator@cli> 

Fail: domain -a enable -t ldap -s "server=10.84.2.46,security=none, basedn='dc=test,dc=com', username=admin,password=password, usersuffix='ou=People', grpsuffix='ou=Group'"


Expect: Missing parameter

domain -a enable -t od -s "domain=test.com,server=10.84.2.55,basedn='dc=test,dc=com',password=password"
unexpected error
please send service report to your administrator
administrator@cli> 

Fail: domain -a enable -t od -s "domain=test.com,server=10.84.2.55,basedn='dc=test,dc=com',password=password"


Expect: Missing parameter

domain -a
Error (0x403): Missing parameter
-a: missing value

administrator@cli> 

Expect: Missing parameter

domain -a enable -t
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Expect: Missing parameter

domain -a enable -t ad 
Error (0x403): Missing parameter
missing parameter '-s' for '-a enable'

administrator@cli> 

Expect: Missing parameter

domain -a enable -t ldap -s
Error (0x403): Missing parameter
-s: missing value

administrator@cli> 

Expect: Missing parameter

domain -a enable -t od -s
Error (0x403): Missing parameter
-s: missing value

administrator@cli> 

Expect: Missing parameter

domain -a check
Error (0x403): Missing parameter
missing parameter '-t' for '-a check'

administrator@cli> 

Expect: Missing parameter

domain -a check -t
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 
'result': 'f'

Expect: domain setting should be listed

domain
===============================================================================
ControllerId                            DomainStatus                           
===============================================================================
2                                       error                                  
 
Not Joined into Domain mode
 
-------------------------------------------------------------------------------
Last successfully joined domain setting
-------------------------------------------------------------------------------
Netbios:                                Kdc: 
Domain:                                 Username: 

administrator@cli> 
'result': 'p'

Expect: domain setting should be listed by verbose mode

domain -v
===============================================================================
ControllerId                            DomainStatus                           
===============================================================================
2                                       error                                  
 
Not Joined into Domain mode
 
-------------------------------------------------------------------------------
Last successfully joined domain setting
-------------------------------------------------------------------------------
Netbios:                                Kdc: 
Domain:                                 Username: 

administrator@cli> 
'result': 'p'

Need manual test


Expect: Invalid setting parameters

domain test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid setting parameters

domain -a test
Error (0x2013): Invalid setting parameters
-a: invalid setting test (list|enable|disable|refresh|check)

administrator@cli> 

Expect: Invalid setting parameter type

domain -a enable -t test -s ""
Error (0x2013): Invalid setting parameters
-t: invalid setting test (ad|ldap|od)

administrator@cli> 

Expect: Invalid IP address

domain -a enable -t ldap -s "domain=test.com,server=test,security=none, basedn='dc=test,dc=com', username=admin,password=password, usersuffix='ou=People', grpsuffix='ou=Group'"
Error (0x4100104): Incorrect parameters: Invalid IP address format of [test]

administrator@cli> 

Expect: Invalid setting parameter security

domain -a enable -t ldap -s "domain=test.com,server=10.84.2.46,security=tset, basedn='dc=test,dc=com', username=admin,password=password, usersuffix='ou=People', grpsuffix='ou=Group'"
Error (0x2013): Invalid setting parameters
security: invalid setting tset (none|tls|ssl)

administrator@cli> 

Expect: Invalid IP address

domain -a enable -t od -s "domain=test.com,server=test,basedn='dc=test,dc=com',username=administrator,password=password"
unexpected error
please send service report to your administrator
administrator@cli> 

Fail: domain -a enable -t od -s "domain=test.com,server=test,basedn='dc=test,dc=com',username=administrator,password=password"


Expect: Invalid setting parameters

domain -a check -t test
Error (0x2013): Invalid setting parameters
-t: invalid setting test (ad|ldap|od)

administrator@cli> 

Expect: Invalid setting parameter basedn

domain -a check -t ldap -l "server=10.84.2.71,security=test,basedn=122"
Error (0x2013): Invalid setting parameters
security: invalid setting test (none|tls|ssl)

administrator@cli> 

Expect: Invalid IP address

domain -a check -t ldap -l "server=test,security=none,basedn=122"
Error (0x4100104): Incorrect parameters: Invalid IP address format of [test]

administrator@cli> 

Expect: Invalid setting parameters

domain -a disable test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid setting parameters

domain -a refresh test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 
'result': 'f'

Expect: Invalid option for the command or the action

domain -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

domain -a -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

domain -a enable -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

domain -a check -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

domain -a disable -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

domain -a refresh -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 
'result': 'p'

Expect: Missing parameter

domain -a enable -t ad -s "domain=2008ad.com,kdc=WIN-CC18N6QMNLL.2008AD.com, netbios=2008ad,username=administrator"
unexpected error
please send service report to your administrator
administrator@cli> 

Fail: domain -a enable -t ad -s "domain=2008ad.com,kdc=WIN-CC18N6QMNLL.2008AD.com, netbios=2008ad,username=administrator"


Expect: Missing parameter

domain -a enable -t ad -s "domain=2008ad.com,kdc=WIN-CC18N6QMNLL.2008AD.com, netbios=2008ad,password=test"
unexpected error
please send service report to your administrator
administrator@cli> 

Fail: domain -a enable -t ad -s "domain=2008ad.com,kdc=WIN-CC18N6QMNLL.2008AD.com, netbios=2008ad,password=test"


Expect: Missing parameter

domain -a enable -t ldap -s "server=10.84.2.46,security=none, basedn='dc=test,dc=com', username=admin,password=password, usersuffix='ou=People', grpsuffix='ou=Group'"
unexpected error
please send service report to your administrator
administrator@cli> 

Fail: domain -a enable -t ldap -s "server=10.84.2.46,security=none, basedn='dc=test,dc=com', username=admin,password=password, usersuffix='ou=People', grpsuffix='ou=Group'"


Expect: Missing parameter

domain -a enable -t od -s "domain=test.com,server=10.84.2.55,basedn='dc=test,dc=com',password=password"
unexpected error
please send service report to your administrator
administrator@cli> 

Fail: domain -a enable -t od -s "domain=test.com,server=10.84.2.55,basedn='dc=test,dc=com',password=password"


Expect: Missing parameter

domain -a
Error (0x403): Missing parameter
-a: missing value

administrator@cli> 

Expect: Missing parameter

domain -a enable -t
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Expect: Missing parameter

domain -a enable -t ad 
Error (0x403): Missing parameter
missing parameter '-s' for '-a enable'

administrator@cli> 

Expect: Missing parameter

domain -a enable -t ldap -s
Error (0x403): Missing parameter
-s: missing value

administrator@cli> 

Expect: Missing parameter

domain -a enable -t od -s
Error (0x403): Missing parameter
-s: missing value

administrator@cli> 

Expect: Missing parameter

domain -a check
Error (0x403): Missing parameter
missing parameter '-t' for '-a check'

administrator@cli> 

Expect: Missing parameter

domain -a check -t
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 
'result': 'f'

Expect: list specific physical drive of HDD type

phydrv -p 1
===============================================================================
PdId Model       Type     CfgCapacity Location      OpStatus   ConfigStatus    
===============================================================================
1    HUS723020AL SAS HDD  2 TB        Encl1 Slot1   OK         Pool0           
     S640                                                                      

administrator@cli> 

Expect: list specific physical drive of SSD type

phydrv -p 5
===============================================================================
PdId Model       Type     CfgCapacity Location      OpStatus   ConfigStatus    
===============================================================================
5    INTEL       SAS SSD  31 GB       Encl1 Slot5   OK         Unconfigured    

administrator@cli> 

Expect: only display 2 physical drive info

phydrv -c 2
===============================================================================
PdId Model       Type     CfgCapacity Location      OpStatus   ConfigStatus    
===============================================================================
1    HUS723020AL SAS HDD  2 TB        Encl1 Slot1   OK         Pool0           
     S640                                                                      
2    HDS722020AL SAS HDD  2 TB        Encl1 Slot2   OK         Pool1           
     A330                                                                      

administrator@cli> 

Expect: all of physical drive should be listed

phydrv
===============================================================================
PdId Model       Type     CfgCapacity Location      OpStatus   ConfigStatus    
===============================================================================
1    HUS723020AL SAS HDD  2 TB        Encl1 Slot1   OK         Pool0           
     S640                                                                      
2    HDS722020AL SAS HDD  2 TB        Encl1 Slot2   OK         Pool1           
     A330                                                                      
3    ST373455SS  SAS HDD  73 GB       Encl1 Slot3   OK         Pool1           
4    HUS724040AL SAS HDD  4 TB        Encl1 Slot4   OK         Pool1           
     S640                                                                      
5    INTEL       SAS SSD  31 GB       Encl1 Slot5   OK         Unconfigured    
6    SSD U110    SAS SSD  31 GB       Encl1 Slot6   OK         Unconfigured    
     32GB                                                                      
8    HUS724040AL SAS HDD  4 TB        Encl1 Slot8   OK         Global Spare    
     S640                                                                      
9    HUS724040AL SAS HDD  4 TB        Encl1 Slot9   OK         Dedicated Spare 
     S640                                                                      
10   HUA723020AL SAS HDD  2 TB        Encl1 Slot10  OK         Unconfigured    
     A640                                                                      
11   HDS722020AL SAS HDD  2 TB        Encl1 Slot11  OK         Unconfigured    
     A330                                                                      
12   HUS724040AL SAS HDD  4 TB        Encl1 Slot12  OK         Unconfigured    
     S640                                                                      
13   ST3146356SS SAS HDD  146 GB      Encl1 Slot13  OK         Unconfigured    
14   HUS723020AL SAS HDD  2 TB        Encl1 Slot14  OK         Unconfigured    
     S640                                                                      
15   ST380815AS  SAS HDD  79 GB       Encl1 Slot15  OK         Unconfigured    
16   SSDSA2SH032 SAS SSD  31 GB       Encl1 Slot16  OK         Unconfigured    
     G1GN                                                                      

administrator@cli> 
'result': 'p'

Expect: list specific physical drive of HDD type by verbose mode

phydrv -v -p 1
-------------------------------------------------------------------------------
PdId: 1                                 EnclId: 1
SlotId: 1                               DriveType: SAS
OperationalStatus: OK                   Alias: 
PhysicalCapacity: 2 TB                  ConfigurableCapacity: 2 TB
UsedCapacity: 2 TB                      BlockSize: 512 Bytes
CfgStatus: Pool0                        Location: Encl1 Slot1
ModelNo: HITACHI HUS723020ALS640        ModelBrief: HUS723020ALS640
VisibleTo: All Controllers              SerialNo: YGGEU7BA
FwVer: A5B0                             ProtocolMajorVer: SPC-4
TrimType: Not Support                   MediaType: HDD
Type: SAS HDD                           Temperature: 30C/86F
ReferenceTemperature: 85C/185F          PowerSavingLevel: Disabled
WriteCacheSupport: Enabled              WriteCache: Enabled
RlaCacheSupport: Enabled                RlaCache: Enabled
WWN: 5000-cca0-1c19-1e40                NumPorts: 2
Port1SASAddress: 50-00-cc-a0-1c-19-1e-41
Port1Speed: Unknown (0)                 Port2Speed: 6Gb/s
Port2SASAddress: 50-00-cc-a0-1c-19-1e-42
Interface: 6Gb/s                        ReadCacheSupport: Enabled
ReadCache: Enabled                      CmdQueuingSupport: Enabled
CmdQueuing: Enabled                     SASSATABridgeFirmwareVersion: N/A
SASSATABridgeBootLoaderVersion: N/A     TempPollInt: 33
MediumErrorThreshold: 64                Glatency: 0
DataTransfered: 16055758848             ReadDataTransfered: 14964662784
WriteDataTransfered: 1091096064         Errors: 0
NonRwErrors: 0                          ReadErrors: 0
WriteErrors: 0                          NumOfMediumErrors: 0
IoRequest: 53275                        NonRwRequest: 3224
ReadIoRequest: 36174                    WriteIoRequest: 36174
AvgResponseTimeForCtrl2: 22020 milliseconds
AvgResponseTimeForCtrl1: N/A            MaxResponseTimeForCtrl1: N/A
MaxResponseTimeForCtrl2: 10 milliseconds
StartTime: 2018-01-12 01:02:56          CollectionTime: 2018-01-12 15:13:40

administrator@cli> 

Expect: list specific physical drive of SSD type by verbose mode

phydrv -v -p 5
-------------------------------------------------------------------------------
PdId: 5                                 EnclId: 1
SlotId: 5                               DriveType: SAS
OperationalStatus: OK                   Alias: 
PhysicalCapacity: 32 GB                 ConfigurableCapacity: 31 GB
UsedCapacity: 0 Byte                    BlockSize: 512 Bytes
CfgStatus: Unconfigured                 Location: Encl1 Slot5
ModelNo: SSDSA2SH032G1GN INTEL          ModelBrief: INTEL
VisibleTo: All Controllers              SerialNo: CVEM9384002J032HGN
FwVer: 8790                             ProtocolMajorVer: SPC-3
TrimType: Not Support                   MediaType: SSD
Type: SAS SSD                           Temperature: N/A
ReferenceTemperature: N/A               PowerSavingLevel: Disabled
WriteCacheSupport: Enabled              WriteCache: Enabled
RlaCacheSupport: Enabled                RlaCache: Enabled
WWN: 5001-5179-5909-1395                NumPorts: 2
Port1SASAddress: 50-06-05-ba-00-72-5d-21
Port1Speed: Unknown (0)                 Port2Speed: 6Gb/s
Port2SASAddress: 50-06-05-ba-00-72-5d-22
Interface: 6Gb/s                        ReadCacheSupport: Disabled
ReadCache: Enabled                      CmdQueuingSupport: Enabled
SASSATABridgeFirmwareVersion: 14_00_00_00
SASSATABridgeBootLoaderVersion: 0A_00_00_00
CmdQueuing: Enabled                     TempPollInt: 33
MediumErrorThreshold: 64                Glatency: 0
DataTransfered: 12062208                ReadDataTransfered: 9357824
WriteDataTransfered: 2704384            Errors: 0
NonRwErrors: 0                          ReadErrors: 0
WriteErrors: 0                          NumOfMediumErrors: 0
IoRequest: 1566                         NonRwRequest: 244
ReadIoRequest: 1114                     WriteIoRequest: 1114
AvgResponseTimeForCtrl1: N/A            AvgResponseTimeForCtrl2: 1 milliseconds
MaxResponseTimeForCtrl2: 400 milliseconds
MaxResponseTimeForCtrl1: N/A            StartTime: 2018-01-12 01:02:56
CollectionTime: 2018-01-12 15:13:40

administrator@cli> 

Expect: all of physical drive should be listed by verbose mode

phydrv -v
-------------------------------------------------------------------------------
PdId: 1                                 EnclId: 1
SlotId: 1                               DriveType: SAS
OperationalStatus: OK                   Alias: 
PhysicalCapacity: 2 TB                  ConfigurableCapacity: 2 TB
UsedCapacity: 2 TB                      BlockSize: 512 Bytes
CfgStatus: Pool0                        Location: Encl1 Slot1
ModelNo: HITACHI HUS723020ALS640        ModelBrief: HUS723020ALS640
VisibleTo: All Controllers              SerialNo: YGGEU7BA
FwVer: A5B0                             ProtocolMajorVer: SPC-4
TrimType: Not Support                   MediaType: HDD
Type: SAS HDD                           Temperature: 30C/86F
ReferenceTemperature: 85C/185F          PowerSavingLevel: Disabled
WriteCacheSupport: Enabled              WriteCache: Enabled
RlaCacheSupport: Enabled                RlaCache: Enabled
WWN: 5000-cca0-1c19-1e40                NumPorts: 2
Port1SASAddress: 50-00-cc-a0-1c-19-1e-41
Port1Speed: Unknown (0)                 Port2Speed: 6Gb/s
Port2SASAddress: 50-00-cc-a0-1c-19-1e-42
Interface: 6Gb/s                        ReadCacheSupport: Enabled
ReadCache: Enabled                      CmdQueuingSupport: Enabled
CmdQueuing: Enabled                     SASSATABridgeFirmwareVersion: N/A
SASSATABridgeBootLoaderVersion: N/A     TempPollInt: 33
MediumErrorThreshold: 64                Glatency: 0
DataTransfered: 16055758848             ReadDataTransfered: 14964662784
WriteDataTransfered: 1091096064         Errors: 0
NonRwErrors: 0                          ReadErrors: 0
WriteErrors: 0                          NumOfMediumErrors: 0
IoRequest: 53275                        NonRwRequest: 3224
ReadIoRequest: 36174                    WriteIoRequest: 36174
AvgResponseTimeForCtrl2: 22020 milliseconds
AvgResponseTimeForCtrl1: N/A            MaxResponseTimeForCtrl1: N/A
MaxResponseTimeForCtrl2: 10 milliseconds
StartTime: 2018-01-12 01:02:56          CollectionTime: 2018-01-12 15:13:40
-------------------------------------------------------------------------------
PdId: 2                                 EnclId: 1
SlotId: 2                               DriveType: SAS
OperationalStatus: OK                   Alias: 
PhysicalCapacity: 2 TB                  ConfigurableCapacity: 2 TB
UsedCapacity: 73 GB                     BlockSize: 512 Bytes
CfgStatus: Pool1                        Location: Encl1 Slot2
ModelNo: Hitachi HDS722020ALA330        ModelBrief: HDS722020ALA330
VisibleTo: All Controllers              SerialNo: JK11A8B9HL84YF
FwVer: A3MA                             ProtocolMajorVer: SPC-3
TrimType: Not Support                   MediaType: HDD
Type: SAS HDD                           Temperature: N/A
ReferenceTemperature: N/A               PowerSavingLevel: Disabled
WriteCacheSupport: Enabled              WriteCache: Enabled
RlaCacheSupport: Enabled                RlaCache: Enabled
WWN: 5000-cca2-22d6-64d0                NumPorts: 2
Port1SASAddress: 50-06-05-ba-00-72-c0-91
Port1Speed: Unknown (0)                 Port2Speed: 6Gb/s
Port2SASAddress: 50-06-05-ba-00-72-c0-92
Interface: 6Gb/s                        ReadCacheSupport: Disabled
ReadCache: Enabled                      CmdQueuingSupport: Enabled
SASSATABridgeFirmwareVersion: 14_00_00_00
SASSATABridgeBootLoaderVersion: 0A_00_00_00
CmdQueuing: Enabled                     TempPollInt: 33
MediumErrorThreshold: 64                Glatency: 0
DataTransfered: 16410236416             ReadDataTransfered: 1714585088
WriteDataTransfered: 14695651328        Errors: 0
NonRwErrors: 0                          ReadErrors: 0
WriteErrors: 0                          NumOfMediumErrors: 0
IoRequest: 55008                        NonRwRequest: 127
ReadIoRequest: 13173                    WriteIoRequest: 13173
AvgResponseTimeForCtrl1: N/A            AvgResponseTimeForCtrl2: 3 milliseconds
MaxResponseTimeForCtrl2: 410 milliseconds
MaxResponseTimeForCtrl1: N/A            StartTime: 2018-01-12 01:02:56
CollectionTime: 2018-01-12 15:13:41
-------------------------------------------------------------------------------
PdId: 3                                 EnclId: 1
SlotId: 3                               DriveType: SAS
OperationalStatus: OK                   Alias: 
PhysicalCapacity: 73.41 GB              ConfigurableCapacity: 73 GB
UsedCapacity: 73 GB                     BlockSize: 512 Bytes
CfgStatus: Pool1                        Location: Encl1 Slot3
ModelNo: SEAGATE ST373455SS             ModelBrief: ST373455SS
VisibleTo: All Controllers              SerialNo: 3LQ2RN3S
FwVer: S527                             ProtocolMajorVer: SPC-3
TrimType: Not Support                   MediaType: HDD
Type: SAS HDD                           Temperature: 29C/84F
ReferenceTemperature: 68C/154F          PowerSavingLevel: Disabled
WriteCacheSupport: Enabled              WriteCache: Enabled
RlaCacheSupport: Enabled                RlaCache: Enabled
WWN: 5000-c500-084f-388f                NumPorts: 2
Port1SASAddress: 50-00-c5-00-08-4f-38-8d
Port1Speed: 3Gb/s                       Port2Speed: 3Gb/s
Port2SASAddress: 50-00-c5-00-08-4f-38-8e
Interface: 3Gb/s                        ReadCacheSupport: Enabled
ReadCache: Enabled                      CmdQueuingSupport: Enabled
CmdQueuing: Enabled                     SASSATABridgeFirmwareVersion: N/A
SASSATABridgeBootLoaderVersion: N/A     TempPollInt: 33
MediumErrorThreshold: 64                Glatency: 0
DataTransfered: 5079552000              ReadDataTransfered: 3882461184
WriteDataTransfered: 1197090816         Errors: 0
NonRwErrors: 0                          ReadErrors: 0
WriteErrors: 0                          NumOfMediumErrors: 0
IoRequest: 35758                        NonRwRequest: 3222
ReadIoRequest: 17348                    WriteIoRequest: 17348
AvgResponseTimeForCtrl2: 46611 milliseconds
AvgResponseTimeForCtrl1: N/A            MaxResponseTimeForCtrl1: N/A
MaxResponseTimeForCtrl2: 10 milliseconds
StartTime: 2018-01-12 01:02:56          CollectionTime: 2018-01-12 15:13:41
-------------------------------------------------------------------------------
PdId: 4                                 EnclId: 1
SlotId: 4                               DriveType: SAS
OperationalStatus: OK                   Alias: 
PhysicalCapacity: 4 TB                  ConfigurableCapacity: 4 TB
UsedCapacity: 73 GB                     BlockSize: 512 Bytes
CfgStatus: Pool1                        Location: Encl1 Slot4
ModelNo: HGST    HUS724040ALS640        ModelBrief: HUS724040ALS640
VisibleTo: All Controllers              SerialNo: PBGVY90X
FwVer: A124                             ProtocolMajorVer: SPC-4
TrimType: Not Support                   MediaType: HDD
Type: SAS HDD                           Temperature: 32C/89F
ReferenceTemperature: 85C/185F          PowerSavingLevel: Disabled
WriteCacheSupport: Enabled              WriteCache: Enabled
RlaCacheSupport: Enabled                RlaCache: Enabled
WWN: 5000-cca0-3b30-fe68                NumPorts: 2
Port1SASAddress: 50-00-cc-a0-3b-30-fe-69
Port1Speed: Unknown (0)                 Port2Speed: 6Gb/s
Port2SASAddress: 50-00-cc-a0-3b-30-fe-6a
Interface: 6Gb/s                        ReadCacheSupport: Enabled
ReadCache: Enabled                      CmdQueuingSupport: Enabled
CmdQueuing: Enabled                     SASSATABridgeFirmwareVersion: N/A
SASSATABridgeBootLoaderVersion: N/A     TempPollInt: 33
MediumErrorThreshold: 64                Glatency: 0
DataTransfered: 4162524160              ReadDataTransfered: 1147827200
WriteDataTransfered: 3014696960         Errors: 0
NonRwErrors: 0                          ReadErrors: 0
WriteErrors: 0                          NumOfMediumErrors: 0
IoRequest: 28008                        NonRwRequest: 3225
ReadIoRequest: 9328                     WriteIoRequest: 9328
AvgResponseTimeForCtrl2: 53079 milliseconds
AvgResponseTimeForCtrl1: N/A            MaxResponseTimeForCtrl1: N/A
MaxResponseTimeForCtrl2: 10 milliseconds
StartTime: 2018-01-12 01:02:56          CollectionTime: 2018-01-12 15:13:41
-------------------------------------------------------------------------------
PdId: 5                                 EnclId: 1
SlotId: 5                               DriveType: SAS
OperationalStatus: OK                   Alias: 
PhysicalCapacity: 32 GB                 ConfigurableCapacity: 31 GB
UsedCapacity: 0 Byte                    BlockSize: 512 Bytes
CfgStatus: Unconfigured                 Location: Encl1 Slot5
ModelNo: SSDSA2SH032G1GN INTEL          ModelBrief: INTEL
VisibleTo: All Controllers              SerialNo: CVEM9384002J032HGN
FwVer: 8790                             ProtocolMajorVer: SPC-3
TrimType: Not Support                   MediaType: SSD
Type: SAS SSD                           Temperature: N/A
ReferenceTemperature: N/A               PowerSavingLevel: Disabled
WriteCacheSupport: Enabled              WriteCache: Enabled
RlaCacheSupport: Enabled                RlaCache: Enabled
WWN: 5001-5179-5909-1395                NumPorts: 2
Port1SASAddress: 50-06-05-ba-00-72-5d-21
Port1Speed: Unknown (0)                 Port2Speed: 6Gb/s
Port2SASAddress: 50-06-05-ba-00-72-5d-22
Interface: 6Gb/s                        ReadCacheSupport: Disabled
ReadCache: Enabled                      CmdQueuingSupport: Enabled
SASSATABridgeFirmwareVersion: 14_00_00_00
SASSATABridgeBootLoaderVersion: 0A_00_00_00
CmdQueuing: Enabled                     TempPollInt: 33
MediumErrorThreshold: 64                Glatency: 0
DataTransfered: 12062208                ReadDataTransfered: 9357824
WriteDataTransfered: 2704384            Errors: 0
NonRwErrors: 0                          ReadErrors: 0
WriteErrors: 0                          NumOfMediumErrors: 0
IoRequest: 1566                         NonRwRequest: 244
ReadIoRequest: 1114                     WriteIoRequest: 1114
AvgResponseTimeForCtrl1: N/A            AvgResponseTimeForCtrl2: 1 milliseconds
MaxResponseTimeForCtrl2: 400 milliseconds
MaxResponseTimeForCtrl1: N/A            StartTime: 2018-01-12 01:02:56
CollectionTime: 2018-01-12 15:13:41
-------------------------------------------------------------------------------
PdId: 6                                 EnclId: 1
SlotId: 6                               DriveType: SAS
OperationalStatus: OK                   Alias: 
PhysicalCapacity: 32.02 GB              ConfigurableCapacity: 31 GB
UsedCapacity: 0 Byte                    BlockSize: 512 Bytes
CfgStatus: Unconfigured                 Location: Encl1 Slot6
ModelNo: SanDisk SSD U110 32GB          ModelBrief: SSD U110 32GB
VisibleTo: All Controllers              SerialNo: 141406400035
FwVer: 000                              ProtocolMajorVer: SPC-3
TrimType: IRAT                          MediaType: SSD
Type: SAS SSD                           Temperature: N/A
ReferenceTemperature: N/A               PowerSavingLevel: Disabled
WriteCacheSupport: Enabled              WriteCache: Enabled
RlaCacheSupport: Enabled                RlaCache: Enabled
WWN: 5001-b44b-f80f-6a23                NumPorts: 2
Port1SASAddress: 50-06-05-ba-00-15-bd-25
Port1Speed: Unknown (0)                 Port2Speed: 6Gb/s
Port2SASAddress: 50-06-05-ba-00-15-bd-26
Interface: 6Gb/s                        ReadCacheSupport: Disabled
ReadCache: Enabled                      CmdQueuingSupport: Enabled
SASSATABridgeFirmwareVersion: 14_00_00_00
SASSATABridgeBootLoaderVersion: 0A_00_00_00
CmdQueuing: Enabled                     TempPollInt: 33
MediumErrorThreshold: 64                Glatency: 0
DataTransfered: 10203914240             ReadDataTransfered: 10183783936
WriteDataTransfered: 20130304           Errors: 0
NonRwErrors: 0                          ReadErrors: 0
WriteErrors: 0                          NumOfMediumErrors: 0
IoRequest: 20035                        NonRwRequest: 126
ReadIoRequest: 19423                    WriteIoRequest: 19423
AvgResponseTimeForCtrl1: N/A            AvgResponseTimeForCtrl2: 1 milliseconds
MaxResponseTimeForCtrl2: 410 milliseconds
MaxResponseTimeForCtrl1: N/A            StartTime: 2018-01-12 01:02:56
CollectionTime: 2018-01-12 15:13:41
-------------------------------------------------------------------------------
PdId: 8                                 EnclId: 1
SlotId: 8                               DriveType: SAS
OperationalStatus: OK                   Alias: 
PhysicalCapacity: 4 TB                  ConfigurableCapacity: 4 TB
UsedCapacity: 0 Byte                    BlockSize: 512 Bytes
CfgStatus: Global Spare                 Location: Encl1 Slot8
ModelNo: HGST    HUS724040ALS640        ModelBrief: HUS724040ALS640
VisibleTo: All Controllers              SerialNo: PBGW70LX
FwVer: A124                             ProtocolMajorVer: SPC-4
TrimType: Not Support                   MediaType: HDD
Type: SAS HDD                           Temperature: 34C/93F
ReferenceTemperature: 85C/185F          PowerSavingLevel: Disabled
WriteCacheSupport: Enabled              WriteCache: Enabled
RlaCacheSupport: Enabled                RlaCache: Enabled
WWN: 5000-cca0-3b31-8178                NumPorts: 2
Port1SASAddress: 50-00-cc-a0-3b-31-81-79
Port1Speed: Unknown (0)                 Port2Speed: 6Gb/s
Port2SASAddress: 50-00-cc-a0-3b-31-81-7a
Interface: 6Gb/s                        ReadCacheSupport: Enabled
ReadCache: Enabled                      CmdQueuingSupport: Enabled
CmdQueuing: Enabled                     SASSATABridgeFirmwareVersion: N/A
SASSATABridgeBootLoaderVersion: N/A     TempPollInt: 33
MediumErrorThreshold: 64                Glatency: 0
DataTransfered: 1930456576              ReadDataTransfered: 1389770240
WriteDataTransfered: 540686336          Errors: 0
NonRwErrors: 0                          ReadErrors: 0
WriteErrors: 0                          NumOfMediumErrors: 0
IoRequest: 17080                        NonRwRequest: 3225
ReadIoRequest: 6973                     WriteIoRequest: 6973
AvgResponseTimeForCtrl1: N/A            AvgResponseTimeForCtrl2: 1 milliseconds
MaxResponseTimeForCtrl2: 160 milliseconds
MaxResponseTimeForCtrl1: N/A            StartTime: 2018-01-12 01:02:56
CollectionTime: 2018-01-12 15:13:41
-------------------------------------------------------------------------------
PdId: 9                                 EnclId: 1
SlotId: 9                               DriveType: SAS
OperationalStatus: OK                   Alias: 
PhysicalCapacity: 4 TB                  ConfigurableCapacity: 4 TB
UsedCapacity: 0 Byte                    BlockSize: 512 Bytes
CfgStatus: Dedicated Spare              Location: Encl1 Slot9
ModelNo: HGST    HUS724040ALS640        ModelBrief: HUS724040ALS640
VisibleTo: All Controllers              SerialNo: PBH1ZHNX
FwVer: A124                             ProtocolMajorVer: SPC-4
TrimType: Not Support                   MediaType: HDD
Type: SAS HDD                           Temperature: 33C/91F
ReferenceTemperature: 85C/185F          PowerSavingLevel: Disabled
WriteCacheSupport: Enabled              WriteCache: Enabled
RlaCacheSupport: Enabled                RlaCache: Enabled
WWN: 5000-cca0-3b3b-f98c                NumPorts: 2
Port1SASAddress: 50-00-cc-a0-3b-3b-f9-8d
Port1Speed: Unknown (0)                 Port2Speed: 6Gb/s
Port2SASAddress: 50-00-cc-a0-3b-3b-f9-8e
Interface: 6Gb/s                        ReadCacheSupport: Enabled
ReadCache: Enabled                      CmdQueuingSupport: Enabled
CmdQueuing: Enabled                     SASSATABridgeFirmwareVersion: N/A
SASSATABridgeBootLoaderVersion: N/A     TempPollInt: 33
MediumErrorThreshold: 64                Glatency: 0
DataTransfered: 1929082880              ReadDataTransfered: 679440896
WriteDataTransfered: 1249641984         Errors: 0
NonRwErrors: 0                          ReadErrors: 0
WriteErrors: 0                          NumOfMediumErrors: 0
IoRequest: 17039                        NonRwRequest: 3225
ReadIoRequest: 5647                     WriteIoRequest: 5647
AvgResponseTimeForCtrl2: 29159 milliseconds
AvgResponseTimeForCtrl1: N/A            MaxResponseTimeForCtrl1: N/A
MaxResponseTimeForCtrl2: 10 milliseconds
StartTime: 2018-01-12 01:02:56          CollectionTime: 2018-01-12 15:13:41
-------------------------------------------------------------------------------
PdId: 10                                EnclId: 1
SlotId: 10                              DriveType: SAS
OperationalStatus: OK                   Alias: 
PhysicalCapacity: 2 TB                  ConfigurableCapacity: 2 TB
UsedCapacity: 0 Byte                    BlockSize: 512 Bytes
CfgStatus: Unconfigured                 Location: Encl1 Slot10
ModelNo: Hitachi HUA723020ALA640        ModelBrief: HUA723020ALA640
VisibleTo: All Controllers              SerialNo: MK0271YGHR5YZA
FwVer: AA10                             ProtocolMajorVer: SPC-3
TrimType: Not Support                   MediaType: HDD
Type: SAS HDD                           Temperature: N/A
ReferenceTemperature: N/A               PowerSavingLevel: Disabled
WriteCacheSupport: Enabled              WriteCache: Enabled
RlaCacheSupport: Enabled                RlaCache: Enabled
WWN: 5000-cca2-24d8-2e11                NumPorts: 2
Port1SASAddress: 50-06-05-ba-00-72-c2-71
Port1Speed: Unknown (0)                 Port2Speed: 6Gb/s
Port2SASAddress: 50-06-05-ba-00-72-c2-72
Interface: 6Gb/s                        ReadCacheSupport: Disabled
ReadCache: Enabled                      CmdQueuingSupport: Enabled
SASSATABridgeFirmwareVersion: 14_00_00_00
SASSATABridgeBootLoaderVersion: 0A_00_00_00
CmdQueuing: Enabled                     TempPollInt: 33
MediumErrorThreshold: 64                Glatency: 0
DataTransfered: 1267793408              ReadDataTransfered: 928593408
WriteDataTransfered: 339200000          Errors: 0
NonRwErrors: 0                          ReadErrors: 0
WriteErrors: 0                          NumOfMediumErrors: 0
IoRequest: 10168                        NonRwRequest: 125
ReadIoRequest: 5069                     WriteIoRequest: 5069
AvgResponseTimeForCtrl1: N/A            AvgResponseTimeForCtrl2: 1 milliseconds
MaxResponseTimeForCtrl2: 410 milliseconds
MaxResponseTimeForCtrl1: N/A            StartTime: 2018-01-12 01:02:56
CollectionTime: 2018-01-12 15:13:41
-------------------------------------------------------------------------------
PdId: 11                                EnclId: 1
SlotId: 11                              DriveType: SAS
OperationalStatus: OK                   Alias: 
PhysicalCapacity: 2 TB                  ConfigurableCapacity: 2 TB
UsedCapacity: 0 Byte                    BlockSize: 512 Bytes
CfgStatus: Unconfigured                 Location: Encl1 Slot11
ModelNo: Hitachi HDS722020ALA330        ModelBrief: HDS722020ALA330
VisibleTo: All Controllers              SerialNo: JK11A8B9HLDL9F
FwVer: A3MA                             ProtocolMajorVer: SPC-3
TrimType: Not Support                   MediaType: HDD
Type: SAS HDD                           Temperature: N/A
ReferenceTemperature: N/A               PowerSavingLevel: Disabled
WriteCacheSupport: Enabled              WriteCache: Enabled
RlaCacheSupport: Enabled                RlaCache: Enabled
WWN: 5000-cca2-22d6-7572                NumPorts: 2
Port1SASAddress: 50-06-05-ba-00-72-c2-d9
Port1Speed: Unknown (0)                 Port2Speed: 6Gb/s
Port2SASAddress: 50-06-05-ba-00-72-c2-da
Interface: 6Gb/s                        ReadCacheSupport: Disabled
ReadCache: Enabled                      CmdQueuingSupport: Enabled
SASSATABridgeFirmwareVersion: 14_00_00_00
SASSATABridgeBootLoaderVersion: 0A_00_00_00
CmdQueuing: Enabled                     TempPollInt: 33
MediumErrorThreshold: 64                Glatency: 0
DataTransfered: 1266423808              ReadDataTransfered: 334986752
WriteDataTransfered: 931437056          Errors: 0
NonRwErrors: 0                          ReadErrors: 0
WriteErrors: 0                          NumOfMediumErrors: 0
IoRequest: 10264                        NonRwRequest: 125
ReadIoRequest: 3935                     WriteIoRequest: 3935
AvgResponseTimeForCtrl1: N/A            AvgResponseTimeForCtrl2: 1 milliseconds
MaxResponseTimeForCtrl2: 410 milliseconds
MaxResponseTimeForCtrl1: N/A            StartTime: 2018-01-12 01:02:56
CollectionTime: 2018-01-12 15:13:41
-------------------------------------------------------------------------------
PdId: 12                                EnclId: 1
SlotId: 12                              DriveType: SAS
OperationalStatus: OK                   Alias: 
PhysicalCapacity: 4 TB                  ConfigurableCapacity: 4 TB
UsedCapacity: 0 Byte                    BlockSize: 512 Bytes
CfgStatus: Unconfigured                 Location: Encl1 Slot12
ModelNo: HGST    HUS724040ALS640        ModelBrief: HUS724040ALS640
VisibleTo: All Controllers              SerialNo: PBGWRKXX
FwVer: A124                             ProtocolMajorVer: SPC-4
TrimType: Not Support                   MediaType: HDD
Type: SAS HDD                           Temperature: 32C/89F
ReferenceTemperature: 85C/185F          PowerSavingLevel: Disabled
WriteCacheSupport: Enabled              WriteCache: Enabled
RlaCacheSupport: Enabled                RlaCache: Enabled
WWN: 5000-cca0-3b32-6b18                NumPorts: 2
Port1SASAddress: 50-00-cc-a0-3b-32-6b-19
Port1Speed: Unknown (0)                 Port2Speed: 6Gb/s
Port2SASAddress: 50-00-cc-a0-3b-32-6b-1a
Interface: 6Gb/s                        ReadCacheSupport: Enabled
ReadCache: Enabled                      CmdQueuingSupport: Enabled
CmdQueuing: Enabled                     SASSATABridgeFirmwareVersion: N/A
SASSATABridgeBootLoaderVersion: N/A     TempPollInt: 33
MediumErrorThreshold: 64                Glatency: 0
DataTransfered: 260690432               ReadDataTransfered: 144365056
WriteDataTransfered: 116325376          Errors: 0
NonRwErrors: 0                          ReadErrors: 0
WriteErrors: 0                          NumOfMediumErrors: 0
IoRequest: 6653                         NonRwRequest: 3225
ReadIoRequest: 1545                     WriteIoRequest: 1545
AvgResponseTimeForCtrl1: N/A            AvgResponseTimeForCtrl2: 1 milliseconds
MaxResponseTimeForCtrl2: 120 milliseconds
MaxResponseTimeForCtrl1: N/A            StartTime: 2018-01-12 01:02:56
CollectionTime: 2018-01-12 15:13:41
-------------------------------------------------------------------------------
PdId: 13                                EnclId: 1
SlotId: 13                              DriveType: SAS
OperationalStatus: OK                   Alias: 
PhysicalCapacity: 146.82 GB             ConfigurableCapacity: 146 GB
UsedCapacity: 0 Byte                    BlockSize: 512 Bytes
CfgStatus: Unconfigured                 Location: Encl1 Slot13
ModelNo: SEAGATE ST3146356SS            ModelBrief: ST3146356SS
VisibleTo: All Controllers              SerialNo: 3QN1V1R7
FwVer: HS0A                             ProtocolMajorVer: SPC-3
TrimType: Not Support                   MediaType: HDD
Type: SAS HDD                           Temperature: 32C/89F
ReferenceTemperature: 68C/154F          PowerSavingLevel: Disabled
WriteCacheSupport: Enabled              WriteCache: Enabled
RlaCacheSupport: Enabled                RlaCache: Enabled
WWN: 5000-c500-135e-561b                NumPorts: 2
Port1SASAddress: 50-00-c5-00-13-5e-56-19
Port1Speed: 1.5Gb/s                     Port2Speed: 3Gb/s
Port2SASAddress: 50-00-c5-00-13-5e-56-1a
Interface: 3Gb/s                        ReadCacheSupport: Enabled
ReadCache: Enabled                      CmdQueuingSupport: Enabled
CmdQueuing: Enabled                     SASSATABridgeFirmwareVersion: N/A
SASSATABridgeBootLoaderVersion: N/A     TempPollInt: 33
MediumErrorThreshold: 64                Glatency: 0
DataTransfered: 100349952               ReadDataTransfered: 44664320
WriteDataTransfered: 55685632           Errors: 0
NonRwErrors: 0                          ReadErrors: 0
WriteErrors: 0                          NumOfMediumErrors: 0
IoRequest: 4806                         NonRwRequest: 3222
ReadIoRequest: 692                      WriteIoRequest: 692
AvgResponseTimeForCtrl1: N/A            AvgResponseTimeForCtrl2: 5 milliseconds
MaxResponseTimeForCtrl2: 100 milliseconds
MaxResponseTimeForCtrl1: N/A            StartTime: 2018-01-12 01:02:56
CollectionTime: 2018-01-12 15:13:41
-------------------------------------------------------------------------------
PdId: 14                                EnclId: 1
SlotId: 14                              DriveType: SAS
OperationalStatus: OK                   Alias: 
PhysicalCapacity: 2 TB                  ConfigurableCapacity: 2 TB
UsedCapacity: 0 Byte                    BlockSize: 512 Bytes
CfgStatus: Unconfigured                 Location: Encl1 Slot14
ModelNo: HITACHI HUS723020ALS640        ModelBrief: HUS723020ALS640
VisibleTo: All Controllers              SerialNo: YFJ6TSEK
FwVer: A5B0                             ProtocolMajorVer: SPC-4
TrimType: Not Support                   MediaType: HDD
Type: SAS HDD                           Temperature: 32C/89F
ReferenceTemperature: 85C/185F          PowerSavingLevel: Disabled
WriteCacheSupport: Enabled              WriteCache: Enabled
RlaCacheSupport: Enabled                RlaCache: Enabled
WWN: 5000-cca0-1b7d-18a8                NumPorts: 2
Port1SASAddress: 50-00-cc-a0-1b-7d-18-a9
Port1Speed: Unknown (0)                 Port2Speed: 6Gb/s
Port2SASAddress: 50-00-cc-a0-1b-7d-18-aa
Interface: 6Gb/s                        ReadCacheSupport: Enabled
ReadCache: Enabled                      CmdQueuingSupport: Enabled
CmdQueuing: Enabled                     SASSATABridgeFirmwareVersion: N/A
SASSATABridgeBootLoaderVersion: N/A     TempPollInt: 33
MediumErrorThreshold: 64                Glatency: 0
DataTransfered: 100239360               ReadDataTransfered: 44828160
WriteDataTransfered: 55411200           Errors: 0
NonRwErrors: 0                          ReadErrors: 0
WriteErrors: 0                          NumOfMediumErrors: 0
IoRequest: 4834                         NonRwRequest: 3222
ReadIoRequest: 696                      WriteIoRequest: 696
AvgResponseTimeForCtrl1: N/A            AvgResponseTimeForCtrl2: 1 milliseconds
MaxResponseTimeForCtrl2: 120 milliseconds
MaxResponseTimeForCtrl1: N/A            StartTime: 2018-01-12 01:02:56
CollectionTime: 2018-01-12 15:13:41
-------------------------------------------------------------------------------
PdId: 15                                EnclId: 1
SlotId: 15                              DriveType: SAS
OperationalStatus: OK                   Alias: 
PhysicalCapacity: 80.03 GB              ConfigurableCapacity: 79 GB
UsedCapacity: 0 Byte                    BlockSize: 512 Bytes
CfgStatus: Unconfigured                 Location: Encl1 Slot15
ModelNo: ST380815AS                     ModelBrief: ST380815AS
VisibleTo: All Controllers              SerialNo: 6QZ167QX
FwVer: C                                ProtocolMajorVer: SPC-3
TrimType: Not Support                   MediaType: HDD
Type: SAS HDD                           Temperature: N/A
ReferenceTemperature: N/A               PowerSavingLevel: Disabled
WriteCacheSupport: Enabled              WriteCache: Enabled
RlaCacheSupport: Enabled                RlaCache: Enabled
WWN: 4154-4120-2020-2020                NumPorts: 2
Port1SASAddress: 50-06-05-ba-00-15-b3-6d
Port1Speed: Unknown (0)                 Port2Speed: 6Gb/s
Port2SASAddress: 50-06-05-ba-00-15-b3-6e
Interface: 6Gb/s                        ReadCacheSupport: Disabled
ReadCache: Enabled                      CmdQueuingSupport: Enabled
SASSATABridgeFirmwareVersion: 14_00_00_00
SASSATABridgeBootLoaderVersion: 0A_00_00_00
CmdQueuing: Enabled                     TempPollInt: 33
MediumErrorThreshold: 64                Glatency: 0
DataTransfered: 100390912               ReadDataTransfered: 44828160
WriteDataTransfered: 55562752           Errors: 0
NonRwErrors: 0                          ReadErrors: 0
WriteErrors: 0                          NumOfMediumErrors: 0
IoRequest: 1724                         NonRwRequest: 125
ReadIoRequest: 692                      WriteIoRequest: 692
AvgResponseTimeForCtrl1: N/A            AvgResponseTimeForCtrl2: 1 milliseconds
MaxResponseTimeForCtrl2: 410 milliseconds
MaxResponseTimeForCtrl1: N/A            StartTime: 2018-01-12 01:02:56
CollectionTime: 2018-01-12 15:13:41
-------------------------------------------------------------------------------
PdId: 16                                EnclId: 1
SlotId: 16                              DriveType: SAS
OperationalStatus: OK                   Alias: 
PhysicalCapacity: 32 GB                 ConfigurableCapacity: 31 GB
UsedCapacity: 0 Byte                    BlockSize: 512 Bytes
CfgStatus: Unconfigured                 Location: Encl1 Slot16
ModelNo: INTEL SSDSA2SH032G1GN          ModelBrief: SSDSA2SH032G1GN
VisibleTo: All Controllers              SerialNo: CVEM82840034032HGN
FwVer: 8620                             ProtocolMajorVer: SPC-3
TrimType: Not Support                   MediaType: SSD
Type: SAS SSD                           Temperature: N/A
ReferenceTemperature: N/A               PowerSavingLevel: Disabled
WriteCacheSupport: Enabled              WriteCache: Enabled
RlaCacheSupport: Enabled                RlaCache: Enabled
WWN: 5001-5170-ed62-119d                NumPorts: 2
Port1SASAddress: 50-06-05-ba-00-15-eb-bd
Port1Speed: Unknown (0)                 Port2Speed: 6Gb/s
Port2SASAddress: 50-06-05-ba-00-15-eb-be
Interface: 6Gb/s                        ReadCacheSupport: Disabled
ReadCache: Enabled                      CmdQueuingSupport: Enabled
SASSATABridgeFirmwareVersion: 14_00_00_00
SASSATABridgeBootLoaderVersion: 0A_00_00_00
CmdQueuing: Enabled                     TempPollInt: 33
MediumErrorThreshold: 64                Glatency: 0
DataTransfered: 10183979008             ReadDataTransfered: 1536
WriteDataTransfered: 10183977472        Errors: 0
NonRwErrors: 0                          ReadErrors: 0
WriteErrors: 0                          NumOfMediumErrors: 0
IoRequest: 20001                        NonRwRequest: 126
ReadIoRequest: 3                        WriteIoRequest: 3
AvgResponseTimeForCtrl1: N/A            AvgResponseTimeForCtrl2: 1 milliseconds
MaxResponseTimeForCtrl2: 410 milliseconds
MaxResponseTimeForCtrl1: N/A            StartTime: 2018-01-12 01:02:56
CollectionTime: 2018-01-12 15:13:41

administrator@cli> 
'result': 'p'

Expect: physical drive alias should be modified 1 char

phydrv -a mod -p 1 -s "alias=1"

administrator@cli> 
phydrv -v -p 1
-------------------------------------------------------------------------------
PdId: 1                                 EnclId: 1
SlotId: 1                               DriveType: SAS
OperationalStatus: OK                   Alias: 1
PhysicalCapacity: 2 TB                  ConfigurableCapacity: 2 TB
UsedCapacity: 2 TB                      BlockSize: 512 Bytes
CfgStatus: Pool0                        Location: Encl1 Slot1
ModelNo: HITACHI HUS723020ALS640        ModelBrief: HUS723020ALS640
VisibleTo: All Controllers              SerialNo: YGGEU7BA
FwVer: A5B0                             ProtocolMajorVer: SPC-4
TrimType: Not Support                   MediaType: HDD
Type: SAS HDD                           Temperature: 30C/86F
ReferenceTemperature: 85C/185F          PowerSavingLevel: Disabled
WriteCacheSupport: Enabled              WriteCache: Enabled
RlaCacheSupport: Enabled                RlaCache: Enabled
WWN: 5000-cca0-1c19-1e40                NumPorts: 2
Port1SASAddress: 50-00-cc-a0-1c-19-1e-41
Port1Speed: Unknown (0)                 Port2Speed: 6Gb/s
Port2SASAddress: 50-00-cc-a0-1c-19-1e-42
Interface: 6Gb/s                        ReadCacheSupport: Enabled
ReadCache: Enabled                      CmdQueuingSupport: Enabled
CmdQueuing: Enabled                     SASSATABridgeFirmwareVersion: N/A
SASSATABridgeBootLoaderVersion: N/A     TempPollInt: 33
MediumErrorThreshold: 64                Glatency: 0
DataTransfered: 16056297984             ReadDataTransfered: 14964662784
WriteDataTransfered: 1091635200         Errors: 0
NonRwErrors: 0                          ReadErrors: 0
WriteErrors: 0                          NumOfMediumErrors: 0
IoRequest: 53296                        NonRwRequest: 3226
ReadIoRequest: 36174                    WriteIoRequest: 36174
AvgResponseTimeForCtrl2: 34524 milliseconds
AvgResponseTimeForCtrl1: N/A            MaxResponseTimeForCtrl1: N/A
MaxResponseTimeForCtrl2: 10 milliseconds
StartTime: 2018-01-12 01:02:56          CollectionTime: 2018-01-12 15:13:43

administrator@cli> 

Expect: physical drive alias should be modified 2 char

phydrv -a mod -p 1 -s "alias=AB"

administrator@cli> 
phydrv -v -p 1
-------------------------------------------------------------------------------
PdId: 1                                 EnclId: 1
SlotId: 1                               DriveType: SAS
OperationalStatus: OK                   Alias: AB
PhysicalCapacity: 2 TB                  ConfigurableCapacity: 2 TB
UsedCapacity: 2 TB                      BlockSize: 512 Bytes
CfgStatus: Pool0                        Location: Encl1 Slot1
ModelNo: HITACHI HUS723020ALS640        ModelBrief: HUS723020ALS640
VisibleTo: All Controllers              SerialNo: YGGEU7BA
FwVer: A5B0                             ProtocolMajorVer: SPC-4
TrimType: Not Support                   MediaType: HDD
Type: SAS HDD                           Temperature: 30C/86F
ReferenceTemperature: 85C/185F          PowerSavingLevel: Disabled
WriteCacheSupport: Enabled              WriteCache: Enabled
RlaCacheSupport: Enabled                RlaCache: Enabled
WWN: 5000-cca0-1c19-1e40                NumPorts: 2
Port1SASAddress: 50-00-cc-a0-1c-19-1e-41
Port1Speed: Unknown (0)                 Port2Speed: 6Gb/s
Port2SASAddress: 50-00-cc-a0-1c-19-1e-42
Interface: 6Gb/s                        ReadCacheSupport: Enabled
ReadCache: Enabled                      CmdQueuingSupport: Enabled
CmdQueuing: Enabled                     SASSATABridgeFirmwareVersion: N/A
SASSATABridgeBootLoaderVersion: N/A     TempPollInt: 33
MediumErrorThreshold: 64                Glatency: 0
DataTransfered: 16056806912             ReadDataTransfered: 14964662784
WriteDataTransfered: 1092144128         Errors: 0
NonRwErrors: 0                          ReadErrors: 0
WriteErrors: 0                          NumOfMediumErrors: 0
IoRequest: 53310                        NonRwRequest: 3228
ReadIoRequest: 36174                    WriteIoRequest: 36174
AvgResponseTimeForCtrl2: 9965 milliseconds
AvgResponseTimeForCtrl1: N/A            MaxResponseTimeForCtrl1: N/A
MaxResponseTimeForCtrl2: 10 milliseconds
StartTime: 2018-01-12 01:02:56          CollectionTime: 2018-01-12 15:13:45

administrator@cli> 

Expect: physical drive alias should be modified 30 char

phydrv -a mod -p 1 -s "alias=test_test_test_test_test_tes30"

administrator@cli> 
phydrv -v -p 1
-------------------------------------------------------------------------------
PdId: 1                                 EnclId: 1
SlotId: 1                               DriveType: SAS
OperationalStatus: OK                   Alias: test_test_test_test_test_tes30
PhysicalCapacity: 2 TB                  ConfigurableCapacity: 2 TB
UsedCapacity: 2 TB                      BlockSize: 512 Bytes
CfgStatus: Pool0                        Location: Encl1 Slot1
ModelNo: HITACHI HUS723020ALS640        ModelBrief: HUS723020ALS640
VisibleTo: All Controllers              SerialNo: YGGEU7BA
FwVer: A5B0                             ProtocolMajorVer: SPC-4
TrimType: Not Support                   MediaType: HDD
Type: SAS HDD                           Temperature: 30C/86F
ReferenceTemperature: 85C/185F          PowerSavingLevel: Disabled
WriteCacheSupport: Enabled              WriteCache: Enabled
RlaCacheSupport: Enabled                RlaCache: Enabled
WWN: 5000-cca0-1c19-1e40                NumPorts: 2
Port1SASAddress: 50-00-cc-a0-1c-19-1e-41
Port1Speed: Unknown (0)                 Port2Speed: 6Gb/s
Port2SASAddress: 50-00-cc-a0-1c-19-1e-42
Interface: 6Gb/s                        ReadCacheSupport: Enabled
ReadCache: Enabled                      CmdQueuingSupport: Enabled
CmdQueuing: Enabled                     SASSATABridgeFirmwareVersion: N/A
SASSATABridgeBootLoaderVersion: N/A     TempPollInt: 33
MediumErrorThreshold: 64                Glatency: 0
DataTransfered: 16057315840             ReadDataTransfered: 14964662784
WriteDataTransfered: 1092653056         Errors: 0
NonRwErrors: 0                          ReadErrors: 0
WriteErrors: 0                          NumOfMediumErrors: 0
IoRequest: 53324                        NonRwRequest: 3230
ReadIoRequest: 36174                    WriteIoRequest: 36174
AvgResponseTimeForCtrl2: 27155 milliseconds
AvgResponseTimeForCtrl1: N/A            MaxResponseTimeForCtrl1: N/A
MaxResponseTimeForCtrl2: 10 milliseconds
StartTime: 2018-01-12 01:02:56          CollectionTime: 2018-01-12 15:13:47

administrator@cli> 

Expect: physical drive alias should be modified 31 char

phydrv -a mod -p 1 -s "alias=_test_test_test_test_test_tes31"

administrator@cli> 
phydrv -v -p 1
-------------------------------------------------------------------------------
PdId: 1                                 EnclId: 1
SlotId: 1                               DriveType: SAS
OperationalStatus: OK                   Alias: _test_test_test_test_test_tes31
PhysicalCapacity: 2 TB                  ConfigurableCapacity: 2 TB
UsedCapacity: 2 TB                      BlockSize: 512 Bytes
CfgStatus: Pool0                        Location: Encl1 Slot1
ModelNo: HITACHI HUS723020ALS640        ModelBrief: HUS723020ALS640
VisibleTo: All Controllers              SerialNo: YGGEU7BA
FwVer: A5B0                             ProtocolMajorVer: SPC-4
TrimType: Not Support                   MediaType: HDD
Type: SAS HDD                           Temperature: 30C/86F
ReferenceTemperature: 85C/185F          PowerSavingLevel: Disabled
WriteCacheSupport: Enabled              WriteCache: Enabled
RlaCacheSupport: Enabled                RlaCache: Enabled
WWN: 5000-cca0-1c19-1e40                NumPorts: 2
Port1SASAddress: 50-00-cc-a0-1c-19-1e-41
Port1Speed: Unknown (0)                 Port2Speed: 6Gb/s
Port2SASAddress: 50-00-cc-a0-1c-19-1e-42
Interface: 6Gb/s                        ReadCacheSupport: Enabled
ReadCache: Enabled                      CmdQueuingSupport: Enabled
CmdQueuing: Enabled                     SASSATABridgeFirmwareVersion: N/A
SASSATABridgeBootLoaderVersion: N/A     TempPollInt: 33
MediumErrorThreshold: 64                Glatency: 0
DataTransfered: 16057824768             ReadDataTransfered: 14964662784
WriteDataTransfered: 1093161984         Errors: 0
NonRwErrors: 0                          ReadErrors: 0
WriteErrors: 0                          NumOfMediumErrors: 0
IoRequest: 53338                        NonRwRequest: 3232
ReadIoRequest: 36174                    WriteIoRequest: 36174
AvgResponseTimeForCtrl2: 18981 milliseconds
AvgResponseTimeForCtrl1: N/A            MaxResponseTimeForCtrl1: N/A
MaxResponseTimeForCtrl2: 10 milliseconds
StartTime: 2018-01-12 01:02:56          CollectionTime: 2018-01-12 15:13:49

administrator@cli> 

Expect: modify pd by "writecache=enable,rlacache=disable,readcache=disable"

phydrv -a mod -s "writecache=enable,rlacache=disable,readcache=disable"

administrator@cli> 
phydrv -v -p 2
-------------------------------------------------------------------------------
PdId: 2                                 EnclId: 1
SlotId: 2                               DriveType: SAS
OperationalStatus: OK                   Alias: 
PhysicalCapacity: 2 TB                  ConfigurableCapacity: 2 TB
UsedCapacity: 73 GB                     BlockSize: 512 Bytes
CfgStatus: Pool1                        Location: Encl1 Slot2
ModelNo: Hitachi HDS722020ALA330        ModelBrief: HDS722020ALA330
VisibleTo: All Controllers              SerialNo: JK11A8B9HL84YF
FwVer: A3MA                             ProtocolMajorVer: SPC-3
TrimType: Not Support                   MediaType: HDD
Type: SAS HDD                           Temperature: N/A
ReferenceTemperature: N/A               PowerSavingLevel: Disabled
WriteCacheSupport: Enabled              WriteCache: Enabled
RlaCacheSupport: Enabled                RlaCache: Disabled
WWN: 5000-cca2-22d6-64d0                NumPorts: 2
Port1SASAddress: 50-06-05-ba-00-72-c0-91
Port1Speed: Unknown (0)                 Port2Speed: 6Gb/s
Port2SASAddress: 50-06-05-ba-00-72-c0-92
Interface: 6Gb/s                        ReadCacheSupport: Disabled
ReadCache: Disabled                     CmdQueuingSupport: Enabled
SASSATABridgeFirmwareVersion: 14_00_00_00
SASSATABridgeBootLoaderVersion: 0A_00_00_00
CmdQueuing: Enabled                     TempPollInt: 33
MediumErrorThreshold: 64                Glatency: 0
DataTransfered: 16634801152             ReadDataTransfered: 1863089664
WriteDataTransfered: 14771711488        Errors: 0
NonRwErrors: 0                          ReadErrors: 0
WriteErrors: 0                          NumOfMediumErrors: 0
IoRequest: 57493                        NonRwRequest: 148
ReadIoRequest: 14448                    WriteIoRequest: 14448
AvgResponseTimeForCtrl1: N/A            AvgResponseTimeForCtrl2: 3 milliseconds
MaxResponseTimeForCtrl2: 410 milliseconds
MaxResponseTimeForCtrl1: N/A            StartTime: 2018-01-12 01:02:56
CollectionTime: 2018-01-12 15:13:51

administrator@cli> 

Expect: modify pd by "writecache=disable,rlacache=enable,readcache=enable"

phydrv -a mod -s "writecache=disable,rlacache=enable,readcache=enable"

administrator@cli> 
phydrv -v -p 3
-------------------------------------------------------------------------------
PdId: 3                                 EnclId: 1
SlotId: 3                               DriveType: SAS
OperationalStatus: OK                   Alias: 
PhysicalCapacity: 73.41 GB              ConfigurableCapacity: 73 GB
UsedCapacity: 73 GB                     BlockSize: 512 Bytes
CfgStatus: Pool1                        Location: Encl1 Slot3
ModelNo: SEAGATE ST373455SS             ModelBrief: ST373455SS
VisibleTo: All Controllers              SerialNo: 3LQ2RN3S
FwVer: S527                             ProtocolMajorVer: SPC-3
TrimType: Not Support                   MediaType: HDD
Type: SAS HDD                           Temperature: 30C/86F
ReferenceTemperature: 68C/154F          PowerSavingLevel: Disabled
WriteCacheSupport: Enabled              WriteCache: Disabled
RlaCacheSupport: Enabled                RlaCache: Enabled
WWN: 5000-c500-084f-388f                NumPorts: 2
Port1SASAddress: 50-00-c5-00-08-4f-38-8d
Port1Speed: 3Gb/s                       Port2Speed: 3Gb/s
Port2SASAddress: 50-00-c5-00-08-4f-38-8e
Interface: 3Gb/s                        ReadCacheSupport: Enabled
ReadCache: Enabled                      CmdQueuingSupport: Enabled
CmdQueuing: Enabled                     SASSATABridgeFirmwareVersion: N/A
SASSATABridgeBootLoaderVersion: N/A     TempPollInt: 33
MediumErrorThreshold: 64                Glatency: 0
DataTransfered: 5330714624              ReadDataTransfered: 4048791552
WriteDataTransfered: 1281923072         Errors: 0
NonRwErrors: 0                          ReadErrors: 0
WriteErrors: 0                          NumOfMediumErrors: 0
IoRequest: 38545                        NonRwRequest: 3260
ReadIoRequest: 18776                    WriteIoRequest: 18776
AvgResponseTimeForCtrl2: 52474 milliseconds
AvgResponseTimeForCtrl1: N/A            MaxResponseTimeForCtrl1: N/A
MaxResponseTimeForCtrl2: 10 milliseconds
StartTime: 2018-01-12 01:02:56          CollectionTime: 2018-01-12 15:13:53

administrator@cli> 

Expect: modify pd by "temppollint=15,mediumerrorthreshold=0"

phydrv -a mod -s "temppollint=15,mediumerrorthreshold=0"

administrator@cli> 
phydrv -v -p 1
-------------------------------------------------------------------------------
PdId: 1                                 EnclId: 1
SlotId: 1                               DriveType: SAS
OperationalStatus: OK                   Alias: _test_test_test_test_test_tes31
PhysicalCapacity: 2 TB                  ConfigurableCapacity: 2 TB
UsedCapacity: 2 TB                      BlockSize: 512 Bytes
CfgStatus: Pool0                        Location: Encl1 Slot1
ModelNo: HITACHI HUS723020ALS640        ModelBrief: HUS723020ALS640
VisibleTo: All Controllers              SerialNo: YGGEU7BA
FwVer: A5B0                             ProtocolMajorVer: SPC-4
TrimType: Not Support                   MediaType: HDD
Type: SAS HDD                           Temperature: 30C/86F
ReferenceTemperature: 85C/185F          PowerSavingLevel: Disabled
WriteCacheSupport: Enabled              WriteCache: Disabled
RlaCacheSupport: Enabled                RlaCache: Enabled
WWN: 5000-cca0-1c19-1e40                NumPorts: 2
Port1SASAddress: 50-00-cc-a0-1c-19-1e-41
Port1Speed: Unknown (0)                 Port2Speed: 6Gb/s
Port2SASAddress: 50-00-cc-a0-1c-19-1e-42
Interface: 6Gb/s                        ReadCacheSupport: Enabled
ReadCache: Enabled                      CmdQueuingSupport: Enabled
CmdQueuing: Enabled                     SASSATABridgeFirmwareVersion: N/A
SASSATABridgeBootLoaderVersion: N/A     TempPollInt: 15
MediumErrorThreshold: 0                 Glatency: 0
DataTransfered: 16057824768             ReadDataTransfered: 14964662784
WriteDataTransfered: 1093161984         Errors: 0
NonRwErrors: 0                          ReadErrors: 0
WriteErrors: 0                          NumOfMediumErrors: 0
IoRequest: 53383                        NonRwRequest: 3277
ReadIoRequest: 36174                    WriteIoRequest: 36174
AvgResponseTimeForCtrl2: 63673 milliseconds
AvgResponseTimeForCtrl1: N/A            MaxResponseTimeForCtrl1: N/A
MaxResponseTimeForCtrl2: 10 milliseconds
StartTime: 2018-01-12 01:02:56          CollectionTime: 2018-01-12 15:13:55

administrator@cli> 

Expect: modify pd by "temppollint=16,mediumerrorthreshold=1"

phydrv -a mod -s "temppollint=16,mediumerrorthreshold=1"

administrator@cli> 
phydrv -v -p 4
-------------------------------------------------------------------------------
PdId: 4                                 EnclId: 1
SlotId: 4                               DriveType: SAS
OperationalStatus: OK                   Alias: 
PhysicalCapacity: 4 TB                  ConfigurableCapacity: 4 TB
UsedCapacity: 73 GB                     BlockSize: 512 Bytes
CfgStatus: Pool1                        Location: Encl1 Slot4
ModelNo: HGST    HUS724040ALS640        ModelBrief: HUS724040ALS640
VisibleTo: All Controllers              SerialNo: PBGVY90X
FwVer: A124                             ProtocolMajorVer: SPC-4
TrimType: Not Support                   MediaType: HDD
Type: SAS HDD                           Temperature: 32C/89F
ReferenceTemperature: 85C/185F          PowerSavingLevel: Disabled
WriteCacheSupport: Enabled              WriteCache: Disabled
RlaCacheSupport: Enabled                RlaCache: Enabled
WWN: 5000-cca0-3b30-fe68                NumPorts: 2
Port1SASAddress: 50-00-cc-a0-3b-30-fe-69
Port1Speed: Unknown (0)                 Port2Speed: 6Gb/s
Port2SASAddress: 50-00-cc-a0-3b-30-fe-6a
Interface: 6Gb/s                        ReadCacheSupport: Enabled
ReadCache: Enabled                      CmdQueuingSupport: Enabled
CmdQueuing: Enabled                     SASSATABridgeFirmwareVersion: N/A
SASSATABridgeBootLoaderVersion: N/A     TempPollInt: 16
MediumErrorThreshold: 1                 Glatency: 0
DataTransfered: 4447837696              ReadDataTransfered: 1336915968
WriteDataTransfered: 3110921728         Errors: 0
NonRwErrors: 0                          ReadErrors: 0
WriteErrors: 0                          NumOfMediumErrors: 0
IoRequest: 31193                        NonRwRequest: 3293
ReadIoRequest: 10953                    WriteIoRequest: 10953
AvgResponseTimeForCtrl2: 30495 milliseconds
AvgResponseTimeForCtrl1: N/A            MaxResponseTimeForCtrl1: N/A
MaxResponseTimeForCtrl2: 10 milliseconds
StartTime: 2018-01-12 01:02:56          CollectionTime: 2018-01-12 15:13:56

administrator@cli> 

Expect: modify pd by "temppollint=254,mediumerrorthreshold=4294967293"

phydrv -a mod -s "temppollint=254,mediumerrorthreshold=4294967293"

administrator@cli> 
phydrv -v -p 8
-------------------------------------------------------------------------------
PdId: 8                                 EnclId: 1
SlotId: 8                               DriveType: SAS
OperationalStatus: OK                   Alias: 
PhysicalCapacity: 4 TB                  ConfigurableCapacity: 4 TB
UsedCapacity: 0 Byte                    BlockSize: 512 Bytes
CfgStatus: Global Spare                 Location: Encl1 Slot8
ModelNo: HGST    HUS724040ALS640        ModelBrief: HUS724040ALS640
VisibleTo: All Controllers              SerialNo: PBGW70LX
FwVer: A124                             ProtocolMajorVer: SPC-4
TrimType: Not Support                   MediaType: HDD
Type: SAS HDD                           Temperature: 34C/93F
ReferenceTemperature: 85C/185F          PowerSavingLevel: Disabled
WriteCacheSupport: Enabled              WriteCache: Disabled
RlaCacheSupport: Enabled                RlaCache: Enabled
WWN: 5000-cca0-3b31-8178                NumPorts: 2
Port1SASAddress: 50-00-cc-a0-3b-31-81-79
Port1Speed: Unknown (0)                 Port2Speed: 6Gb/s
Port2SASAddress: 50-00-cc-a0-3b-31-81-7a
Interface: 6Gb/s                        ReadCacheSupport: Enabled
ReadCache: Enabled                      CmdQueuingSupport: Enabled
CmdQueuing: Enabled                     SASSATABridgeFirmwareVersion: N/A
SASSATABridgeBootLoaderVersion: N/A     TempPollInt: 254
MediumErrorThreshold: 4294967293        Glatency: 0
DataTransfered: 1932037632              ReadDataTransfered: 1389770240
WriteDataTransfered: 542267392          Errors: 0
NonRwErrors: 0                          ReadErrors: 0
WriteErrors: 0                          NumOfMediumErrors: 0
IoRequest: 17195                        NonRwRequest: 3308
ReadIoRequest: 6973                     WriteIoRequest: 6973
AvgResponseTimeForCtrl1: N/A            AvgResponseTimeForCtrl2: 1 milliseconds
MaxResponseTimeForCtrl2: 160 milliseconds
MaxResponseTimeForCtrl1: N/A            StartTime: 2018-01-12 01:02:56
CollectionTime: 2018-01-12 15:13:58

administrator@cli> 

Expect: modify pd by "temppollint=255,mediumerrorthreshold=4294967294"

phydrv -a mod -s "temppollint=255,mediumerrorthreshold=4294967294"

administrator@cli> 
phydrv -v -p 9
-------------------------------------------------------------------------------
PdId: 9                                 EnclId: 1
SlotId: 9                               DriveType: SAS
OperationalStatus: OK                   Alias: 
PhysicalCapacity: 4 TB                  ConfigurableCapacity: 4 TB
UsedCapacity: 0 Byte                    BlockSize: 512 Bytes
CfgStatus: Dedicated Spare              Location: Encl1 Slot9
ModelNo: HGST    HUS724040ALS640        ModelBrief: HUS724040ALS640
VisibleTo: All Controllers              SerialNo: PBH1ZHNX
FwVer: A124                             ProtocolMajorVer: SPC-4
TrimType: Not Support                   MediaType: HDD
Type: SAS HDD                           Temperature: 33C/91F
ReferenceTemperature: 85C/185F          PowerSavingLevel: Disabled
WriteCacheSupport: Enabled              WriteCache: Disabled
RlaCacheSupport: Enabled                RlaCache: Enabled
WWN: 5000-cca0-3b3b-f98c                NumPorts: 2
Port1SASAddress: 50-00-cc-a0-3b-3b-f9-8d
Port1Speed: Unknown (0)                 Port2Speed: 6Gb/s
Port2SASAddress: 50-00-cc-a0-3b-3b-f9-8e
Interface: 6Gb/s                        ReadCacheSupport: Enabled
ReadCache: Enabled                      CmdQueuingSupport: Enabled
CmdQueuing: Enabled                     SASSATABridgeFirmwareVersion: N/A
SASSATABridgeBootLoaderVersion: N/A     TempPollInt: 255
MediumErrorThreshold: 4294967294        Glatency: 0
DataTransfered: 1930663936              ReadDataTransfered: 679440896
WriteDataTransfered: 1251223040         Errors: 0
NonRwErrors: 0                          ReadErrors: 0
WriteErrors: 0                          NumOfMediumErrors: 0
IoRequest: 17169                        NonRwRequest: 3323
ReadIoRequest: 5647                     WriteIoRequest: 5647
AvgResponseTimeForCtrl2: 37754 milliseconds
AvgResponseTimeForCtrl1: N/A            MaxResponseTimeForCtrl1: N/A
MaxResponseTimeForCtrl2: 10 milliseconds
StartTime: 2018-01-12 01:02:56          CollectionTime: 2018-01-12 15:13:59

administrator@cli> 

Expect: modify pd by "temppollint=77,mediumerrorthreshold=777"

phydrv -a mod -s "temppollint=77,mediumerrorthreshold=777"

administrator@cli> 
phydrv -v -p 1
-------------------------------------------------------------------------------
PdId: 1                                 EnclId: 1
SlotId: 1                               DriveType: SAS
OperationalStatus: OK                   Alias: _test_test_test_test_test_tes31
PhysicalCapacity: 2 TB                  ConfigurableCapacity: 2 TB
UsedCapacity: 2 TB                      BlockSize: 512 Bytes
CfgStatus: Pool0                        Location: Encl1 Slot1
ModelNo: HITACHI HUS723020ALS640        ModelBrief: HUS723020ALS640
VisibleTo: All Controllers              SerialNo: YGGEU7BA
FwVer: A5B0                             ProtocolMajorVer: SPC-4
TrimType: Not Support                   MediaType: HDD
Type: SAS HDD                           Temperature: 30C/86F
ReferenceTemperature: 85C/185F          PowerSavingLevel: Disabled
WriteCacheSupport: Enabled              WriteCache: Disabled
RlaCacheSupport: Enabled                RlaCache: Enabled
WWN: 5000-cca0-1c19-1e40                NumPorts: 2
Port1SASAddress: 50-00-cc-a0-1c-19-1e-41
Port1Speed: Unknown (0)                 Port2Speed: 6Gb/s
Port2SASAddress: 50-00-cc-a0-1c-19-1e-42
Interface: 6Gb/s                        ReadCacheSupport: Enabled
ReadCache: Enabled                      CmdQueuingSupport: Enabled
CmdQueuing: Enabled                     SASSATABridgeFirmwareVersion: N/A
SASSATABridgeBootLoaderVersion: N/A     TempPollInt: 77
MediumErrorThreshold: 777               Glatency: 0
DataTransfered: 16057824768             ReadDataTransfered: 14964662784
WriteDataTransfered: 1093161984         Errors: 0
NonRwErrors: 0                          ReadErrors: 0
WriteErrors: 0                          NumOfMediumErrors: 0
IoRequest: 53443                        NonRwRequest: 3337
ReadIoRequest: 36174                    WriteIoRequest: 36174
AvgResponseTimeForCtrl2: 63297 milliseconds
AvgResponseTimeForCtrl1: N/A            MaxResponseTimeForCtrl1: N/A
MaxResponseTimeForCtrl2: 10 milliseconds
StartTime: 2018-01-12 01:02:56          CollectionTime: 2018-01-12 15:14:01

administrator@cli> 

Expect: all physical drive should be modified by "temppollint=22,mediumerrorthreshold=222"

phydrv -a mod -d all -s "temppollint=22,mediumerrorthreshold=222"

administrator@cli> 
phydrv -v -p 1
-------------------------------------------------------------------------------
PdId: 1                                 EnclId: 1
SlotId: 1                               DriveType: SAS
OperationalStatus: OK                   Alias: _test_test_test_test_test_tes31
PhysicalCapacity: 2 TB                  ConfigurableCapacity: 2 TB
UsedCapacity: 2 TB                      BlockSize: 512 Bytes
CfgStatus: Pool0                        Location: Encl1 Slot1
ModelNo: HITACHI HUS723020ALS640        ModelBrief: HUS723020ALS640
VisibleTo: All Controllers              SerialNo: YGGEU7BA
FwVer: A5B0                             ProtocolMajorVer: SPC-4
TrimType: Not Support                   MediaType: HDD
Type: SAS HDD                           Temperature: 31C/87F
ReferenceTemperature: 85C/185F          PowerSavingLevel: Disabled
WriteCacheSupport: Enabled              WriteCache: Disabled
RlaCacheSupport: Enabled                RlaCache: Enabled
WWN: 5000-cca0-1c19-1e40                NumPorts: 2
Port1SASAddress: 50-00-cc-a0-1c-19-1e-41
Port1Speed: Unknown (0)                 Port2Speed: 6Gb/s
Port2SASAddress: 50-00-cc-a0-1c-19-1e-42
Interface: 6Gb/s                        ReadCacheSupport: Enabled
ReadCache: Enabled                      CmdQueuingSupport: Enabled
CmdQueuing: Enabled                     SASSATABridgeFirmwareVersion: N/A
SASSATABridgeBootLoaderVersion: N/A     TempPollInt: 22
MediumErrorThreshold: 222               Glatency: 0
DataTransfered: 16057824768             ReadDataTransfered: 14964662784
WriteDataTransfered: 1093161984         Errors: 0
NonRwErrors: 0                          ReadErrors: 0
WriteErrors: 0                          NumOfMediumErrors: 0
IoRequest: 53458                        NonRwRequest: 3352
ReadIoRequest: 36174                    WriteIoRequest: 36174
AvgResponseTimeForCtrl2: 58307 milliseconds
AvgResponseTimeForCtrl1: N/A            MaxResponseTimeForCtrl1: N/A
MaxResponseTimeForCtrl2: 10 milliseconds
StartTime: 2018-01-12 01:02:56          CollectionTime: 2018-01-12 15:14:03

administrator@cli> 

Expect: only sas physical drive should be modified by "temppollint=33,mediumerrorthreshold=333"

phydrv -a mod -d sas -s "temppollint=33,mediumerrorthreshold=333"

administrator@cli> 
phydrv -v -p 1
-------------------------------------------------------------------------------
PdId: 1                                 EnclId: 1
SlotId: 1                               DriveType: SAS
OperationalStatus: OK                   Alias: _test_test_test_test_test_tes31
PhysicalCapacity: 2 TB                  ConfigurableCapacity: 2 TB
UsedCapacity: 2 TB                      BlockSize: 512 Bytes
CfgStatus: Pool0                        Location: Encl1 Slot1
ModelNo: HITACHI HUS723020ALS640        ModelBrief: HUS723020ALS640
VisibleTo: All Controllers              SerialNo: YGGEU7BA
FwVer: A5B0                             ProtocolMajorVer: SPC-4
TrimType: Not Support                   MediaType: HDD
Type: SAS HDD                           Temperature: 31C/87F
ReferenceTemperature: 85C/185F          PowerSavingLevel: Disabled
WriteCacheSupport: Enabled              WriteCache: Disabled
RlaCacheSupport: Enabled                RlaCache: Enabled
WWN: 5000-cca0-1c19-1e40                NumPorts: 2
Port1SASAddress: 50-00-cc-a0-1c-19-1e-41
Port1Speed: Unknown (0)                 Port2Speed: 6Gb/s
Port2SASAddress: 50-00-cc-a0-1c-19-1e-42
Interface: 6Gb/s                        ReadCacheSupport: Enabled
ReadCache: Enabled                      CmdQueuingSupport: Enabled
CmdQueuing: Enabled                     SASSATABridgeFirmwareVersion: N/A
SASSATABridgeBootLoaderVersion: N/A     TempPollInt: 33
MediumErrorThreshold: 333               Glatency: 0
DataTransfered: 16057824768             ReadDataTransfered: 14964662784
WriteDataTransfered: 1093161984         Errors: 0
NonRwErrors: 0                          ReadErrors: 0
WriteErrors: 0                          NumOfMediumErrors: 0
IoRequest: 53472                        NonRwRequest: 3366
ReadIoRequest: 36174                    WriteIoRequest: 36174
AvgResponseTimeForCtrl2: 27254 milliseconds
AvgResponseTimeForCtrl1: N/A            MaxResponseTimeForCtrl1: N/A
MaxResponseTimeForCtrl2: 10 milliseconds
StartTime: 2018-01-12 01:02:56          CollectionTime: 2018-01-12 15:14:04

administrator@cli> 
'result': 'p'

Expect: pd can be located when it configured pool

phydrv -a locate -p 1

administrator@cli> 

Expect: pd can be located when it configured wcache

phydrv -a locate -p 5

administrator@cli> 

Expect: pd can be located when it configured global spare

phydrv -a locate -p 8

administrator@cli> 

Expect: pd can be located when it configured dedicated spare

phydrv -a locate -p 9

administrator@cli> 

Expect: pd can be located when it configured unconfigured

phydrv -a locate -p 10

administrator@cli> 

Expect: pd can be located when it configured rcache

phydrv -a locate -p 16

administrator@cli> 
'result': 'p'

Expect: the specific pd is offline

phydrv -a offline -p 2

administrator@cli> 
phydrv -p 2
===============================================================================
PdId Model       Type     CfgCapacity Location      OpStatus   ConfigStatus    
===============================================================================
2    HDS722020AL SAS HDD  2 TB        Encl1 Slot2   Forced     Pool0           
     A330                                           Offline                    

administrator@cli> 

Expect: the specific pd is online

phydrv -a online -p 2

administrator@cli> 
phydrv -p 2
===============================================================================
PdId Model       Type     CfgCapacity Location      OpStatus   ConfigStatus    
===============================================================================
2    HDS722020AL SAS HDD  2 TB        Encl1 Slot2   OK, Forced Pool0           
     A330                                           Online                     

administrator@cli> 
'result': 'p'

Expect: precondition

phydrv -a offline -p 1

administrator@cli> 
phydrv -p 1
===============================================================================
PdId Model       Type     CfgCapacity Location      OpStatus   ConfigStatus    
===============================================================================
1    HUS723020AL SAS HDD  2 TB        Encl1 Slot1   Stale      StaleConfig     
     S640                                                                      

administrator@cli> 

Expect: to clear the stale configuration on the drive

phydrv -a clear -p 1 -t staleconfig

administrator@cli> 
phydrv -p 1
===============================================================================
PdId Model       Type     CfgCapacity Location      OpStatus   ConfigStatus    
===============================================================================
1    HUS723020AL SAS HDD  2 TB        Encl1 Slot1   OK         Unconfigured    
     S640                                                                      

administrator@cli> 
'result': 'p'

Expect: Invalid setting parameters

phydrv test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid setting parameters

phydrv -p 513
Error (0x2013): Invalid setting parameters
-p: invalid setting 513 (1,512)

administrator@cli> 

Expect: Invalid setting parameters

phydrv -p test
Error (0x2013): Invalid setting parameters
-p: invalid setting test

administrator@cli> 

Expect: Invalid setting parameters

phydrv -c test
Error (0x2013): Invalid setting parameters
-c: invalid setting test

administrator@cli> 

Expect: Invalid setting parameters

phydrv -c -1
Error (0x2013): Invalid setting parameters
-c: invalid setting -1 (0,512)

administrator@cli> 

Expect: Invalid setting parameters

phydrv -a mod test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid physical drive id in data buffer

phydrv -a mod -p 17 -s "alias=test"
Error (0x49841602): Invalid physical drive id in data buffer

administrator@cli> 

Expect: Invalid

phydrv -a mod -d sata -p 1 -s "alias=test"
Error (0x402): Invalid parameter
-p: do not specify physical drive id due to -d is specified

administrator@cli> 

Expect: Invalid physical drive id

phydrv -a mod -p 1 -s "alias=test"
Error (0x4023): Invalid physical drive id
Cannot modify alias of an unconfigured drive

administrator@cli> 

Expect: Invalid setting parameters

phydrv -a mod -p test -s "alias=1,writecache=enable,rlacache=disable"
Error (0x2013): Invalid setting parameters
-p: invalid setting test

administrator@cli> 

Expect: Invalid setting parameters

phydrv -a mod -p 1 -s test
Error (0x2013): Invalid setting parameters
invalid option: ['test']

administrator@cli> 

Expect: Invalid setting parameters

phydrv -a mod -p 1 -s ""
Error (0x2013): Invalid setting parameters
invalid comma: ','

administrator@cli> 

Expect: Invalid setting parameters

phydrv -a mod -s test
Error (0x2013): Invalid setting parameters
invalid option: ['test']

administrator@cli> 

Expect: Invalid setting parameters

phydrv -a mod -s ""
Error (0x2013): Invalid setting parameters
invalid comma: ','

administrator@cli> 

Expect: Invalid setting parameters

phydrv -a mod -d all -s test
Error (0x2013): Invalid setting parameters
invalid option: ['test']

administrator@cli> 

Expect: Invalid setting parameters

phydrv -a mod -d all -s ""
Error (0x2013): Invalid setting parameters
invalid comma: ','

administrator@cli> 

Expect: Invalid setting parameters

phydrv -a mod -d sata -s test
Error (0x2013): Invalid setting parameters
invalid option: ['test']

administrator@cli> 

Expect: Invalid setting parameters

phydrv -a mod -d sata -s ""
Error (0x2013): Invalid setting parameters
invalid comma: ','

administrator@cli> 

Expect: Invalid setting parameters

phydrv -a mod -d sas -s test
Error (0x2013): Invalid setting parameters
invalid option: ['test']

administrator@cli> 

Expect: Invalid setting parameters

phydrv -a mod -d sas -s ""
Error (0x2013): Invalid setting parameters
invalid comma: ','

administrator@cli> 

Expect: Invalid setting parameters

phydrv -a locate test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid setting parameters

phydrv -a locate -p test
Error (0x2013): Invalid setting parameters
-p: invalid setting test

administrator@cli> 

Expect: Invalid physical drive id

phydrv -a locate -p 17
Error (0x498F0D02): Invalid physical drive id

administrator@cli> 

Expect: Invalid setting parameters

phydrv -a offline test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid physical drive id in data buffer

phydrv -a offline -p 17
Error (0x49841602): Invalid physical drive id in data buffer

administrator@cli> 

Expect: Invalid setting parameters

phydrv -a offline -p test
Error (0x2013): Invalid setting parameters
-p: invalid setting test

administrator@cli> 

Expect: Invalid setting parameters

phydrv -a online test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid physical drive id in data buffer

phydrv -a online -p 17
Error (0x49841602): Invalid physical drive id in data buffer

administrator@cli> 

Expect: Invalid setting parameters

phydrv -a online -p test
Error (0x2013): Invalid setting parameters
-p: invalid setting test

administrator@cli> 

Expect: Invalid setting parameters

phydrv -a clear test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid setting parameters

phydrv -a clear -p 1 test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid setting parameters

phydrv -a clear -p 1 -t test
Error (0x2013): Invalid setting parameters
-t: invalid setting test (pfa|staleconfig)

administrator@cli> 

Expect: Invalid physical drive id in data buffer

phydrv -a clear -p 17
Error (0x49841602): Invalid physical drive id in data buffer

administrator@cli> 

Expect: Only DDF on a dead drive can be cleared

phydrv -a clear -p 1
Error (0x4023): Invalid physical drive id
Only DDF on a dead drive can be cleared

administrator@cli> 
'result': 'p'

Expect: Invalid option for the command or the action

phydrv -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

phydrv -p -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

phydrv -c -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

phydrv -a mod -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

phydrv -a mod -p 1 -s "test=test"
Error (0x2012): Invalid option for the command or the action
-s: invalid option: test

administrator@cli> 

Expect: Invalid option for the command or the action

phydrv -a mod -d all -s "test=test"
Error (0x2012): Invalid option for the command or the action
-s: invalid option: test

administrator@cli> 

Expect: Invalid option for the command or the action

phydrv -a mod -d sata -s "test=test"
Error (0x2012): Invalid option for the command or the action
-s: invalid option: test

administrator@cli> 

Expect: Invalid option for the command or the action

phydrv -a mod -d sas -s "test=test"
Error (0x2012): Invalid option for the command or the action
-s: invalid option: test

administrator@cli> 

Expect: Invalid option for the command or the action

phydrv -a locate -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

phydrv -a offline -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

phydrv -a online -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

phydrv -a clear -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 
'result': 'p'

Expect: Missing parameter

phydrv -p
Error (0x403): Missing parameter
-p: missing value

administrator@cli> 

Expect: Missing parameter

phydrv -c
Error (0x403): Missing parameter
-c: missing value

administrator@cli> 

Expect: Missing parameter

phydrv -a mod
Error (0x403): Missing parameter
missing parameter '-s' for '-a mod'

administrator@cli> 

Expect: Missing parameter

phydrv -a mod -p
Error (0x403): Missing parameter
-p: missing value

administrator@cli> 

Expect: Missing parameter

phydrv -a mod -p 1 -s
Error (0x403): Missing parameter
-s: missing value

administrator@cli> 

Expect: Missing parameter

phydrv -a mod -s
Error (0x403): Missing parameter
-s: missing value

administrator@cli> 

Expect: Missing parameter

phydrv -a mod -d
Error (0x403): Missing parameter
-d: missing value

administrator@cli> 

Expect: Missing parameter

phydrv -a mod -d all -s
Error (0x403): Missing parameter
-s: missing value

administrator@cli> 

Expect: Missing parameter

phydrv -a mod -d sata -s
Error (0x403): Missing parameter
-s: missing value

administrator@cli> 

Expect: Missing parameter

phydrv -a mod -d sas -s
Error (0x403): Missing parameter
-s: missing value

administrator@cli> 

Expect: Missing parameter

phydrv -a locate
Error (0x403): Missing parameter
missing parameter '-p' for '-a locate'

administrator@cli> 

Expect: Missing parameter

phydrv -a offline
Error (0x403): Missing parameter
missing parameter '-p' for '-a offline'

administrator@cli> 

Expect: Missing parameter

phydrv -a online
Error (0x403): Missing parameter
missing parameter '-p' for '-a online'

administrator@cli> 

Expect: Missing parameter

phydrv -a clear
Error (0x403): Missing parameter
missing parameter '-p' for '-a clear'

administrator@cli> 
'result': 'p'

Expect: domain setting should be listed

domain
===============================================================================
ControllerId                            DomainStatus                           
===============================================================================
2                                       error                                  
 
Not Joined into Domain mode
 
-------------------------------------------------------------------------------
Last successfully joined domain setting
-------------------------------------------------------------------------------
Netbios:                                Kdc: 
Domain:                                 Username: 

administrator@cli> 
'result': 'p'

Expect: domain setting should be listed by verbose mode

domain -v
===============================================================================
ControllerId                            DomainStatus                           
===============================================================================
2                                       error                                  
 
Not Joined into Domain mode
 
-------------------------------------------------------------------------------
Last successfully joined domain setting
-------------------------------------------------------------------------------
Netbios:                                Kdc: 
Domain:                                 Username: 

administrator@cli> 
'result': 'p'

Need manual test


Expect: Invalid setting parameters

domain test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid setting parameters

domain -a test
Error (0x2013): Invalid setting parameters
-a: invalid setting test (list|enable|disable|refresh|check)

administrator@cli> 

Expect: Invalid setting parameter type

domain -a enable -t test -s ""
Error (0x2013): Invalid setting parameters
-t: invalid setting test (ad|ldap|od)

administrator@cli> 

Expect: Invalid IP address

domain -a enable -t ldap -s "domain=test.com,server=test,security=none, basedn='dc=test,dc=com', username=admin,password=password, usersuffix='ou=People', grpsuffix='ou=Group'"
Error (0x4100104): Incorrect parameters: Invalid IP address format of [test]

administrator@cli> 

Expect: Invalid setting parameter security

domain -a enable -t ldap -s "domain=test.com,server=10.84.2.46,security=tset, basedn='dc=test,dc=com', username=admin,password=password, usersuffix='ou=People', grpsuffix='ou=Group'"
Error (0x2013): Invalid setting parameters
security: invalid setting tset (none|tls|ssl)

administrator@cli> 

Expect: Invalid IP address

domain -a enable -t od -s "domain=test.com,server=test,basedn='dc=test,dc=com',username=administrator,password=password"
Error (0x2012): Invalid option for the command or the action
'domain': not applicable for '-t od'

administrator@cli> 

Fail: please check out Invalid IP address


Expect: Invalid setting parameters

domain -a check -t test
Error (0x2013): Invalid setting parameters
-t: invalid setting test (ad|ldap|od)

administrator@cli> 

Expect: Invalid setting parameter basedn

domain -a check -t ldap -l "server=10.84.2.71,security=test,basedn=122"
Error (0x2013): Invalid setting parameters
security: invalid setting test (none|tls|ssl)

administrator@cli> 

Expect: Invalid IP address

domain -a check -t ldap -l "server=test,security=none,basedn=122"
Error (0x4100104): Incorrect parameters: Invalid IP address format of [test]

administrator@cli> 

Expect: Invalid setting parameters

domain -a disable test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid setting parameters

domain -a refresh test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 
'result': 'f'

Expect: Invalid option for the command or the action

domain -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

domain -a -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

domain -a enable -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

domain -a check -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

domain -a disable -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

domain -a refresh -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 
'result': 'p'

Expect: Missing parameter

domain -a enable -t ad -s "domain=2008ad.com,kdc=WIN-CC18N6QMNLL.2008AD.com, netbios=2008ad,username=administrator"
Error (0x403): Missing parameter
missing parameter 'password' for '-t ad'

administrator@cli> 

Expect: Missing parameter

domain -a enable -t ad -s "domain=2008ad.com,kdc=WIN-CC18N6QMNLL.2008AD.com, netbios=2008ad,password=test"
Error (0x403): Missing parameter
missing parameter 'username' for '-t ad'

administrator@cli> 

Expect: Missing parameter

domain -a enable -t ldap -s "server=10.84.2.46,security=none, basedn='dc=test,dc=com', username=admin,password=password, usersuffix='ou=People', grpsuffix='ou=Group'"
Error (0x403): Missing parameter
missing parameter 'domain' for '-t ldap'

administrator@cli> 

Expect: Missing parameter

domain -a enable -t od -s "domain=test.com,server=10.84.2.55,basedn='dc=test,dc=com',password=password"
Error (0x2012): Invalid option for the command or the action
'domain': not applicable for '-t od'

administrator@cli> 

Fail: please check out Missing parameter


Expect: Missing parameter

domain -a
Error (0x403): Missing parameter
-a: missing value

administrator@cli> 

Expect: Missing parameter

domain -a enable -t
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Expect: Missing parameter

domain -a enable -t ad 
Error (0x403): Missing parameter
missing parameter '-s' for '-a enable'

administrator@cli> 

Expect: Missing parameter

domain -a enable -t ldap -s
Error (0x403): Missing parameter
-s: missing value

administrator@cli> 

Expect: Missing parameter

domain -a enable -t od -s
Error (0x403): Missing parameter
-s: missing value

administrator@cli> 

Expect: Missing parameter

domain -a check
Error (0x403): Missing parameter
missing parameter '-t' for '-a check'

administrator@cli> 

Expect: Missing parameter

domain -a check -t
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 
'result': 'f'

Expect: domain setting should be listed

domain
===============================================================================
ControllerId                            DomainStatus                           
===============================================================================
2                                       error                                  
 
Not Joined into Domain mode
 
-------------------------------------------------------------------------------
Last successfully joined domain setting
-------------------------------------------------------------------------------
Netbios:                                Kdc: 
Domain:                                 Username: 

administrator@cli> 
'result': 'p'

Expect: domain setting should be listed by verbose mode

domain -v
===============================================================================
ControllerId                            DomainStatus                           
===============================================================================
2                                       error                                  
 
Not Joined into Domain mode
 
-------------------------------------------------------------------------------
Last successfully joined domain setting
-------------------------------------------------------------------------------
Netbios:                                Kdc: 
Domain:                                 Username: 

administrator@cli> 
'result': 'p'

Need manual test


Expect: Invalid setting parameters

domain test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid setting parameters

domain -a test
Error (0x2013): Invalid setting parameters
-a: invalid setting test (list|enable|disable|refresh|check)

administrator@cli> 

Expect: Invalid setting parameter type

domain -a enable -t test -s ""
Error (0x2013): Invalid setting parameters
-t: invalid setting test (ad|ldap|od)

administrator@cli> 

Expect: Invalid IP address

domain -a enable -t ldap -s "domain=test.com,server=test,security=none, basedn='dc=test,dc=com', username=admin,password=password, usersuffix='ou=People', grpsuffix='ou=Group'"
Error (0x4100104): Incorrect parameters: Invalid IP address format of [test]

administrator@cli> 

Expect: Invalid setting parameter security

domain -a enable -t ldap -s "domain=test.com,server=10.84.2.46,security=tset, basedn='dc=test,dc=com', username=admin,password=password, usersuffix='ou=People', grpsuffix='ou=Group'"
Error (0x2013): Invalid setting parameters
security: invalid setting tset (none|tls|ssl)

administrator@cli> 

Expect: Invalid IP address

domain -a enable -t od -s "server=test,basedn='dc=test,dc=com',username=administrator,password=password"
Error (0x4100104): Incorrect parameters: Invalid IP address format of [test]

administrator@cli> 

Expect: Invalid setting parameters

domain -a check -t test
Error (0x2013): Invalid setting parameters
-t: invalid setting test (ad|ldap|od)

administrator@cli> 

Expect: Invalid setting parameter basedn

domain -a check -t ldap -l "server=10.84.2.71,security=test,basedn=122"
Error (0x2013): Invalid setting parameters
security: invalid setting test (none|tls|ssl)

administrator@cli> 

Expect: Invalid IP address

domain -a check -t ldap -l "server=test,security=none,basedn=122"
Error (0x4100104): Incorrect parameters: Invalid IP address format of [test]

administrator@cli> 

Expect: Invalid setting parameters

domain -a disable test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid setting parameters

domain -a refresh test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 
'result': 'p'

Expect: Invalid option for the command or the action

domain -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

domain -a -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

domain -a enable -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

domain -a check -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

domain -a disable -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

domain -a refresh -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 
'result': 'p'

Expect: Missing parameter

domain -a enable -t ad -s "domain=2008ad.com,kdc=WIN-CC18N6QMNLL.2008AD.com, netbios=2008ad,username=administrator"
Error (0x403): Missing parameter
missing parameter 'password' for '-t ad'

administrator@cli> 

Expect: Missing parameter

domain -a enable -t ad -s "domain=2008ad.com,kdc=WIN-CC18N6QMNLL.2008AD.com, netbios=2008ad,password=test"
Error (0x403): Missing parameter
missing parameter 'username' for '-t ad'

administrator@cli> 

Expect: Missing parameter

domain -a enable -t ldap -s "server=10.84.2.46,security=none, basedn='dc=test,dc=com', username=admin,password=password, usersuffix='ou=People', grpsuffix='ou=Group'"
Error (0x403): Missing parameter
missing parameter 'domain' for '-t ldap'

administrator@cli> 

Expect: Missing parameter

domain -a enable -t od -s "server=10.84.2.55,basedn='dc=test,dc=com',password=password"
Error (0x403): Missing parameter
missing parameter 'username' for '-t od'

administrator@cli> 

Expect: Missing parameter

domain -a
Error (0x403): Missing parameter
-a: missing value

administrator@cli> 

Expect: Missing parameter

domain -a enable -t
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Expect: Missing parameter

domain -a enable -t ad 
Error (0x403): Missing parameter
missing parameter '-s' for '-a enable'

administrator@cli> 

Expect: Missing parameter

domain -a enable -t ldap -s
Error (0x403): Missing parameter
-s: missing value

administrator@cli> 

Expect: Missing parameter

domain -a enable -t od -s
Error (0x403): Missing parameter
-s: missing value

administrator@cli> 

Expect: Missing parameter

domain -a check
Error (0x403): Missing parameter
missing parameter '-t' for '-a check'

administrator@cli> 

Expect: Missing parameter

domain -a check -t
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 
'result': 'p'
<b> Verify iscsi </b>
iscsi
===============================================================================
Id                   Alias                    AssignedPortals                  
===============================================================================
0                    testmod                                                   

administrator@cli> 
<b> Verify iscsi -v </b>
iscsi -v
-------------------------------------------------------------------------------
Name: iqn.1994-12.com.promise:testmod.tgt0000.293d5b5501000020
Id: 0                                   Alias: testmod
ImmediateData: Disabled                 InitialR2t: Enabled
HeaderDigest: Disabled                  DataDigest: Disabled
UniChapAuth: Disabled                   BiChapAuth: Disabled
DataPduInOrder: Enabled                 DataSeqInOrder: Enabled
MaxOutstandingR2t: 1                    MaxConnects: 1
FirstBurstLength: 262144                MaxBurstLength: 524288
DefTimeToWait: 2                        DefTimeToRetain: 20
ErrorRecoveryLevel: 0                   Status: Up
KeepAlive: Enabled                      AssnPortalIds: 

administrator@cli> 
<b>iscsi -t target</b>
iscsi -t target
===============================================================================
Id                   Alias                    AssignedPortals                  
===============================================================================
0                    testmod                                                   

administrator@cli> 
<b>iscsi -t port</b>
iscsi -t port
-------------------------------------------------------------------------------
PortId: 1                               CtrlId: 2
JumboFrame: Disabled                    PortStatus: Disabled
LinkStats: Down, Active                 MacAddress: 00:01:55:5B:3D:2F
MaxSupportSpeed: 10000 Mbps             CurrentSpeed: 0 Mbps
RelativePortals: N/A
-------------------------------------------------------------------------------
PortId: 2                               CtrlId: 2
JumboFrame: Disabled                    PortStatus: Disabled
LinkStats: Down, Active                 MacAddress: 00:01:55:5B:3D:30
MaxSupportSpeed: 10000 Mbps             CurrentSpeed: 0 Mbps
RelativePortals: N/A

administrator@cli> 
<b>iscsi -t portal -c 32</b>
iscsi -t portal -c 32
No portal in the subsystem

administrator@cli> 
<b>iscsi -t session</b>
iscsi -t session
No session in the subsystem

administrator@cli> 
<b>iscsi -t device</b>
iscsi -t device
No device in the subsystem

administrator@cli> 

<font color="green">Pass</font>
'result': 'p'
Verify iscsi -a list
iscsi -a list
===============================================================================
Id                   Alias                    AssignedPortals                  
===============================================================================
0                    testmod                                                   

administrator@cli> 
Verify iscsi -a list -v 
iscsi -a list -v
-------------------------------------------------------------------------------
Name: iqn.1994-12.com.promise:testmod.tgt0000.293d5b5501000020
Id: 0                                   Alias: testmod
ImmediateData: Disabled                 InitialR2t: Enabled
HeaderDigest: Disabled                  DataDigest: Disabled
UniChapAuth: Disabled                   BiChapAuth: Disabled
DataPduInOrder: Enabled                 DataSeqInOrder: Enabled
MaxOutstandingR2t: 1                    MaxConnects: 1
FirstBurstLength: 262144                MaxBurstLength: 524288
DefTimeToWait: 2                        DefTimeToRetain: 20
ErrorRecoveryLevel: 0                   Status: Up
KeepAlive: Enabled                      AssnPortalIds: 

administrator@cli> 
iscsi -a list -t target
iscsi -a list -t target
===============================================================================
Id                   Alias                    AssignedPortals                  
===============================================================================
0                    testmod                                                   

administrator@cli> 
iscsi -a list -t port
iscsi -a list -t port
-------------------------------------------------------------------------------
PortId: 1                               CtrlId: 2
JumboFrame: Disabled                    PortStatus: Disabled
LinkStats: Down, Active                 MacAddress: 00:01:55:5B:3D:2F
MaxSupportSpeed: 10000 Mbps             CurrentSpeed: 0 Mbps
RelativePortals: N/A
-------------------------------------------------------------------------------
PortId: 2                               CtrlId: 2
JumboFrame: Disabled                    PortStatus: Disabled
LinkStats: Down, Active                 MacAddress: 00:01:55:5B:3D:30
MaxSupportSpeed: 10000 Mbps             CurrentSpeed: 0 Mbps
RelativePortals: N/A

administrator@cli> 
iscsi -a list -t portal -c 1
iscsi -a list -t portal -c 1
No portal in the subsystem

administrator@cli> 
iscsi -a list -t session
iscsi -a list -t session
No session in the subsystem

administrator@cli> 
iscsi -a list -t device
iscsi -a list -t device
No device in the subsystem

administrator@cli> 

<font color="green">Pass</font>
'result': 'p'
Create trunk
iscsi -a mod -t port -r 2 -p 1 -s "port=enable"

administrator@cli> 
iscsi -a mod -t port -r 2 -p 2 -s "port=enable"

administrator@cli> 
trunk
No iSCSI trunks are available.

administrator@cli> 
iscsi -t portal
No portal in the subsystem

administrator@cli> 
trunk -a add -s "ctrlid=2,masterport=1,slaveport=2"

administrator@cli> 
trunk
===============================================================================
ID    CtrlId    MasterPort    SlavePorts    FailedPorts   TrunkType   State    
===============================================================================
0     2         1             2             1,2           lacp        Failed   

administrator@cli> 
 To verify add the type trunk portal  
trunk
===============================================================================
ID    CtrlId    MasterPort    SlavePorts    FailedPorts   TrunkType   State    
===============================================================================
0     2         1             2             1,2           lacp        Failed   

administrator@cli> 
iscsi -a add -t portal -m trunk -s "trunkid=0, dhcp=enable,iptype=4"

administrator@cli> 
iscsi -t portal
===============================================================================
PortalID    CtrlID    PortID   VLANTag   TrunkID   IP        Status            
===============================================================================
0           2         1        N/A       0         0.0.0.0   Active (Ctrl 2)   

administrator@cli> 
 del trunk 
iscsi -t portal
===============================================================================
PortalID    CtrlID    PortID   VLANTag   TrunkID   IP        Status            
===============================================================================
0           2         1        N/A       0         0.0.0.0   Active (Ctrl 2)   

administrator@cli> 
iscsi -a del -t portal -i 0

administrator@cli> 
trunk -a del -i 0

administrator@cli> 
trunk -a del -i 1
Error (0x498EAD02): Operation failed as the trunk id specified is invalid

administrator@cli> 
 To add the type VLAN portal 
iscsi -a add -t portal -r 2 -p 1 -m vlan -s "vlantag=1,iptype=4,dhcp=enable"

administrator@cli> 
iscsi -t portal
===============================================================================
PortalID    CtrlID    PortID   VLANTag   TrunkID   IP        Status            
===============================================================================
0           2         1        1         N/A       0.0.0.0   Active (Ctrl 2)   

administrator@cli> 
 To add the type phy portal 
iscsi -a add -t portal -r 2 -p 1 -m phy -s "iptype=4,dhcp=enable"

administrator@cli> 
iscsi -t portal
===============================================================================
PortalID    CtrlID    PortID   VLANTag   TrunkID   IP        Status            
===============================================================================
0           2         1        1         N/A       0.0.0.0   Active (Ctrl 2)   
1           2         1        N/A       N/A       0.0.0.0   Active (Ctrl 2)   

administrator@cli> 

<font color="green">Pass</font>
'result': 'p'
Verify to modify target alias
iscsi -a mod -t target -i 0 -s "alias=testmod"

administrator@cli> 
iscsi -v
-------------------------------------------------------------------------------
Name: iqn.1994-12.com.promise:testmod.tgt0000.293d5b5501000020
Id: 0                                   Alias: testmod
ImmediateData: Disabled                 InitialR2t: Enabled
HeaderDigest: Disabled                  DataDigest: Disabled
UniChapAuth: Disabled                   BiChapAuth: Disabled
DataPduInOrder: Enabled                 DataSeqInOrder: Enabled
MaxOutstandingR2t: 1                    MaxConnects: 1
FirstBurstLength: 262144                MaxBurstLength: 524288
DefTimeToWait: 2                        DefTimeToRetain: 20
ErrorRecoveryLevel: 0                   Status: Up
KeepAlive: Enabled                      AssnPortalIds: 0,1

administrator@cli> 
 Verify to modify option that can be enable or disable
iscsi -a mod -t port -r 2 -p 1 -s "port=enable,jumboframe=enable"

administrator@cli> 
iscsi -t port -r 2 -p 1
-------------------------------------------------------------------------------
PortId: 1                               CtrlId: 2
JumboFrame: Enabled                     PortStatus: Enabled
LinkStats: Down, Active                 MacAddress: 00:01:55:5B:3D:2F
MaxSupportSpeed: 10000 Mbps             CurrentSpeed: 0 Mbps
RelativePortals: 0,1

administrator@cli> 
iscsi -a mod -t port -r 2 -p 2 -s "port=enable,jumboframe=enable"

administrator@cli> 
iscsi -t port -r 2 -p 2
-------------------------------------------------------------------------------
PortId: 2                               CtrlId: 2
JumboFrame: Enabled                     PortStatus: Enabled
LinkStats: Down, Active                 MacAddress: 00:01:55:5B:3D:30
MaxSupportSpeed: 10000 Mbps             CurrentSpeed: 0 Mbps
RelativePortals: N/A

administrator@cli> 
iscsi -a mod -t port -r 2 -p 1 -s "port=disable,jumboframe=disable"

administrator@cli> 
iscsi -t port -r 2 -p 1
-------------------------------------------------------------------------------
PortId: 1                               CtrlId: 2
JumboFrame: Disabled                    PortStatus: Disabled
LinkStats: Down, Active                 MacAddress: 00:01:55:5B:3D:2F
MaxSupportSpeed: 10000 Mbps             CurrentSpeed: 0 Mbps
RelativePortals: 0,1

administrator@cli> 
iscsi -a mod -t port -r 2 -p 2 -s "port=disable,jumboframe=disable"

administrator@cli> 
iscsi -t port -r 2 -p 2
-------------------------------------------------------------------------------
PortId: 2                               CtrlId: 2
JumboFrame: Disabled                    PortStatus: Disabled
LinkStats: Down, Active                 MacAddress: 00:01:55:5B:3D:30
MaxSupportSpeed: 10000 Mbps             CurrentSpeed: 0 Mbps
RelativePortals: N/A

administrator@cli> 

<font color="green">Pass</font>
'result': 'p'
Verify iscsi -a del -t portal -i
iscsi -t portal
===============================================================================
PortalID    CtrlID    PortID   VLANTag   TrunkID   IP        Status            
===============================================================================
0           2         1        1         N/A       0.0.0.0   Active (Ctrl 2)   
1           2         1        N/A       N/A       0.0.0.0   Active (Ctrl 2)   

administrator@cli> 
iscsi -a del -t portal -i 0

administrator@cli> 
iscsi -a del -t portal -i 1

administrator@cli> 
iscsi -t portal
No portal in the subsystem

administrator@cli> 

<font color="green">Pass</font>
'result': 'p'
<b> Verify iscsi specify inexistent Id </b>
iscsi -t portal -i 65536
Error (0x2013): Invalid setting parameters
-i: invalid setting 65536 (0,65535)

administrator@cli> 
iscsi -t port -r 3 -p 2
Error (0x2013): Invalid setting parameters
-r: invalid setting 3 (1,2)

administrator@cli> 
iscsi -t port -r 2 -p 3
Error (0x2013): Invalid setting parameters
-p: invalid setting 3 (1,2)

administrator@cli> 

<font color="green">Pass</font>
'result': 'p'
<b>Verify iscsi invalid option</b>
<b> Verify iscsi -x</b>
iscsi -x
Error (0x2012): Invalid option for the command or the action
invalid option: -x

administrator@cli> 
<b> Verify iscsi -a list -x</b>
iscsi -a list -x
Error (0x2012): Invalid option for the command or the action
invalid option: -x

administrator@cli> 
<b> Verify iscsi -a add -x</b>
iscsi -a add -x
Error (0x2012): Invalid option for the command or the action
invalid option: -x

administrator@cli> 
<b> Verify iscsi -a mod -x</b>
iscsi -a mod -x
Error (0x2012): Invalid option for the command or the action
invalid option: -x

administrator@cli> 
<b> Verify iscsi -a del -x</b>
iscsi -a del -x
Error (0x2012): Invalid option for the command or the action
invalid option: -x

administrator@cli> 

<font color="green">Pass</font>
'result': 'p'
<b>Verify iscsi invalid parameters</b>
<b> Verify iscsi test</b>
iscsi test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 
<b> Verify iscsi -a list test</b>
iscsi -a list test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 
<b> Verify iscsi -a add test</b>
iscsi -a add test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 
<b> Verify iscsi -a mod test</b>
iscsi -a mod test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 
<b> Verify iscsi -a del test</b>
iscsi -a del test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

<font color="green">Pass</font>
'result': 'p'
<b>Verify iscsi missing parameters</b>
<b> Verify iscsi -i</b>
iscsi -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 
<b> Verify iscsi -a list -i</b>
iscsi -a list -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 
<b> Verify iscsi -a add -t</b>
iscsi -a add -t
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 
<b> Verify iscsi -a mod -t</b>
iscsi -a mod -t
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 
<b> Verify iscsi -a del -t</b>
iscsi -a del -t
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

<font color="green">Pass</font>
'result': 'p'

Expect: should display a list of IP configurations

net
===============================================================================
ProtocolFamily           Status             IP                   Link          
===============================================================================
IPv4                     Enabled            10.84.2.164          Up            
IPv6                     Disabled           N/A                  Up            

administrator@cli> 
'result': 'p'

Expect: should display network configurations by verbose mode

net -v
-------------------------------------------------------------------------------
ActiveCtrlId: 2                         Port: 1
MaxSupportedSpeed: 100Mbps              LinkStatus: Up
DefaultRoute: ether                     WakeOnLan: Disabled
MAC: 00:01:55:5b:3d:2b
 
-------------------------------------------------------------------------------
ProtocolFamily: IPv4(Enabled)           DHCP: Disabled
IP: 10.84.2.164                         IPMask: 255.255.255.0
PrimaryDNS: 10.84.2.190                 SecondaryDNS: 10.0.0.1
Gateway: 10.84.2.1                      AutoDNS: Disabled
 
-------------------------------------------------------------------------------
ProtocolFamily: IPv6(Disabled)          DHCP: Disabled
IP: N/A                                 IPMask: N/A
LinkLocalIP: N/A                        LinkLocalIPMask: N/A
PrimaryDNS: N/A                         SecondaryDNS: N/A
Gateway: N/A                            AutoDNS: Disabled
 

administrator@cli> 
'result': 'p'

Expect: should display a list of IP configurations

net
===============================================================================
ProtocolFamily           Status             IP                   Link          
===============================================================================
IPv4                     Enabled            10.84.2.164          Up            
IPv6                     Disabled           N/A                  Up            

administrator@cli> 
'result': 'p'

Expect: should display network configurations by verbose mode

net -v
-------------------------------------------------------------------------------
ActiveCtrlId: 2                         Port: 1
MaxSupportedSpeed: 100Mbps              LinkStatus: Up
DefaultRoute: ether                     WakeOnLan: Disabled
MAC: 00:01:55:5b:3d:2b
 
-------------------------------------------------------------------------------
ProtocolFamily: IPv4(Enabled)           DHCP: Disabled
IP: 10.84.2.164                         IPMask: 255.255.255.0
PrimaryDNS: 10.84.2.190                 SecondaryDNS: 10.0.0.1
Gateway: 10.84.2.1                      AutoDNS: Disabled
 
-------------------------------------------------------------------------------
ProtocolFamily: IPv6(Disabled)          DHCP: Disabled
IP: N/A                                 IPMask: N/A
LinkLocalIP: N/A                        LinkLocalIPMask: N/A
PrimaryDNS: N/A                         SecondaryDNS: N/A
Gateway: N/A                            AutoDNS: Disabled
 

administrator@cli> 
'result': 'p'

Expect: spare should be added

spare -a add -t g -r y -p 11

administrator@cli> 
spare
===============================================================================
Id    Status    PdId    Capacity    Revertible    Type      DedicatedToPool    
===============================================================================
0     OK        11      2 TB        Yes           Global    N/A                

administrator@cli> 

Expect: rebuild should start

phydrv -a offline -p 1

administrator@cli> 
rb
-------------------------------------------------------------------------------
PoolId: 0
===============================================================================
PdId                    Percentage                   Status                    
===============================================================================
11                      0                            Running                   

administrator@cli> 

Expect: clean up environment

phydrv -a clear -p 1 -t staleconfig

administrator@cli> 
phydrv -p 1
===============================================================================
PdId Model       Type     CfgCapacity Location      OpStatus   ConfigStatus    
===============================================================================
1    HUS723020AL SAS HDD  2 TB        Encl1 Slot1   OK         Unconfigured    
     S640                                                                      

administrator@cli> 
'result': 'p'

Expect: spare should be added

spare -a add -t d -d 0 -r n -p 12

administrator@cli> 
spare
===============================================================================
Id    Status    PdId    Capacity    Revertible   Type        DedicatedToPool   
===============================================================================
0     OK        12      4 TB        No           Dedicated   0                 

administrator@cli> 

Expect: rebuild should do not start

phydrv -a offline -p 4

administrator@cli> 
rb
This background activity is not running.
administrator@cli> 

Expect: rebuild should start

phydrv -a offline -p 1

administrator@cli> 
rb
-------------------------------------------------------------------------------
PoolId: 0
===============================================================================
PdId                    Percentage                   Status                    
===============================================================================
12                      0                            Running                   

administrator@cli> 

Expect: clean up environment

phydrv -a clear -p 1 -t staleconfig

administrator@cli> 
phydrv -p 1
===============================================================================
PdId Model       Type     CfgCapacity Location      OpStatus   ConfigStatus    
===============================================================================
1    HUS723020AL SAS HDD  2 TB        Encl1 Slot1   OK         Unconfigured    
     S640                                                                      

administrator@cli> 

Expect: delete pool 0

pool -a del -f -y -i 0

administrator@cli> 
spare
No spare drive exists

administrator@cli> 
'result': 'p'

Expect: all of spare drives should be listed

spare
===============================================================================
Id    Status    PdId    Capacity    Revertible   Type        DedicatedToPool   
===============================================================================
0     OK        4       4 TB        No           Global      N/A               
1     OK        9       4 TB        Yes          Dedicated   0                 

administrator@cli> 

Expect: spare 0 drives should be listed

spare -i 0
===============================================================================
Id    Status    PdId    Capacity    Revertible    Type      DedicatedToPool    
===============================================================================
0     OK        4       4 TB        No            Global    N/A                

administrator@cli> 

Expect: spare 1 spare drives should be listed

spare -i 1
===============================================================================
Id    Status    PdId    Capacity    Revertible   Type        DedicatedToPool   
===============================================================================
1     OK        9       4 TB        Yes          Dedicated   0                 

administrator@cli> 
'result': 'p'

Expect: all of spare drives should be listed by verbose mode

spare -v
-------------------------------------------------------------------------------
Id: 0                                   PdId: 4
Type: Global                            Revertible: No
PhysicalCapacity: 4 TB                  Status: OK
PoolList: N/A
-------------------------------------------------------------------------------
Id: 1                                   PdId: 9
Type: Dedicated                         Revertible: Yes
PhysicalCapacity: 4 TB                  Status: OK
PoolList: 0

administrator@cli> 

Expect: spare 0 drives should be listed by verbose mode

spare -v -i 0
-------------------------------------------------------------------------------
Id: 0                                   PdId: 4
Type: Global                            Revertible: No
PhysicalCapacity: 4 TB                  Status: OK
PoolList: N/A

administrator@cli> 

Expect: spare 1 spare drives should be listed by verbose mode

spare -v -i 1
-------------------------------------------------------------------------------
Id: 1                                   PdId: 9
Type: Dedicated                         Revertible: Yes
PhysicalCapacity: 4 TB                  Status: OK
PoolList: 0

administrator@cli> 
'result': 'p'

Expect: spare 0 should be deleted

spare -a del -i 0

administrator@cli> 
spare
===============================================================================
Id    Status    PdId    Capacity    Revertible   Type        DedicatedToPool   
===============================================================================
1     OK        9       4 TB        Yes          Dedicated   0                 

administrator@cli> 

Expect: spare 1 should be deleted

spare -a del -i 1

administrator@cli> 
spare
No spare drive exists

administrator@cli> 
'result': 'p'

Expect: Physical drive in use

spare -a add -t g -r n -p 1
Error (0x4021): Physical drive in use
Physical drive in use

administrator@cli> 

Expect: Invalid setting parameters

spare test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid setting parameters

spare -i 257
Error (0x2013): Invalid setting parameters
-i: invalid setting 257 (0,256)

administrator@cli> 

Expect: Invalid setting parameters

spare -a add -t test
Error (0x2013): Invalid setting parameters
-t: invalid setting test (g|d)

administrator@cli> 

Expect: Physical drive not found

spare -a add -t g -p 512
Error (0x4020): Physical drive not found
Physical drive not found

administrator@cli> 

Expect: Invalid setting parameters

spare -a add -t g -p 513
Error (0x2013): Invalid setting parameters
-p: invalid setting 513 (0,512)

administrator@cli> 

Expect: Invalid setting parameters

spare -a add -t d -d 31 -p 12
Error (0x2013): Invalid setting parameters
specified pool not found

administrator@cli> 

Expect: Invalid setting parameters

spare -a add -t d -d 32 -p 12
Error (0x2013): Invalid setting parameters
-d: invalid setting 32 (0,31)

administrator@cli> 

Expect: Invalid setting parameters

spare -a add -t d -d 33 -p 12
Error (0x2013): Invalid setting parameters
-d: invalid setting 33 (0,31)

administrator@cli> 

Expect: Invalid setting parameters

spare -a add -t g -r test
Error (0x2013): Invalid setting parameters
-r: invalid setting test (y|n)

administrator@cli> 

Expect: Invalid setting parameters

spare -a add -t g -d test
Error (0x2013): Invalid setting parameters
-d: invalid setting test

administrator@cli> 

Expect: Invalid setting parameters

spare -a del test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid spare id

spare -a del -i 256
Error (0x49840C02): Invalid disk array id or spare id
Invalid disk array id or spare id

administrator@cli> 

Fail: please check out Invalid spare id


Expect: Invalid setting parameters

spare -a del -i 257
Error (0x2013): Invalid setting parameters
-i: invalid setting 257 (0,256)

administrator@cli> 
'result': 'f'

Expect: invalid option: -test

spare -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: invalid option: -test

spare -a add -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: invalid option: -test

spare -a add -t g -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: invalid option: -test

spare -a add -t g -d 0 -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: invalid option: -test

spare -a del -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 
'result': 'p'

Expect: Missing parameter

spare -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 

Expect: Missing parameter

spare -d
Error (0x403): Missing parameter
-d: missing value

administrator@cli> 

Expect: Missing parameter

spare -a
Error (0x403): Missing parameter
-a: missing value

administrator@cli> 

Expect: Missing parameter

spare -v -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 

Expect: Missing parameter

spare -a add 
Error (0x403): Missing parameter
missing parameter '-p' for '-a add'

administrator@cli> 

Expect: Missing parameter

spare -a add -t
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Expect: Missing parameter

spare -a add -t g 
Error (0x403): Missing parameter
missing parameter '-p' for '-a add'

administrator@cli> 

Expect: Missing parameter

spare -a add -t g -r
Error (0x403): Missing parameter
-r: missing value

administrator@cli> 

Expect: Missing parameter

spare -a add -t g -r n
Error (0x403): Missing parameter
missing parameter '-p' for '-a add'

administrator@cli> 

Expect: Missing parameter

spare -a add -t g -r n -p
Error (0x403): Missing parameter
-p: missing value

administrator@cli> 

Expect: Missing parameter

spare -a add -t d -d
Error (0x403): Missing parameter
-d: missing value

administrator@cli> 

Expect: Missing parameter

spare -a add -t d -d 0
Error (0x403): Missing parameter
missing parameter '-p' for '-a add'

administrator@cli> 

Expect: Missing parameter

spare -a add -t d -d 0 -p
Error (0x403): Missing parameter
-p: missing value

administrator@cli> 

Expect: Missing parameter

spare -a del
Error (0x403): Missing parameter
missing parameter '-i' for '-a del'

administrator@cli> 

Expect: Missing parameter

spare -a del -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 
'result': 'p'

Expect: add volume by "name=n,capacity=1GB,block=512B,sector=512B,sync=standard,thinprov=Enable,logbias=latency" 

volume -a add -p 0 -s "name=n,capacity=1GB,block=512B,sector=512B,sync=standard,thinprov=Enable,logbias=latency"

administrator@cli> 
volume -v -i 0
-------------------------------------------------------------------------------
Id: 0                                   Name: n
PoolId: 0                               PoolName: test_volume
Status: Exported                        ExportedId: 0
ExportedWWN: 22e70001557dedcb           OperationalStatus: OK, Synchronizing
TotalCapacity: 1 GB                     UsedCapacity: 8.19 KB
PoolAvailableCapacity: 7.29 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 512 Bytes                        Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Enabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-12 19:04:47
PreferCtrlId: 2                         AdvType: 

administrator@cli> 

Expect: add volume by "name=TN,capacity=2GB,block=1KB,sector=1KB,sync=always,thinprov=Disable,logbias=throughput"

volume -a add -p 0 -s "name=TN,capacity=2GB,block=1KB,sector=1KB,sync=always,thinprov=Disable,logbias=throughput"

administrator@cli> 
volume -v -i 1
-------------------------------------------------------------------------------
Id: 1                                   Name: TN
PoolId: 0                               PoolName: test_volume
Status: Exported                        ExportedId: 1
ExportedWWN: 223000015546ff04           OperationalStatus: OK, Synchronizing
TotalCapacity: 2 GB                     UsedCapacity: 2 GB
PoolAvailableCapacity: 7.29 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 1 KB                             Sector: 1 KB
Compress: off                           Ratio: 1.00x
SyncMode: always                        ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-12 19:04:51
PreferCtrlId: 2                         AdvType: 

administrator@cli> 

Expect: add volume by "name=Test_Test_Test_Test_Test_Test31,capacity=1TB,block=2KB,sector=2KB,sync=disabled,thinprov=Enable,logbias=latency"

volume -a add -p 0 -s "name=Test_Test_Test_Test_Test_Test31,capacity=1TB,block=2KB,sector=2KB,sync=disabled,thinprov=Enable,logbias=latency"

administrator@cli> 
volume -v -i 2
-------------------------------------------------------------------------------
Id: 2                                   Name: Test_Test_Test_Test_Test_Test31
PoolId: 0                               PoolName: test_volume
Status: Exported                        ExportedId: 2
ExportedWWN: 228a0001558357c6           OperationalStatus: OK, Synchronizing
TotalCapacity: 1 TB                     UsedCapacity: 8.19 KB
PoolAvailableCapacity: 7.29 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 2 KB                             Sector: 2 KB
Compress: off                           Ratio: 1.00x
SyncMode: disabled                      ThinProv: Enabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-12 19:04:55
PreferCtrlId: 2                         AdvType: 

administrator@cli> 

Expect: add volume by "name=test_test_test_test_test_test_32,capacity=2TB,block=4KB,sector=4KB,sync=standard,thinprov=Disable,logbias=throughput"

volume -a add -p 0 -s "name=test_test_test_test_test_test_32,capacity=2TB,block=4KB,sector=4KB,sync=standard,thinprov=Disable,logbias=throughput"

administrator@cli> 
volume -v -i 3
-------------------------------------------------------------------------------
Id: 3                                   Name: test_test_test_test_test_test_32
PoolId: 0                               PoolName: test_volume
Status: Exported                        ExportedId: 3
ExportedWWN: 225c000155746b7d           OperationalStatus: OK, Synchronizing
TotalCapacity: 2 TB                     UsedCapacity: 2 TB
PoolAvailableCapacity: 5.23 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 4 KB                             Sector: 4 KB
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-12 19:04:59
PreferCtrlId: 2                         AdvType: 

administrator@cli> 

Expect: add volume by "name=test_block_1,capacity=1GB,block=8kb,compress=off"

volume -a add -p 0 -s "name=test_block_1,capacity=1GB,block=8kb,compress=off"

administrator@cli> 
volume -v -i 4
-------------------------------------------------------------------------------
Id: 4                                   Name: test_block_1
PoolId: 0                               PoolName: test_volume
Status: Exported                        ExportedId: 4
ExportedWWN: 2296000155d03865           OperationalStatus: OK, Synchronizing
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
PoolAvailableCapacity: 5.23 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-12 19:05:04
PreferCtrlId: 2                         AdvType: 

administrator@cli> 

Expect: add volume by "name=test_block_2,capacity=1GB,block=16kb,compress=fast"

volume -a add -p 0 -s "name=test_block_2,capacity=1GB,block=16kb,compress=lz4"

administrator@cli> 
volume -v -i 5
-------------------------------------------------------------------------------
Id: 5                                   Name: test_block_2
PoolId: 0                               PoolName: test_volume
Status: Exported                        ExportedId: 5
ExportedWWN: 2200000155fb9ec6           OperationalStatus: OK, Synchronizing
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
PoolAvailableCapacity: 5.23 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 16 KB                            Sector: 512 Bytes
Compress: lz4                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-12 19:05:08
PreferCtrlId: 2                         AdvType: 

administrator@cli> 

Expect: add volume by "name=test_block_3,capacity=1GB,block=32kb,compress=optimized"

volume -a add -p 0 -s "name=test_block_3,capacity=1GB,block=32kb,compress=gzip"

administrator@cli> 
volume -v -i 6
-------------------------------------------------------------------------------
Id: 6                                   Name: test_block_3
PoolId: 0                               PoolName: test_volume
Status: Exported                        ExportedId: 6
ExportedWWN: 22ba000155877522           OperationalStatus: OK, Synchronizing
TotalCapacity: 999.98 MB                UsedCapacity: 999.98 MB
PoolAvailableCapacity: 5.23 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 32 KB                            Sector: 512 Bytes
Compress: gzip                          Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-12 19:05:12
PreferCtrlId: 2                         AdvType: 

administrator@cli> 

Expect: add volume by "name=test_block_4,capacity=1GB,block=64kb"

volume -a add -p 0 -s "name=test_block_4,capacity=1GB,block=64kb,compress=zle"

administrator@cli> 
volume -v -i 7
-------------------------------------------------------------------------------
Id: 7                                   Name: test_block_4
PoolId: 0                               PoolName: test_volume
Status: Exported                        ExportedId: 7
ExportedWWN: 222c000155acd381           OperationalStatus: OK, Synchronizing
TotalCapacity: 999.95 MB                UsedCapacity: 999.95 MB
PoolAvailableCapacity: 5.22 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 512 Bytes
Compress: zle                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-12 19:05:15
PreferCtrlId: 2                         AdvType: 

administrator@cli> 

Expect: add volume by "name=test_block_5,capacity=1GB,block=128kb"

volume -a add -p 0 -s "name=test_block_5,capacity=1GB,block=128kb"

administrator@cli> 
volume -v -i 8
-------------------------------------------------------------------------------
Id: 8                                   Name: test_block_5
PoolId: 0                               PoolName: test_volume
Status: Exported                        ExportedId: 8
ExportedWWN: 22fd000155051431           OperationalStatus: OK, Synchronizing
TotalCapacity: 999.95 MB                UsedCapacity: 999.95 MB
PoolAvailableCapacity: 5.22 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 128 KB                           Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-12 19:05:19
PreferCtrlId: 2                         AdvType: 

administrator@cli> 

Expect: add volume by default values

volume -a add -p 0 -s "name=test_default_values,capacity=1GB"

administrator@cli> 
volume -v -i 9
-------------------------------------------------------------------------------
Id: 9                                   Name: test_default_values
PoolId: 0                               PoolName: test_volume
Status: Exported                        ExportedId: 9
ExportedWWN: 222a0001553e06fe           OperationalStatus: OK, Synchronizing
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
PoolAvailableCapacity: 5.22 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-12 19:05:23
PreferCtrlId: 2                         AdvType: 

administrator@cli> 
'result': 'p'

Expect: all of volume should be listed

volume
===============================================================================
Id   Name                  PoolId TotalCap    UsedCap     Status      OpStatus 
===============================================================================
0    n                     0      1 GB        8.19 KB     Exported    OK,      
                                                                      Synchron 
                                                                      izing    
1    TN                    0      2 GB        2 GB        Exported    OK,      
                                                                      Synchron 
                                                                      izing    
2    Test_Test_Test_Test_T 0      1 TB        8.19 KB     Exported    OK,      
     est_Test31                                                       Synchron 
                                                                      izing    
3    test_test_test_test_t 0      2 TB        2 TB        Exported    OK,      
     est_test_32                                                      Synchron 
                                                                      izing    
4    test_block_1          0      1 GB        1 GB        Exported    OK,      
                                                                      Synchron 
                                                                      izing    
5    test_block_2          0      1 GB        1 GB        Exported    OK,      
                                                                      Synchron 
                                                                      izing    
6    test_block_3          0      999.98 MB   999.98 MB   Exported    OK,      
                                                                      Synchron 
                                                                      izing    
7    test_block_4          0      999.95 MB   999.95 MB   Exported    OK,      
                                                                      Synchron 
                                                                      izing    
8    test_block_5          0      999.95 MB   999.95 MB   Exported    OK,      
                                                                      Synchron 
                                                                      izing    
9    test_default_values   0      1 GB        1 GB        Exported    OK,      
                                                                      Synchron 
                                                                      izing    

administrator@cli> 

Expect: specific volume should be listed

volume -i 0
===============================================================================
Id   Name                  PoolId TotalCap    UsedCap     Status      OpStatus 
===============================================================================
0    n                     0      1 GB        8.19 KB     Exported    OK,      
                                                                      Synchron 
                                                                      izing    

administrator@cli> 
'result': 'p'

Expect: all of volume should be listed

volume -v
-------------------------------------------------------------------------------
Id: 0                                   Name: n
PoolId: 0                               PoolName: test_volume
Status: Exported                        ExportedId: 0
ExportedWWN: 22e70001557dedcb           OperationalStatus: OK, Synchronizing
TotalCapacity: 1 GB                     UsedCapacity: 8.19 KB
PoolAvailableCapacity: 5.22 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 512 Bytes                        Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Enabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-12 19:04:47
PreferCtrlId: 2                         AdvType: 
-------------------------------------------------------------------------------
Id: 1                                   Name: TN
PoolId: 0                               PoolName: test_volume
Status: Exported                        ExportedId: 1
ExportedWWN: 223000015546ff04           OperationalStatus: OK, Synchronizing
TotalCapacity: 2 GB                     UsedCapacity: 2 GB
PoolAvailableCapacity: 5.22 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 1 KB                             Sector: 1 KB
Compress: off                           Ratio: 1.00x
SyncMode: always                        ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-12 19:04:51
PreferCtrlId: 2                         AdvType: 
-------------------------------------------------------------------------------
Id: 2                                   Name: Test_Test_Test_Test_Test_Test31
PoolId: 0                               PoolName: test_volume
Status: Exported                        ExportedId: 2
ExportedWWN: 228a0001558357c6           OperationalStatus: OK, Synchronizing
TotalCapacity: 1 TB                     UsedCapacity: 8.19 KB
PoolAvailableCapacity: 5.22 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 2 KB                             Sector: 2 KB
Compress: off                           Ratio: 1.00x
SyncMode: disabled                      ThinProv: Enabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-12 19:04:55
PreferCtrlId: 2                         AdvType: 
-------------------------------------------------------------------------------
Id: 3                                   Name: test_test_test_test_test_test_32
PoolId: 0                               PoolName: test_volume
Status: Exported                        ExportedId: 3
ExportedWWN: 225c000155746b7d           OperationalStatus: OK, Synchronizing
TotalCapacity: 2 TB                     UsedCapacity: 2 TB
PoolAvailableCapacity: 5.22 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 4 KB                             Sector: 4 KB
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-12 19:04:59
PreferCtrlId: 2                         AdvType: 
-------------------------------------------------------------------------------
Id: 4                                   Name: test_block_1
PoolId: 0                               PoolName: test_volume
Status: Exported                        ExportedId: 4
ExportedWWN: 2296000155d03865           OperationalStatus: OK, Synchronizing
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
PoolAvailableCapacity: 5.22 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-12 19:05:04
PreferCtrlId: 2                         AdvType: 
-------------------------------------------------------------------------------
Id: 5                                   Name: test_block_2
PoolId: 0                               PoolName: test_volume
Status: Exported                        ExportedId: 5
ExportedWWN: 2200000155fb9ec6           OperationalStatus: OK, Synchronizing
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
PoolAvailableCapacity: 5.22 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 16 KB                            Sector: 512 Bytes
Compress: lz4                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-12 19:05:08
PreferCtrlId: 2                         AdvType: 
-------------------------------------------------------------------------------
Id: 6                                   Name: test_block_3
PoolId: 0                               PoolName: test_volume
Status: Exported                        ExportedId: 6
ExportedWWN: 22ba000155877522           OperationalStatus: OK, Synchronizing
TotalCapacity: 999.98 MB                UsedCapacity: 999.98 MB
PoolAvailableCapacity: 5.22 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 32 KB                            Sector: 512 Bytes
Compress: gzip                          Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-12 19:05:12
PreferCtrlId: 2                         AdvType: 
-------------------------------------------------------------------------------
Id: 7                                   Name: test_block_4
PoolId: 0                               PoolName: test_volume
Status: Exported                        ExportedId: 7
ExportedWWN: 222c000155acd381           OperationalStatus: OK, Synchronizing
TotalCapacity: 999.95 MB                UsedCapacity: 999.95 MB
PoolAvailableCapacity: 5.22 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 512 Bytes
Compress: zle                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-12 19:05:15
PreferCtrlId: 2                         AdvType: 
-------------------------------------------------------------------------------
Id: 8                                   Name: test_block_5
PoolId: 0                               PoolName: test_volume
Status: Exported                        ExportedId: 8
ExportedWWN: 22fd000155051431           OperationalStatus: OK, Synchronizing
TotalCapacity: 999.95 MB                UsedCapacity: 999.95 MB
PoolAvailableCapacity: 5.22 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 128 KB                           Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-12 19:05:19
PreferCtrlId: 2                         AdvType: 
-------------------------------------------------------------------------------
Id: 9                                   Name: test_default_values
PoolId: 0                               PoolName: test_volume
Status: Exported                        ExportedId: 9
ExportedWWN: 222a0001553e06fe           OperationalStatus: OK, Synchronizing
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
PoolAvailableCapacity: 5.22 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-12 19:05:23
PreferCtrlId: 2                         AdvType: 

administrator@cli> 

Expect: specific volume should be listed

volume -v -i 0
-------------------------------------------------------------------------------
Id: 0                                   Name: n
PoolId: 0                               PoolName: test_volume
Status: Exported                        ExportedId: 0
ExportedWWN: 22e70001557dedcb           OperationalStatus: OK, Synchronizing
TotalCapacity: 1 GB                     UsedCapacity: 8.19 KB
PoolAvailableCapacity: 5.22 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 512 Bytes                        Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Enabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-12 19:04:47
PreferCtrlId: 2                         AdvType: 

administrator@cli> 
'result': 'p'

Expect: modify volume by "name=T,sync=standard,logbias=throughput,compress=lz4,thinprov=enable"

volume -a mod -s "name=T,sync=standard,logbias=throughput,compress=lz4,thinprov=enable" -i 0

administrator@cli> 
volume -v -i 0
-------------------------------------------------------------------------------
Id: 0                                   Name: T
PoolId: 0                               PoolName: test_volume
Status: Exported                        ExportedId: 0
ExportedWWN: 22e70001557dedcb           OperationalStatus: OK, Synchronizing
TotalCapacity: 1 GB                     UsedCapacity: 8.19 KB
PoolAvailableCapacity: 5.22 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 512 Bytes                        Sector: 512 Bytes
Compress: lz4                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Enabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-12 19:04:47
PreferCtrlId: 2                         AdvType: 

administrator@cli> 

Expect: modify volume by "name=98,sync=always,logbias=latency,compress=off,thinprov=disable"

volume -a mod -s "name=98,sync=always,logbias=latency,compress=off,thinprov=disable" -i 0

administrator@cli> 
volume -v -i 0
-------------------------------------------------------------------------------
Id: 0                                   Name: 98
PoolId: 0                               PoolName: test_volume
Status: Exported                        ExportedId: 0
ExportedWWN: 22e70001557dedcb           OperationalStatus: OK, Synchronizing
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
PoolAvailableCapacity: 5.22 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 512 Bytes                        Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: always                        ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-12 19:04:47
PreferCtrlId: 2                         AdvType: 

administrator@cli> 

Expect: modify volume by "name=tttt_tttt_tttt_tttt_tttt_tttt31,sync=disabled,compress=gzip"

volume -a mod -s "name=tttt_tttt_tttt_tttt_tttt_tttt31,sync=disabled,compress=gzip" -i 0

administrator@cli> 
volume -v -i 0
-------------------------------------------------------------------------------
Id: 0                                   Name: tttt_tttt_tttt_tttt_tttt_tttt31
PoolId: 0                               PoolName: test_volume
Status: Exported                        ExportedId: 0
ExportedWWN: 22e70001557dedcb           OperationalStatus: OK, Synchronizing
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
PoolAvailableCapacity: 5.22 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 512 Bytes                        Sector: 512 Bytes
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-12 19:04:47
PreferCtrlId: 2                         AdvType: 

administrator@cli> 

Expect: modify volume "name=tttt_tttt_tttt_tttt_tttt_tttt_32,sync=standard,compress=zle"

volume -a mod -s "name=tttt_tttt_tttt_tttt_tttt_tttt_32,sync=standard,compress=zle" -i 0

administrator@cli> 
volume -v -i 0
-------------------------------------------------------------------------------
Id: 0                                   Name: tttt_tttt_tttt_tttt_tttt_tttt_32
PoolId: 0                               PoolName: test_volume
Status: Exported                        ExportedId: 0
ExportedWWN: 22e70001557dedcb           OperationalStatus: OK, Synchronizing
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
PoolAvailableCapacity: 5.22 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 512 Bytes                        Sector: 512 Bytes
Compress: zle                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-12 19:04:47
PreferCtrlId: 2                         AdvType: 

administrator@cli> 
'result': 'p'

Expect: volume 0 should be exported

volume -a export -i 0

administrator@cli> 
volume -v -i 0
-------------------------------------------------------------------------------
Id: 0                                   Name: tttt_tttt_tttt_tttt_tttt_tttt_32
PoolId: 0                               PoolName: test_volume
Status: Exported                        ExportedId: 0
ExportedWWN: 22e70001557dedcb           OperationalStatus: OK, Synchronizing
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
PoolAvailableCapacity: 5.22 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 512 Bytes                        Sector: 512 Bytes
Compress: zle                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-12 19:04:47
PreferCtrlId: 2                         AdvType: 

administrator@cli> 
'result': 'p'

Expect: volume 0 should be un-exported

volume -a unexport -i 0

administrator@cli> 
volume -v -i 0
-------------------------------------------------------------------------------
Id: 0                                   Name: tttt_tttt_tttt_tttt_tttt_tttt_32
PoolId: 0                               PoolName: test_volume
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
PoolAvailableCapacity: 5.22 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 512 Bytes                        Sector: 512 Bytes
Compress: zle                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-12 19:04:47
PreferCtrlId: 2                         AdvType: 

administrator@cli> 
'result': 'p'

Expect: Invalid setting parameters

volume test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid setting parameters

volume -a add -p 0 -s "name=test_option1,capacity=Test"
Error (0x2013): Invalid setting parameters
invalid setting: Test

administrator@cli> 

Expect: Invalid setting parameters

volume -a add -p 0 -s "name=test_option2,capacity=1GB,block=Test"
Error (0x2013): Invalid setting parameters
block: invalid setting Test (512b|1kb|2kb|4kb|8kb|16kb|32kb|64kb|128kb)

administrator@cli> 

Expect: Invalid setting parameters

volume -a add -p 0 -s "name=test_option3,capacity=1GB,sector=Test"
Error (0x2013): Invalid setting parameters
sector: invalid setting Test (512b|1kb|2kb|4kb)

administrator@cli> 

Expect: Invalid setting parameters

volume -a add -p 0 -s "name=test_option4,capacity=1GB,sync=Test"
Error (0x2013): Invalid setting parameters
sync: invalid setting Test (standard|always|disabled)

administrator@cli> 

Expect: Invalid setting parameters

volume -a add -p 0 -s "name=test_option5,capacity=1GB,thinprov=Test"
Error (0x2013): Invalid setting parameters
thinprov: invalid setting test (enable|disable)

administrator@cli> 

Expect: Invalid setting parameters

volume -a add -p 0 -s "name=test_option6,capacity=1GB,compress=test"
Error (0x2013): Invalid setting parameters
compress: invalid setting test (off|lz4|gzip|zle)

administrator@cli> 

Expect: Invalid setting parameters

volume -a add -p 0 -s "name=test_option6,capacity=1GB,logbias=test"
Error (0x2013): Invalid setting parameters
logbias: invalid setting test (latency|throughput)

administrator@cli> 

Expect: Pool id=[20] is not existed

volume -a add -p 20 -s "name=invalid_pool_id,capacity=1GB"
Error (0x4100102): Empty query result, please check input parameters. Pool id=[20] is not existed.

administrator@cli> 

Expect: Invalid setting parameters

volume -a add -p 257 -s "name=invalid_pool_id,capacity=1GB"
Error (0x2013): Invalid setting parameters
-p: invalid setting 257 (0,256)

administrator@cli> 

Expect: Invalid setting parameters

volume -a add -p 0 -s ""
Error (0x2013): Invalid setting parameters
invalid comma: ','

administrator@cli> 

Expect: Invalid setting parameters

volume -a mod -i test
Error (0x2013): Invalid setting parameters
-i: invalid setting test

administrator@cli> 

Expect: Volume id=[100] is not existed

volume -a mod -i 100 -s "name=test"
Error (0x4100102): Empty query result, please check input parameters. Volume id=[100] is not existed.

administrator@cli> 

Expect: Invalid setting parameters

volume -a mod -i 1024 -s "name=test"
Error (0x2013): Invalid setting parameters
-i: invalid setting 1024 (0,1023)

administrator@cli> 

Expect: Setting parameters too long

volume -a mod -i 0 -s "name=Nmae_Nmae_Nmae_Nmae_Nmae_Nmae_123"
Error (0x2014): Setting parameters too long
name: invalid setting Nmae_Nmae_Nmae_Nmae_Nmae_Nmae_123

administrator@cli> 

Expect: Invalid setting parameters

volume -a mod -i 0 -s "name="
Error (0x2013): Invalid setting parameters
name contain only alphanumeric characters and underscores

administrator@cli> 

Expect: Invalid setting parameters

volume -a mod -i 0 -s "name=name*"
Error (0x2013): Invalid setting parameters
name contain only alphanumeric characters and underscores

administrator@cli> 

Expect: Invalid setting parameters

volume -a del test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Volume id=[100] is not existed

volume -a del -i 100
Error (0x4100102): Empty query result, please check input parameters. Volume id=[100] is not existed.

administrator@cli> 

Expect: Invalid setting parameters

volume -a del -i 1024
Error (0x2013): Invalid setting parameters
-i: invalid setting 1024 (0,1023)

administrator@cli> 

Expect: Invalid setting parameters

volume -a export test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid setting parameters

volume -a export -i 1024
Error (0x2013): Invalid setting parameters
-i: invalid setting 1024 (0,1023)

administrator@cli> 

Expect: Invalid setting parameters

volume -a unexport test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Volume id=[100] is not existed

volume -a unexport -i 100
Error (0x4100102): Empty query result, please check input parameters. Volume id=[100] is not existed.

administrator@cli> 

Expect: Invalid setting parameters

volume -a unexport -i 1024
Error (0x2013): Invalid setting parameters
-i: invalid setting 1024 (0,1023)

administrator@cli> 
'result': 'p'

Expect: invalid option: -test

volume -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: invalid option: -test

volume -a add -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: invalid option: -test

volume -a add -s "name=test_option,capacity=1GB" -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: invalid option: -test

volume -a mod -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: invalid option: -test

volume -a export -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: invalid option: -test

volume -a unexport -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: invalid option: -test

volume -a del -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 
'result': 'p'

Expect: Missing parameter

volume -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 

Expect: Missing parameter

volume -a
Error (0x403): Missing parameter
-a: missing value

administrator@cli> 

Expect: Missing parameter

volume -a add
Error (0x403): Missing parameter
missing parameter '-s' for '-a add'

administrator@cli> 

Expect: Missing parameter

volume -a add -s
Error (0x403): Missing parameter
-s: missing value

administrator@cli> 

Expect: Missing parameter

volume -a add -s "name=test_missing,capacity=1GB" -p
Error (0x403): Missing parameter
-p: missing value

administrator@cli> 

Expect: Missing parameter

volume -a mod
Error (0x403): Missing parameter
missing parameter '-s' for '-a mod'

administrator@cli> 

Expect: Missing parameter

volume -a mod -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 

Expect: Missing parameter

volume -a export
Error (0x403): Missing parameter
missing parameter '-i' for '-a export'

administrator@cli> 

Expect: Missing parameter

volume -a export -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 

Expect: Missing parameter

volume -a unexport
Error (0x403): Missing parameter
missing parameter '-i' for '-a unexport'

administrator@cli> 

Expect: Missing parameter

volume -a unexport -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 

Expect: Missing parameter

volume -a del
Error (0x403): Missing parameter
missing parameter '-i' for '-a del'

administrator@cli> 

Expect: Missing parameter

volume -a del -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 
'result': 'p'

Expect: volume 0 should be deleted

volume -a del -i 0

administrator@cli> 
volume
===============================================================================
Id   Name                  PoolId TotalCap    UsedCap     Status      OpStatus 
===============================================================================
1    TN                    0      2 GB        2 GB        Exported    OK,      
                                                                      Synchron 
                                                                      izing    
2    Test_Test_Test_Test_T 0      1 TB        8.19 KB     Exported    OK,      
     est_Test31                                                       Synchron 
                                                                      izing    
3    test_test_test_test_t 0      2 TB        2 TB        Exported    OK,      
     est_test_32                                                      Synchron 
                                                                      izing    
4    test_block_1          0      1 GB        1 GB        Exported    OK,      
                                                                      Synchron 
                                                                      izing    
5    test_block_2          0      1 GB        1 GB        Exported    OK,      
                                                                      Synchron 
                                                                      izing    
6    test_block_3          0      999.98 MB   999.98 MB   Exported    OK,      
                                                                      Synchron 
                                                                      izing    
7    test_block_4          0      999.95 MB   999.95 MB   Exported    OK,      
                                                                      Synchron 
                                                                      izing    
8    test_block_5          0      999.95 MB   999.95 MB   Exported    OK,      
                                                                      Synchron 
                                                                      izing    
9    test_default_values   0      1 GB        1 GB        Exported    OK,      
                                                                      Synchron 
                                                                      izing    

administrator@cli> 

Expect: volume 1 should be deleted

volume -a del -i 1 -f -y

administrator@cli> 
volume
===============================================================================
Id   Name                  PoolId TotalCap    UsedCap     Status      OpStatus 
===============================================================================
2    Test_Test_Test_Test_T 0      1 TB        8.19 KB     Exported    OK,      
     est_Test31                                                       Synchron 
                                                                      izing    
3    test_test_test_test_t 0      2 TB        2 TB        Exported    OK,      
     est_test_32                                                      Synchron 
                                                                      izing    
4    test_block_1          0      1 GB        1 GB        Exported    OK,      
                                                                      Synchron 
                                                                      izing    
5    test_block_2          0      1 GB        1 GB        Exported    OK,      
                                                                      Synchron 
                                                                      izing    
6    test_block_3          0      999.98 MB   999.98 MB   Exported    OK,      
                                                                      Synchron 
                                                                      izing    
7    test_block_4          0      999.95 MB   999.95 MB   Exported    OK,      
                                                                      Synchron 
                                                                      izing    
8    test_block_5          0      999.95 MB   999.95 MB   Exported    OK,      
                                                                      Synchron 
                                                                      izing    
9    test_default_values   0      1 GB        1 GB        Exported    OK,      
                                                                      Synchron 
                                                                      izing    

administrator@cli> 
'result': 'p'
Add NASShare 

Expect: NASShare settings are name=X,capacity=1GB,recsize=128KB,sync=always,logbias=latency,compress=zle

nasshare -a add -p 0 -s "name=X,capacity=1GB,recsize=128KB,sync=always,logbias=latency,compress=zle"

administrator@cli> 
nasshare -v -i 0
-------------------------------------------------------------------------------
Id: 0                                   Name: X
PoolId: 0                               PoolName: test_NASShare_pool
SyncMode: always                        TotalCapacity: 1 GB
UsedCapacity: 19.46 KB                  PoolAvailableCapacity: 7.27 TB
WrittenCapacityAfterSnapshot: 19.46 KB  ShareProtocol: WEBDAV
TimeMachine: Enabled                    RecordSize: 128 KB
Compress: zle                           Ratio: 1.00x
Logbias: latency                        RedundantMetaData: all
ThinProv: Enabled                       CopiesOfNewData: 1
PreferCtrlId: 2                         Status: Mounted
OperationalStatus: OK, Synchronizing    QuotaStatus: Ready
ACLStatus: Ready                        MountPoint: /FS/X

administrator@cli> 
Actual: NASShare is added successful 

Expect: NASShare settings are name=1_a,capacity=2GB,recsize=512B,sync=standard,logbias=throughput,compress=lz4

nasshare -a add -p 0 -s "name=1_a,capacity=2GB,recsize=512B,sync=standard,logbias=throughput,compress=lz4"

administrator@cli> 
nasshare -v -i 1
-------------------------------------------------------------------------------
Id: 1                                   Name: 1_a
PoolId: 0                               PoolName: test_NASShare_pool
SyncMode: standard                      TotalCapacity: 2 GB
UsedCapacity: 19.46 KB                  PoolAvailableCapacity: 7.29 TB
WrittenCapacityAfterSnapshot: 19.46 KB  ShareProtocol: WEBDAV
TimeMachine: Enabled                    RecordSize: 512 Bytes
Compress: lz4                           Ratio: 1.00x
Logbias: throughput                     RedundantMetaData: all
ThinProv: Enabled                       CopiesOfNewData: 1
PreferCtrlId: 2                         Status: Mounted
OperationalStatus: OK, Synchronizing    QuotaStatus: Ready
ACLStatus: Ready                        MountPoint: /FS/1_a

administrator@cli> 
Actual: NASShare is added successful 

Expect: NASShare settings are name=NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN,capacity=1TB,recsize=1MB,sync=disabled,logbias=throughput,compress=gzip

nasshare -a add -p 0 -s "name=NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN,capacity=1TB,recsize=1MB,sync=disabled,logbias=throughput,compress=gzip"

administrator@cli> 
nasshare -v -i 2
-------------------------------------------------------------------------------
Id: 2                                   Name: NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
PoolId: 0                               PoolName: test_NASShare_pool
SyncMode: disabled                      TotalCapacity: 1 TB
UsedCapacity: 19.46 KB                  PoolAvailableCapacity: 7.29 TB
WrittenCapacityAfterSnapshot: 19.46 KB  ShareProtocol: WEBDAV
TimeMachine: Enabled                    RecordSize: 1 MB
Compress: gzip                          Ratio: 1.00x
Logbias: throughput                     RedundantMetaData: all
ThinProv: Enabled                       CopiesOfNewData: 1
PreferCtrlId: 2                         Status: Mounted
OperationalStatus: OK, Synchronizing    QuotaStatus: Ready
MountPoint: /FS/NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
ACLStatus: Ready

administrator@cli> 
Actual: NASShare is added successful 

'result': 'p'
List all of NASShare 

Expect: list all of NASShare 

nasshare
===============================================================================
Id   Name                  PoolId TotalCap    UsedCap     Status      OpStatus 
===============================================================================
0    X                     0      1 GB        19.46 KB    Mounted     OK,      
                                                                      Synchron 
                                                                      izing    
1    1_a                   0      2 GB        19.46 KB    Mounted     OK,      
                                                                      Synchron 
                                                                      izing    
2    NNNNNNNNNNNNNNNNNNNNN 0      1 TB        19.46 KB    Mounted     OK,      
     NNNNNNNNNNN                                                      Synchron 
                                                                      izing    

administrator@cli> 
Actual: all of NASShare are listed 

To list specify NASShare 

Expect: To list 0 NASShare 

nasshare -i 0
===============================================================================
Id   Name                  PoolId TotalCap    UsedCap     Status      OpStatus 
===============================================================================
0    X                     0      1 GB        19.46 KB    Mounted     OK,      
                                                                      Synchron 
                                                                      izing    

administrator@cli> 
Actual: NASShare 0 is listed
Expect: To list 1 NASShare 

nasshare -i 1
===============================================================================
Id   Name                  PoolId TotalCap    UsedCap     Status      OpStatus 
===============================================================================
1    1_a                   0      2 GB        19.46 KB    Mounted     OK,      
                                                                      Synchron 
                                                                      izing    

administrator@cli> 
Actual: NASShare 1 is listed
Expect: To list 2 NASShare 

nasshare -i 2
===============================================================================
Id   Name                  PoolId TotalCap    UsedCap     Status      OpStatus 
===============================================================================
2    NNNNNNNNNNNNNNNNNNNNN 0      1 TB        19.46 KB    Mounted     OK,      
     NNNNNNNNNNN                                                      Synchron 
                                                                      izing    

administrator@cli> 
Actual: NASShare 2 is listed
'result': 'p'
List all of NASShare by verbose model 

nasshare
===============================================================================
Id   Name                  PoolId TotalCap    UsedCap     Status      OpStatus 
===============================================================================
0    X                     0      1 GB        19.46 KB    Mounted     OK,      
                                                                      Synchron 
                                                                      izing    
1    1_a                   0      2 GB        19.46 KB    Mounted     OK,      
                                                                      Synchron 
                                                                      izing    
2    NNNNNNNNNNNNNNNNNNNNN 0      1 TB        19.46 KB    Mounted     OK,      
     NNNNNNNNNNN                                                      Synchron 
                                                                      izing    

administrator@cli> 
Expect: list all of NASShare by verbose model 

nasshare -v
-------------------------------------------------------------------------------
Id: 0                                   Name: X
PoolId: 0                               PoolName: test_NASShare_pool
SyncMode: always                        TotalCapacity: 1 GB
UsedCapacity: 19.46 KB                  PoolAvailableCapacity: 7.29 TB
WrittenCapacityAfterSnapshot: 19.46 KB  ShareProtocol: WEBDAV
TimeMachine: Enabled                    RecordSize: 128 KB
Compress: zle                           Ratio: 1.00x
Logbias: latency                        RedundantMetaData: all
ThinProv: Enabled                       CopiesOfNewData: 1
PreferCtrlId: 2                         Status: Mounted
OperationalStatus: OK, Synchronizing    QuotaStatus: Ready
ACLStatus: Ready                        MountPoint: /FS/X
-------------------------------------------------------------------------------
Id: 1                                   Name: 1_a
PoolId: 0                               PoolName: test_NASShare_pool
SyncMode: standard                      TotalCapacity: 2 GB
UsedCapacity: 19.46 KB                  PoolAvailableCapacity: 7.29 TB
WrittenCapacityAfterSnapshot: 19.46 KB  ShareProtocol: WEBDAV
TimeMachine: Enabled                    RecordSize: 512 Bytes
Compress: lz4                           Ratio: 1.00x
Logbias: throughput                     RedundantMetaData: all
ThinProv: Enabled                       CopiesOfNewData: 1
PreferCtrlId: 2                         Status: Mounted
OperationalStatus: OK, Synchronizing    QuotaStatus: Ready
ACLStatus: Ready                        MountPoint: /FS/1_a
-------------------------------------------------------------------------------
Id: 2                                   Name: NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
PoolId: 0                               PoolName: test_NASShare_pool
SyncMode: disabled                      TotalCapacity: 1 TB
UsedCapacity: 19.46 KB                  PoolAvailableCapacity: 7.29 TB
WrittenCapacityAfterSnapshot: 19.46 KB  ShareProtocol: WEBDAV
TimeMachine: Enabled                    RecordSize: 1 MB
Compress: gzip                          Ratio: 1.00x
Logbias: throughput                     RedundantMetaData: all
ThinProv: Enabled                       CopiesOfNewData: 1
PreferCtrlId: 2                         Status: Mounted
OperationalStatus: OK, Synchronizing    QuotaStatus: Ready
MountPoint: /FS/NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
ACLStatus: Ready

administrator@cli> 
Actual: all of NASShare by verbose model are listed 

To list specify NASShare by verbose model 

Expect: To list 0 NASShare by verbose model 

nasshare -v -i 0
-------------------------------------------------------------------------------
Id: 0                                   Name: X
PoolId: 0                               PoolName: test_NASShare_pool
SyncMode: always                        TotalCapacity: 1 GB
UsedCapacity: 19.46 KB                  PoolAvailableCapacity: 7.29 TB
WrittenCapacityAfterSnapshot: 19.46 KB  ShareProtocol: WEBDAV
TimeMachine: Enabled                    RecordSize: 128 KB
Compress: zle                           Ratio: 1.00x
Logbias: latency                        RedundantMetaData: all
ThinProv: Enabled                       CopiesOfNewData: 1
PreferCtrlId: 2                         Status: Mounted
OperationalStatus: OK, Synchronizing    QuotaStatus: Ready
ACLStatus: Ready                        MountPoint: /FS/X

administrator@cli> 
Actual: NASShare by verbose model 0 is listed
Expect: To list 1 NASShare by verbose model 

nasshare -v -i 1
-------------------------------------------------------------------------------
Id: 1                                   Name: 1_a
PoolId: 0                               PoolName: test_NASShare_pool
SyncMode: standard                      TotalCapacity: 2 GB
UsedCapacity: 19.46 KB                  PoolAvailableCapacity: 7.29 TB
WrittenCapacityAfterSnapshot: 19.46 KB  ShareProtocol: WEBDAV
TimeMachine: Enabled                    RecordSize: 512 Bytes
Compress: lz4                           Ratio: 1.00x
Logbias: throughput                     RedundantMetaData: all
ThinProv: Enabled                       CopiesOfNewData: 1
PreferCtrlId: 2                         Status: Mounted
OperationalStatus: OK, Synchronizing    QuotaStatus: Ready
ACLStatus: Ready                        MountPoint: /FS/1_a

administrator@cli> 
Actual: NASShare by verbose model 1 is listed
Expect: To list 2 NASShare by verbose model 

nasshare -v -i 2
-------------------------------------------------------------------------------
Id: 2                                   Name: NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
PoolId: 0                               PoolName: test_NASShare_pool
SyncMode: disabled                      TotalCapacity: 1 TB
UsedCapacity: 19.46 KB                  PoolAvailableCapacity: 7.29 TB
WrittenCapacityAfterSnapshot: 19.46 KB  ShareProtocol: WEBDAV
TimeMachine: Enabled                    RecordSize: 1 MB
Compress: gzip                          Ratio: 1.00x
Logbias: throughput                     RedundantMetaData: all
ThinProv: Enabled                       CopiesOfNewData: 1
PreferCtrlId: 2                         Status: Mounted
OperationalStatus: OK, Synchronizing    QuotaStatus: Ready
MountPoint: /FS/NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
ACLStatus: Ready

administrator@cli> 
Actual: NASShare by verbose model 2 is listed
'result': 'p'
Modify NASShare 

Expect: The NASShare 0 can be modified 

nasshare -a mod -i 0 -s "name=test_modify,sync=standard,compress=lz4,logbias=throughput,thinprov=enable"

administrator@cli> 
Actual: The NASShare 0 is modified 

nasshare -v -i 0
-------------------------------------------------------------------------------
Id: 0                                   Name: test_modify
PoolId: 0                               PoolName: test_NASShare_pool
SyncMode: standard                      TotalCapacity: 1 GB
UsedCapacity: 19.46 KB                  PoolAvailableCapacity: 7.29 TB
WrittenCapacityAfterSnapshot: 19.46 KB  ShareProtocol: WEBDAV
TimeMachine: Enabled                    RecordSize: 128 KB
Compress: lz4                           Ratio: 1.00x
Logbias: throughput                     RedundantMetaData: all
ThinProv: Enabled                       CopiesOfNewData: 1
PreferCtrlId: 2                         Status: Un-Mounted
OperationalStatus: OK, Synchronizing    QuotaStatus: Ready
ACLStatus: Ready                        MountPoint: /FS/test_modify

administrator@cli> 
Expect: The NASShare 0 can be modified 

nasshare -a mod -i 0 -s "name=1,sync=always,compress=gzip,logbias=latency,thinprov=disable"

administrator@cli> 
Actual: The NASShare 0 is modified 

nasshare -v -i 0
-------------------------------------------------------------------------------
Id: 0                                   Name: 1
PoolId: 0                               PoolName: test_NASShare_pool
SyncMode: always                        TotalCapacity: 1 GB
UsedCapacity: 1 GB                      PoolAvailableCapacity: 7.29 TB
WrittenCapacityAfterSnapshot: 19.46 KB  ShareProtocol: WEBDAV
TimeMachine: Enabled                    RecordSize: 128 KB
Compress: gzip                          Ratio: 1.00x
Logbias: latency                        RedundantMetaData: all
ThinProv: Disabled                      CopiesOfNewData: 1
PreferCtrlId: 2                         Status: Un-Mounted
OperationalStatus: OK, Synchronizing    QuotaStatus: Ready
ACLStatus: Ready                        MountPoint: /FS/1

administrator@cli> 
Expect: The NASShare 0 can be modified 

nasshare -a mod -i 0 -s "name=NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN,sync=disabled,compress=zle,logbias=throughput,thinprov=enable"

administrator@cli> 
Actual: The NASShare 0 is modified 

nasshare -v -i 0
-------------------------------------------------------------------------------
Id: 0                                   Name: NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
PoolId: 0                               PoolName: test_NASShare_pool
SyncMode: disabled                      TotalCapacity: 1 GB
UsedCapacity: 19.46 KB                  PoolAvailableCapacity: 7.29 TB
WrittenCapacityAfterSnapshot: 19.46 KB  ShareProtocol: WEBDAV
TimeMachine: Enabled                    RecordSize: 128 KB
Compress: zle                           Ratio: 1.00x
Logbias: throughput                     RedundantMetaData: all
ThinProv: Enabled                       CopiesOfNewData: 1
PreferCtrlId: 2                         Status: Un-Mounted
OperationalStatus: OK, Synchronizing    QuotaStatus: Ready
MountPoint: /FS/NNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
ACLStatus: Ready

administrator@cli> 
No NASShare can be used
'result': 'p'
Mounted NASShare 

nasshare
===============================================================================
Id   Name                  PoolId TotalCap    UsedCap     Status      OpStatus 
===============================================================================
0    NNNNNNNNNNNNNNNNNNNNN 0      1 GB        19.46 KB    Un-Mounted  OK,      
     NNNNNNNNNN                                                       Synchron 
                                                                      izing    
1    1_a                   0      2 GB        19.46 KB    Mounted     OK,      
                                                                      Synchron 
                                                                      izing    
2    NNNNNNNNNNNNNNNNNNNNN 0      1 TB        19.46 KB    Mounted     OK,      
     NNNNNNNNNNN                                                      Synchron 
                                                                      izing    

administrator@cli> 
Expect: Mount NASShare 0

nasshare -a mount -i 0

administrator@cli> 
nasshare -i 0
===============================================================================
Id   Name                  PoolId TotalCap    UsedCap     Status      OpStatus 
===============================================================================
0    NNNNNNNNNNNNNNNNNNNNN 0      1 GB        19.46 KB    Mounted     OK,      
     NNNNNNNNNN                                                       Synchron 
                                                                      izing    

administrator@cli> 
Actual: NASShare 0 is mounted

'result': 'p'
Un-Mount NASShare 

nasshare
===============================================================================
Id   Name                  PoolId TotalCap    UsedCap     Status      OpStatus 
===============================================================================
0    NNNNNNNNNNNNNNNNNNNNN 0      1 GB        19.46 KB    Mounted     OK,      
     NNNNNNNNNN                                                       Synchron 
                                                                      izing    
1    1_a                   0      2 GB        19.46 KB    Mounted     OK,      
                                                                      Synchron 
                                                                      izing    
2    NNNNNNNNNNNNNNNNNNNNN 0      1 TB        19.46 KB    Mounted     OK,      
     NNNNNNNNNNN                                                      Synchron 
                                                                      izing    

administrator@cli> 
Expect: Un-Mount NASShare 0

nasshare -a unmount -i 0

administrator@cli> 
nasshare -i 0
===============================================================================
Id   Name                  PoolId TotalCap    UsedCap     Status      OpStatus 
===============================================================================
0    NNNNNNNNNNNNNNNNNNNNN 0      1 GB        19.46 KB    Un-Mounted  OK,      
     NNNNNNNNNN                                                       Synchron 
                                                                      izing    

administrator@cli> 
Actual: NASShare 0 is unmounted

'result': 'p'
Verify NASShare help document

nasshare -h
nasshare

Usage:
   nasshare [-a action] [-i <nasshare id>] [-v]
   nasshare -a list [-i <nasshare id>] [-v]
   nasshare -a add -p <pool id> -s "<list of nasshare params>"
   nasshare -a mod -i <nasshare id> -s "<list of nasshare params>"
   nasshare -a del -i <nasshare id>
   nasshare -a mount -i <nasshare id>
   nasshare -a unmount -i <nasshare id>

Summary:
    The nasshare command allow user to view, add, delete, modify, mount and
    un-mount NAS share.

Options:

-a <action>          Specifies which action to perform
    list             (Default) List NAS share information.
    add              Add a NAS share.
    del              Delete an existing NAS share.
    mod              Change the settings for a NAS share.
    mount            Mount NAS share.
    unmount          Un-mount NAS share.

-p <pool id>         The disk pool ID. Valid values are 0-255.
                     Only valid for add or list action.

-i <nasshare id>     The NAS share ID.

-s "<option>=<value>"
                     Used to specify what options to change.
                     Only valid for add or mod action.

    name             The name of the NAS Share.

    capacity         Used to specify the capacity of NAS Share.
                     For add action, if not specified, it means to use the max
                     available capacity of the pool
                     For mod action, it means to extend capacity of the NAS
                     share. It must be larger than original capacity.

    recsize          NAS share record size. 512B to 1MB, default is 128KB

    compress         Compression method.
      off            (Default)
      lz4            fast
      gzip           optimized
      zle            zero length encoding

    sync=            Sync mode.
      standard       (Default)
      always
      disabled

    logbias=         Slog behavior
      latency        (Default)
      throughput

    thinprov=        Thin-provision supported or not.
      enable         (Default)
      disable

Examples:
    nasshare -a list -v
    nasshare -a add -p 1 -s "name=sd, capacity=10gb"
    nasshare -a mod -i 1 -s "name=sd2, capacity=20gb"
    nasshare -a del -i 1
    nasshare -a mount -i 1
    nasshare -a unmount -i 1
Type ' | grep "word1,word2,..."' at the end of each command, to display 
filtered info.

administrator@cli> 
'result': 'p'
To specify inexistent id 

Expect: To hint id is not existent 

nasshare -a add -p 100 -s "name=failTest, capacity=2GB"
Error (0x4100102): Empty query result, please check input parameters. Pool id=[100] is not existed.

administrator@cli> 
nasshare -a mod -i 100 -s "name=test"
Error (0x4100102): Empty query result, please check input parameters. NAS Share id=[100] is not existed.

administrator@cli> 
nasshare -a mount -i 100
Error (0x4100102): Empty query result, please check input parameters. NAS Share id=[100] is not existed.

administrator@cli> 
nasshare -a unmount -i 100
Error (0x4100102): Empty query result, please check input parameters. NAS Share id=[100] is not existed.

administrator@cli> 
nasshare -a del -i 100
Error (0x4100102): Empty query result, please check input parameters. NAS Share id=[100] is not existed.

administrator@cli> 
nasshare -i 100
-i: specific nas share not exists

administrator@cli> 

Actual: To hint and correct error 

'result': 'p'
To input inexistent option 

Expect: To input inexistent option will hint invalid option 

nasshare -x
Error (0x2012): Invalid option for the command or the action
invalid option: -x

administrator@cli> 
nasshare -a add -p 100 -s "option=failTest, test=2GB"
Error (0x2012): Invalid option for the command or the action
-s: invalid option: option

administrator@cli> 
nasshare -a mod -i 100 -s "invalid=test"
Error (0x2012): Invalid option for the command or the action
-s: invalid option: invalid

administrator@cli> 
nasshare -a mount -x 100
Error (0x2012): Invalid option for the command or the action
invalid option: -x

administrator@cli> 
nasshare -a unmount -x 100nasshare -a del -x
Error (0x2012): Invalid option for the command or the action
invalid option: -x

administrator@cli> 

Actual: It will hint and correct error when inputs inexistent option 

'result': 'p'
To input invalid parameter 

Expect: To hint error message that contains invalid parameter 

nasshare x
Error (0x2013): Invalid setting parameters
invalid setting: x

administrator@cli> 
nasshare -a add -p 0 -s "name=%$^&@^$, capacity=2GB"
Error (0x2013): Invalid setting parameters
name contain only alphanumeric characters and underscores

administrator@cli> 
nasshare -a add -p 0 -s "name=test, capacity=x"
Error (0x2013): Invalid setting parameters
invalid setting: x

administrator@cli> 
nasshare -a add -p 0 -s "name=test, capacity=2GB, recsize=x"
Error (0x2013): Invalid setting parameters
recsize: invalid setting x (512b|1kb|2kb|4kb|8kb|16kb|32kb|64kb|128kb|256kb|512kb|1mb)

administrator@cli> 
nasshare -a add -p 0 -s "name=test, capacity=2GB, sync=x"
Error (0x2013): Invalid setting parameters
sync: invalid setting x (standard|always|disabled)

administrator@cli> 
nasshare -a add -p 0 -s "name=test, capacity=2GB, logbias=x"
Error (0x2013): Invalid setting parameters
logbias: invalid setting x (latency|throughput)

administrator@cli> 
nasshare -a mod -i 0 -s "name=@$%&*"
Error (0x2013): Invalid setting parameters
name contain only alphanumeric characters and underscores

administrator@cli> 
nasshare -a mod -i 0 -s "capacity=x"
Error (0x2013): Invalid setting parameters
invalid setting: x

administrator@cli> 
nasshare -a mount x
Error (0x2013): Invalid setting parameters
invalid setting: x

administrator@cli> 
nasshare -a unmount xnasshare -a del x
Error (0x2013): Invalid setting parameters
invalid setting: xnasshare

administrator@cli> 

Actual: To hint error and correct error 

'result': 'p'
Verify missing parameter 

Expect: To hint error message that contains missing parameter 

nasshare -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 
nasshare -a add
Error (0x403): Missing parameter
missing parameter '-s' for '-a add'

administrator@cli> 
nasshare -a add -p 0 -s 
Error (0x403): Missing parameter
-s: missing value

administrator@cli> 
nasshare -a mod -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 
nasshare -a mod -i 0 -s 
Error (0x403): Missing parameter
-s: missing value

administrator@cli> 
nasshare -a mount
Error (0x403): Missing parameter
missing parameter '-i' for '-a mount'

administrator@cli> 
nasshare -a mount -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 
nasshare -a unmount
Error (0x403): Missing parameter
missing parameter '-i' for '-a unmount'

administrator@cli> 
nasshare -a unmount -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 
nasshare -a del
Error (0x403): Missing parameter
missing parameter '-i' for '-a del'

administrator@cli> 
nasshare -a del -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 

Actual: To hint error and correct error
'result': 'p'
Expect: delete NASShare 1_a

nasshare -a del -i 1

administrator@cli> 
nasshare
===============================================================================
Id   Name                  PoolId TotalCap    UsedCap     Status      OpStatus 
===============================================================================
0    NNNNNNNNNNNNNNNNNNNNN 0      1 GB        19.46 KB    Un-Mounted  OK,      
     NNNNNNNNNN                                                       Synchron 
                                                                      izing    
2    NNNNNNNNNNNNNNNNNNNNN 0      1 TB        19.46 KB    Mounted     OK,      
     NNNNNNNNNNN                                                      Synchron 
                                                                      izing    

administrator@cli> 
'result': 'p'

clean up environment 

pool -a del -y -f -i 0

administrator@cli> 

Expect: should display a list of physical portal IP configurations

net
===============================================================================
ProtocolFamily           Status             IP                   Link          
===============================================================================
IPv4                     Enabled            10.84.2.164          Up            
IPv6                     Disabled           N/A                  Up            

administrator@cli> 

Expect: should display a list of physical portal IP configurations

net -t portal
Error (0x2012): Invalid option for the command or the action
invalid option: -t

administrator@cli> 

Fail: net -t portal


Expect: should display a list of port configurations

net -t port
Error (0x2012): Invalid option for the command or the action
invalid option: -t

administrator@cli> 

Fail: net -t port


Expect: portal configurations should be listed on ctrl 2

net -c 2 -t portal
Error (0x2012): Invalid option for the command or the action
invalid option: -t

administrator@cli> 

Fail: net -c 2 -t portal


Expect: port configurations should be listed on ctrl 2

net -c 2 -t port
Error (0x2012): Invalid option for the command or the action
invalid option: -t

administrator@cli> 

Fail: net -c 2 -t port


Expect: static IP info should be listed

net -m
-------------------------------------------------------------------------------
Controller 1 information not accessible
 
-------------------------------------------------------------------------------
CtrlId: 2                               PhysicalIP: Disabled
MAC: 00:01:55:5b:3d:29
 
-------------------------------------------------------------------------------
ProtocolFamily: IPv4(Enabled)           DHCP: Disabled
IP: 10.0.0.5                            IPMask: 255.0.0.0
Gateway: 0.0.0.0                        Mac: 00:01:55:5b:3d:29
 
-------------------------------------------------------------------------------
ProtocolFamily: IPv6(Disabled)          DHCP: Disabled
IP: N/A                                 IPMask: N/A
LinkLocalIP: N/A                        LinkLocalIPMask: N/A
Gateway: N/A                            Mac: 00:01:55:5b:3d:29
 

administrator@cli> 
'result': 'f'

Expect: should display network configurations by verbose mode

net -v
-------------------------------------------------------------------------------
ActiveCtrlId: 2                         Port: 1
MaxSupportedSpeed: 100Mbps              LinkStatus: Up
DefaultRoute: ether                     WakeOnLan: Disabled
MAC: 00:01:55:5b:3d:2b
 
-------------------------------------------------------------------------------
ProtocolFamily: IPv4(Enabled)           DHCP: Disabled
IP: 10.84.2.164                         IPMask: 255.255.255.0
PrimaryDNS: 10.84.2.190                 SecondaryDNS: 10.0.0.1
Gateway: 10.84.2.1                      AutoDNS: Disabled
 
-------------------------------------------------------------------------------
ProtocolFamily: IPv6(Disabled)          DHCP: Disabled
IP: N/A                                 IPMask: N/A
LinkLocalIP: N/A                        LinkLocalIPMask: N/A
PrimaryDNS: N/A                         SecondaryDNS: N/A
Gateway: N/A                            AutoDNS: Disabled
 

administrator@cli> 

Expect: should display a list of physical portal IP configurations by verbose mode

net -t portal -v
Error (0x2012): Invalid option for the command or the action
invalid option: -t

administrator@cli> 

Fail: net -t portal -v


Expect: should display a list of port configurations by verbose mode

net -t port -v
Error (0x2012): Invalid option for the command or the action
invalid option: -t

administrator@cli> 

Fail: net -t port -v


Expect: portal configurations should be listed on ctrl 2 by verbose mode

net -c 2 -t portal -v
Error (0x2012): Invalid option for the command or the action
invalid option: -t

administrator@cli> 

Fail: net -c 2 -t portal -v


Expect: port configurations should be listed on ctrl 2 by verbose mode

net -c 2 -t port -v
Error (0x2012): Invalid option for the command or the action
invalid option: -t

administrator@cli> 

Fail: net -c 2 -t port -v


Expect: static IP info should be listed by verbose mode

net -m -v
-------------------------------------------------------------------------------
Controller 1 information not accessible
 
-------------------------------------------------------------------------------
CtrlId: 2                               PhysicalIP: Disabled
MAC: 00:01:55:5b:3d:29
 
-------------------------------------------------------------------------------
ProtocolFamily: IPv4(Enabled)           DHCP: Disabled
IP: 10.0.0.5                            IPMask: 255.0.0.0
Gateway: 0.0.0.0                        Mac: 00:01:55:5b:3d:29
 
-------------------------------------------------------------------------------
ProtocolFamily: IPv6(Disabled)          DHCP: Disabled
IP: N/A                                 IPMask: N/A
LinkLocalIP: N/A                        LinkLocalIPMask: N/A
Gateway: N/A                            Mac: 00:01:55:5b:3d:29
 

administrator@cli> 
'result': 'f'

Expect: target should be added by 

target -a add -n 00-11-22-33-44-55-66-77

administrator@cli> 
target -1 1
Error (0x2013): Invalid setting parameters
invalid setting: -1

administrator@cli> 

Expect: target should be added by 

target -a add -n 09-81-27-36-45-54-88-99

administrator@cli> 
target -1 2
Error (0x2013): Invalid setting parameters
invalid setting: -1

administrator@cli> 

Expect: target should be added by 

target -a add -n a1-bc-d7-e6-f5-54-88-99

administrator@cli> 
target -1 3
Error (0x2013): Invalid setting parameters
invalid setting: -1

administrator@cli> 

Expect: target should be added by 

target -a add -n aa-bb-cc-dd-ee-ff-aa-bb

administrator@cli> 
target -1 4
Error (0x2013): Invalid setting parameters
invalid setting: -1

administrator@cli> 
'result': 'p'

Expect: target should be added by 

target -a add -n 00-11-22-33-44-55-66-77

administrator@cli> 
target -i 1
-------------------------------------------------------------------------------
Index: 1                                Wwnn: 09-81-27-36-45-54-88-99

administrator@cli> 

Expect: target should be added by 

target -a add -n 09-81-27-36-45-54-88-99

administrator@cli> 
target -i 2
-------------------------------------------------------------------------------
Index: 2                                Wwnn: -5-55-55-55-55-55-55-55

administrator@cli> 

Expect: target should be added by 

target -a add -n a1-bc-d7-e6-f5-54-88-99

administrator@cli> 
target -i 3
-------------------------------------------------------------------------------
Index: 3                                Wwnn: -5-e4-32-81-90-aa-b7-76

administrator@cli> 

Expect: target should be added by 

target -a add -n aa-bb-cc-dd-ee-ff-aa-bb

administrator@cli> 
target -i 4
-------------------------------------------------------------------------------
Index: 4                                Wwnn: -5-e4-32-81-90-aa-b7-76

administrator@cli> 
'result': 'p'

Expect: all target should be listed

target
-------------------------------------------------------------------------------
Index: 1                                Wwnn: 00-11-22-33-44-55-66-77
-------------------------------------------------------------------------------
Index: 2                                Wwnn: 09-81-27-36-45-54-88-99
-------------------------------------------------------------------------------
Index: 3                                Wwnn: -5-55-55-55-55-55-55-55
-------------------------------------------------------------------------------
Index: 4                                Wwnn: -5-e4-32-81-90-aa-b7-76
-------------------------------------------------------------------------------
Index: 5                                Wwnn: -5-d5-d5-d5-d5-d5-d5-d5
-------------------------------------------------------------------------------
Index: 6                                Wwnn: -5-e4-3d-8c-9b-aa-b7-76
-------------------------------------------------------------------------------
Index: 7                                Wwnn: -5-54-43-32-21-10-05-54

administrator@cli> 

Expect: target of index 1 should be listed

target -i 1
-------------------------------------------------------------------------------
Index: 1                                Wwnn: 00-11-22-33-44-55-66-77

administrator@cli> 
'result': 'p'

Expect: specific target should be deleted

target -a ddel -i 4
Error (0x2013): Invalid setting parameters
-a: invalid setting ddel (list|add|del)

administrator@cli> 

Fail: target -a ddel -i 4

'result': 'f'

Expect: specific target should be deleted

target -a del -i 4

administrator@cli> 
'result': 'p'

Expect: target should be added by 

target -a add -n 00-11-22-33-44-55-66-77

administrator@cli> 
target -i 1
-------------------------------------------------------------------------------
Index: 1                                Wwnn: 09-81-27-36-45-54-88-99

administrator@cli> 

Expect: target should be added by 

target -a add -n 09-81-27-36-45-54-88-99

administrator@cli> 
target -i 2
-------------------------------------------------------------------------------
Index: 2                                Wwnn: -5-55-55-55-55-55-55-55

administrator@cli> 

Expect: target should be added by 

target -a add -n a1-bc-d7-e6-f5-54-88-99

administrator@cli> 
target -i 3
-------------------------------------------------------------------------------
Index: 3                                Wwnn: -5-e4-32-81-90-aa-b7-76

administrator@cli> 

Expect: target should be added by 

target -a add -n aa-bb-cc-dd-ee-ff-aa-bb

administrator@cli> 
target -i 4
-------------------------------------------------------------------------------
Index: 4                                Wwnn: -5-e4-32-81-90-aa-b7-76

administrator@cli> 
'result': 'p'

Expect: specific target should be deleted

target -a del -i 4

administrator@cli> 
target -i 4
-------------------------------------------------------------------------------
Index: 4                                Wwnn: -5-e4-32-81-90-aa-b7-76

administrator@cli> 

Fail: please check out 

'result': 'f'

Expect: target should be added by name 00-11-22-33-44-55-66-77

target -a add -n 00-11-22-33-44-55-66-77

administrator@cli> 
target -i 1
-------------------------------------------------------------------------------
Index: 1                                Wwnn: 09-81-27-36-45-54-88-99

administrator@cli> 

Fail: please check out Wwnn: 00-11-22-33-44-55-66-77


Expect: target should be added by name 09-81-27-36-45-54-88-99

target -a add -n 09-81-27-36-45-54-88-99

administrator@cli> 
target -i 2
-------------------------------------------------------------------------------
Index: 2                                Wwnn: -5-55-55-55-55-55-55-55

administrator@cli> 

Fail: please check out Wwnn: 09-81-27-36-45-54-88-99


Expect: target should be added by name a1-bc-d7-e6-f5-54-88-99

target -a add -n a1-bc-d7-e6-f5-54-88-99

administrator@cli> 
target -i 3
-------------------------------------------------------------------------------
Index: 3                                Wwnn: -5-e4-32-81-90-aa-b7-76

administrator@cli> 

Fail: please check out Wwnn: a1-bc-d7-e6-f5-54-88-99


Expect: target should be added by name aa-bb-cc-dd-ee-ff-aa-bb

target -a add -n aa-bb-cc-dd-ee-ff-aa-bb

administrator@cli> 
target -i 4
-------------------------------------------------------------------------------
Index: 4                                Wwnn: -5-e4-32-81-90-aa-b7-76

administrator@cli> 

Fail: please check out Wwnn: aa-bb-cc-dd-ee-ff-aa-bb

'result': 'f'

Expect: target should be added by name 00-11-22-33-44-55-66-77

target -a add -n 00-11-22-33-44-55-66-77

administrator@cli> 
target -i 1
-------------------------------------------------------------------------------
Index: 1                                Wwnn: 09-81-27-36-45-54-88-99

administrator@cli> 

Fail: please check out Wwnn: 00-11-22-33-44-55-66-77


Expect: target should be added by name 09-81-27-36-45-54-88-99

target -a add -n 09-81-27-36-45-54-88-99

administrator@cli> 
target -i 2
-------------------------------------------------------------------------------
Index: 2                                Wwnn: -5-55-55-55-55-55-55-55

administrator@cli> 

Fail: please check out Wwnn: 09-81-27-36-45-54-88-99


Expect: target should be added by name a1-bc-d7-e6-f5-54-88-99

target -a add -n a1-bc-d7-e6-f5-54-88-99

administrator@cli> 
target -i 3
-------------------------------------------------------------------------------
Index: 3                                Wwnn: -5-e4-32-81-90-aa-b7-76

administrator@cli> 

Fail: please check out Wwnn: a1-bc-d7-e6-f5-54-88-99


Expect: target should be added by name aa-bb-cc-dd-ee-ff-aa-bb

target -a add -n aa-bb-cc-dd-ee-ff-aa-bb

administrator@cli> 
target -i 4
-------------------------------------------------------------------------------
Index: 4                                Wwnn: -5-e4-32-81-90-aa-b7-76

administrator@cli> 

Fail: please check out Wwnn: aa-bb-cc-dd-ee-ff-aa-bb

'result': 'f'

Expect: target should be added by name 00-11-22-33-44-55-66-77

target -a add -n 00-11-22-33-44-55-66-77

administrator@cli> 
target -i 1
-------------------------------------------------------------------------------
Index: 1                                Wwnn: -5-55-55-55-55-55-55-55

administrator@cli> 

Fail: please check out Wwnn: 00-11-22-33-44-55-66-77


Expect: target should be added by name 09-81-27-36-45-54-88-99

target -a add -n 09-81-27-36-45-54-88-99

administrator@cli> 
target -i 2
-------------------------------------------------------------------------------
Index: 2                                Wwnn: -5-e4-32-81-90-aa-b7-76

administrator@cli> 

Fail: please check out Wwnn: 09-81-27-36-45-54-88-99


Expect: target should be added by name a1-bc-d7-e6-f5-54-88-99

target -a add -n a1-bc-d7-e6-f5-54-88-99

administrator@cli> 
target -i 3
-------------------------------------------------------------------------------
Index: 3                                Wwnn: -5-d5-d5-d5-d5-d5-d5-d5

administrator@cli> 

Fail: please check out Wwnn: a1-bc-d7-e6-f5-54-88-99


Expect: target should be added by name aa-bb-cc-dd-ee-ff-aa-bb

target -a add -n aa-bb-cc-dd-ee-ff-aa-bb

administrator@cli> 
target -i 4
-------------------------------------------------------------------------------
Index: 4                                Wwnn: -5-e4-32-81-90-aa-b7-76

administrator@cli> 

Fail: please check out Wwnn: aa-bb-cc-dd-ee-ff-aa-bb

'result': 'f'

Expect: Invalid setting parameters

target test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid setting parameters

target -a test
Error (0x2013): Invalid setting parameters
-a: invalid setting test (list|add|del)

administrator@cli> 

Expect: Invalid parameter

target -a add -n abc-1-22-33-44-55-66-77
Error (0x402): Invalid parameter
-n: initiator name every byte has to be separated by one - character

administrator@cli> 

Expect: Invalid parameter

target -a add -n 091-81-27-36-45-54-88-99
Error (0x402): Invalid parameter
-n: initiator name should be 8 bytes long

administrator@cli> 

Expect: Invalid parameter

target -a add -n a1-bc-d7-e6-f5-54-88-9
Error (0x402): Invalid parameter
-n: initiator name should be 8 bytes long

administrator@cli> 

Expect: Invalid setting parameters

target -i 65536
Error (0x2013): Invalid setting parameters
-i: invalid setting 65536 (1,65535)

administrator@cli> 

Expect: Invalid setting parameters

target -a del -i test
Error (0x2013): Invalid setting parameters
-i: invalid setting test

administrator@cli> 

Expect: Invalid setting parameters

target -a del -i 200
Error (0x2013): Invalid setting parameters
specified target not found

administrator@cli> 
'result': 'p'

Expect: Invalid option for the command or the action

target -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

target -a -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

target -a add -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

target -a del -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 
'result': 'p'

Expect: 

target -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 

Expect: Missing parameter

target -a
Error (0x403): Missing parameter
-a: missing value

administrator@cli> 

Expect: Missing parameter

target -a add
Error (0x403): Missing parameter
missing parameter '-n' for '-a add'

administrator@cli> 

Expect: Missing parameter

target -a add -n 
Error (0x403): Missing parameter
-n: missing value

administrator@cli> 

Expect: Missing parameter

target -a del
Error (0x403): Missing parameter
missing parameter '-i' for '-a del'

administrator@cli> 

Expect: Missing parameter

target -a del -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 
'result': 'p'

Expect: replication should be started by "name=T, syncmode=async"

replication -a start -i 2 -p 1 -s "name=T, syncmode=async"

administrator@cli> 
volume -i 6 -v
-------------------------------------------------------------------------------
Id: 6                                   Name: T
PoolId: 1                               PoolName: T_replication_1
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 4 GB                     UsedCapacity: 4 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-15 15:06:00
PreferCtrlId: 2                         AdvType: Replication
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Async
AdvStatus: Syncing                      AdvProgress: 2.0

administrator@cli> 

Expect: replication should be started by "name=t2, syncmode=semi-sync"

replication -a start -i 3 -p 1 -s "name=t2, syncmode=semi-sync"

administrator@cli> 
volume -i 7 -v
-------------------------------------------------------------------------------
Id: 7                                   Name: t2
PoolId: 1                               PoolName: T_replication_1
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 4 GB                     UsedCapacity: 4 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-15 15:06:08
PreferCtrlId: 2                         AdvType: Replication
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Semi-Sync
AdvStatus: Syncing                      AdvProgress: 0.5

administrator@cli> 

Expect: replication should be started by "name=test_Test_Test_Test_Test_Test31, syncmode=sync"

replication -a start -i 4 -p 0 -s "name=test_Test_Test_Test_Test_Test31, syncmode=sync"

administrator@cli> 
volume -i 8 -v
-------------------------------------------------------------------------------
Id: 8                                   Name: test_Test_Test_Test_Test_Test31
PoolId: 0                               PoolName: T_replication_0
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
PoolAvailableCapacity: 107.22 GB        UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-15 15:06:14
PreferCtrlId: 2                         AdvType: Replication
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Syncing                      AdvProgress: 3.4

administrator@cli> 

Expect: replication should be started by "name=test_Test_Test_Test_Test_Test_32"

replication -a start -i 5 -p 0 -s "name=test_Test_Test_Test_Test_Test_32"

administrator@cli> 
volume -i 5 -v
-------------------------------------------------------------------------------
Id: 5                                   Name: T_replication_vol_5
PoolId: 1                               PoolName: T_replication_1
Status: Exported                        ExportedId: 5
ExportedWWN: 22950001555ffd7a           OperationalStatus: OK, Synchronizing
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-15 15:05:59
PreferCtrlId: 2                         AdvType: Replication
AdvKind: Local                          AdvRole: Source
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Syncing                      AdvProgress: 4.2

administrator@cli> 
'result': 'p'

Expect: Max 4 pairs of replication

replication -a start -i 0 -p 0 -s "name=firth_replica"
Error (0x4100104): Incorrect parameters: Support maximum 4 local replication!

administrator@cli> 

Expect: destination volume should not be exported

volume -a export -i 6
Error (0x4100104): Incorrect parameters: Destination volume of replication in Active_Passive mode cannot be exported.

administrator@cli> 

Expect: destination volume should not be expanded

volume -a mod -i 6 -s "capacity=6GB"
Error (0x4100104): Incorrect parameters: Volume is replication or migration Volume.

administrator@cli> 

Expect: destination volume should not be modified

volume -a mod -i 6 -s "name=no_way"
Error (0x4100104): Incorrect parameters: Volume is replication or migration Volume.

administrator@cli> 

Expect: destination volume should not create snapshot

snapshot -a add -t volume -d 6 -s "name=test_replica"
Error (0x4100104): Incorrect parameters: Destination volume of replication or migration cannot create snapshot.

administrator@cli> 

Expect: destination volume should not be added for lunmap

lunmap -a add -p volume -i 0 -l 6 -m 2
Error (0x402): Invalid parameter
The volume/snapshot/clone is un-exported

administrator@cli> 

Expect: destination volume should not be deleted

volume -a del -i 6
Error (0x4100104): Incorrect parameters: Volume is replication or migration Volume.

administrator@cli> 

Expect: source volume should not be expanded

volume -a mod -i 2 -s "capacity=5GB"
Error (0x4100104): Incorrect parameters: Volume is replication or migration Volume.

administrator@cli> 

Expect: source volume should not be deleted

volume -a del -i 2
Error (0x4100104): Incorrect parameters: Volume is replication or migration Volume.

administrator@cli> 

Expect: source pool should not be deleted

pool -a del -i 1 -f -y
Error (0x4100104): Incorrect parameters: There are replication or migration Volume in the Pool.

administrator@cli> 

Expect: destination pool should not be deleted

pool -a del -i 0 -f -y
Error (0x4100104): Incorrect parameters: There are replication or migration Volume in the Pool.

administrator@cli> 
'result': 'p'

Expect: all of replication should be listed

replication
===============================================================================
SrcVol         DestVol        Location  TotalCap  UsedCap   Status         
===============================================================================
T_replication_ T              Local     4 GB      4 GB      Syncing            
vol_2                                                                          
T_replication_ t2             Local     4 GB      4 GB      Syncing            
vol_3                                                                          
T_replication_ test_Test_Test Local     1 GB      1 GB      Syncing            
vol_5          _Test_Test_Tes                                                  
               t_32                                                            
T_replication_ test_Test_Test Local     1 GB      1 GB      OK                 
vol_4          _Test_Test_Tes                                                  
               t31                                                             

administrator@cli> 
'result': 'p'

Expect: all of replication should be listed by verbose mode

replication -a list -v
-------------------------------------------------------------------------------
Location: Local                         Role: Destination
Mode: Active-Passive                    SyncMode: Async
Status: Syncing                         Description: Syncing.
Progress: 72.5                          SourceVolumeId: 2
SourceVolumeName: T_replication_vol_2   SourcePoolName: T_replication_0
SourcePortalIP: 10.128.0.2              DestinationVolumeId: 6
DestinationVolumeName: T                DestinationPoolName: T_replication_1
DestinationPortalIP: 10.128.0.2         Enable: 1
Period: 0                               TotalCapacity: 4 GB
UsedCapacity: 4 GB
-------------------------------------------------------------------------------
Location: Local                         Role: Destination
Mode: Active-Passive                    SyncMode: Semi-Sync
Status: Syncing                         Description: Syncing.
Progress: 56.3                          SourceVolumeId: 3
SourceVolumeName: T_replication_vol_3   SourcePoolName: T_replication_0
SourcePortalIP: 10.128.0.2              DestinationVolumeId: 7
DestinationVolumeName: t2               DestinationPoolName: T_replication_1
DestinationPortalIP: 10.128.0.2         Enable: 1
Period: 0                               TotalCapacity: 4 GB
UsedCapacity: 4 GB
-------------------------------------------------------------------------------
Location: Local                         Role: Source
Mode: Active-Passive                    SyncMode: Sync
Status: Syncing                         Description: Syncing.
Progress: 85.4                          SourceVolumeId: 5
SourceVolumeName: T_replication_vol_5   SourcePoolName: T_replication_1
SourcePortalIP: 10.128.0.2              DestinationVolumeId: 9
DestinationVolumeName: test_Test_Test_Test_Test_Test_32
DestinationPoolName: T_replication_0    DestinationPortalIP: 10.128.0.2
Enable: 1                               Period: 0
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
-------------------------------------------------------------------------------
Location: Local                         Role: Source
Mode: Active-Passive                    SyncMode: Sync
Status: OK                              Description: Ready.
Progress: 100.0                         SourceVolumeId: 4
SourceVolumeName: T_replication_vol_4   SourcePoolName: T_replication_1
SourcePortalIP: 10.128.0.2              DestinationVolumeId: 8
DestinationVolumeName: test_Test_Test_Test_Test_Test31
DestinationPoolName: T_replication_0    DestinationPortalIP: 10.128.0.2
Enable: 1                               Period: 0
TotalCapacity: 1 GB                     UsedCapacity: 1 GB

administrator@cli> 
'result': 'p'

Expect: specific replication should be stopped

replication -a stop -i 2

administrator@cli> 
volume -v -i 6
-------------------------------------------------------------------------------
Id: 6                                   Name: T
PoolId: 1                               PoolName: T_replication_1
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 4 GB                     UsedCapacity: 4 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-15 15:06:00
PreferCtrlId: 2                         AdvType: 

administrator@cli> 
'result': 'p'

Expect: replication should be paused by source volume

replication -a pause -i 3

administrator@cli> 
replication
===============================================================================
SrcVol         DestVol        Location  TotalCap  UsedCap   Status         
===============================================================================
T_replication_ t2             Local     4 GB      4 GB      Pause              
vol_3                                                                          
T_replication_ test_Test_Test Local     1 GB      1 GB      OK                 
vol_5          _Test_Test_Tes                                                  
               t_32                                                            
T_replication_ test_Test_Test Local     1 GB      1 GB      OK                 
vol_4          _Test_Test_Tes                                                  
               t31                                                             

administrator@cli> 
'result': 'p'

Expect: replication should be resumed

replication -a resume -i 3

administrator@cli> 
replication
===============================================================================
SrcVol         DestVol        Location  TotalCap  UsedCap   Status         
===============================================================================
T_replication_ t2             Local     4 GB      4 GB      Warning            
vol_3                                                                          
T_replication_ test_Test_Test Local     1 GB      1 GB      OK                 
vol_5          _Test_Test_Tes                                                  
               t_32                                                            
T_replication_ test_Test_Test Local     1 GB      1 GB      OK                 
vol_4          _Test_Test_Tes                                                  
               t31                                                             

administrator@cli> 
'result': 'p'

Expect: replication help document should be displayed

replication -h
replication

Usage:
   replication [-a <action>] [-i <ID>] [-p <pool ID>] [-s <settings>]

Summary:
   The replication command allows the user to replicate volume into another
   pool.
   Only with thin-provision disabled volume can be used to replicate. During
   replication in progress, source volume cannot be expanded or removed;
   destination volume disallowed to do any operations.

Options:

-a <action>           Which action to perform.
   list               (Default) Displays the replication status.
   start              Start a specific replication status.
   stop               Stop the replication
   pause              Pause the replication
   resume             Resume a paused replication

-i <ID>               Source volume ID.

-p <pool id>          Destination pool ID.
                      Only valid for -a add specified

-s "<option>=<value>"
                      Used to specify replication settings.
                      Only valid for -a add specified

   name=              Destination volume name

   syncmode=          sync mode method
     async
     semi-sync
     sync             (Default)

-v                    Verbose mode.  Used with -a list.

Examples:
   replication -a list
   replication -a start -i 1 -p 0 -s "name=test, syncmode=async"
   replication -a stop -i 2
   replication -a pause -i i
   replication -a resume -i 1
Type ' | grep "word1,word2,..."' at the end of each command, to display 
filtered info.

administrator@cli> 
'result': 'p'

Expect: Invalid setting parameters

replication test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid setting parameters

replication -a test
Error (0x2013): Invalid setting parameters
-a: invalid setting test (list|start|stop|pause|resume)

administrator@cli> 

Expect: destination pool capacity should be more than soure volume

replication -a start -i 0 -p 3 -s "name=test_capacity"
Error (0x4100104): Incorrect parameters: Destination Pool availiable size is not enough.

administrator@cli> 

Expect: specify nonexistent source volume

replication -a start -i 100 -p 0 -s "name=test_thin"
Error (0x4100102): Empty query result, please check input parameters. Volume id=[100] is not existed.

administrator@cli> 

Expect: specify nonexistent destination pool

replication -a start -i 0 -p 10 -s "name=test_thin"
Error (0x4100102): Empty query result, please check input parameters. Pool id=[10] is not existed.

administrator@cli> 

Expect: thin provision volume cannot become source volume

replication -a start -i 1 -p 0 -s "name=test_thin"
Error (0x4100104): Incorrect parameters: Volume is not full-provision.

administrator@cli> 

Expect: Can not replicate Volume to the same Pool

replication -a start -i 0 -p 2 -s "name=test_thin"
Error (0x4100104): Incorrect parameters: Can not replicate Volume to the same Pool.

administrator@cli> 

Expect: name contain only alphanumeric characters and underscores

replication -a start -i 0 -p 1 -s "name="
Error (0x2013): Invalid setting parameters
name contain only alphanumeric characters and underscores

administrator@cli> 

Expect: name contain only alphanumeric characters and underscores

replication -a start -i 0 -p 1 -s "name=t*&"
Error (0x2013): Invalid setting parameters
name contain only alphanumeric characters and underscores

administrator@cli> 

Expect: should hint error when name shall not exceed 32 characters

replication -a start -i 0 -p 1 -s "name=test_test_test_test_test_test_033"
Error (0x2014): Setting parameters too long
name shall not exceed 32 characters

administrator@cli> 

Expect: should hint error when specify wrong sync mode

replication -a start -i 0 -p 1 -s "name=test,syncmode=test"
Error (0x2013): Invalid setting parameters
syncmode: invalid setting test (async|semi-sync|sync)

administrator@cli> 

Expect: Invalid setting parameters

replication -a stop -i test
Error (0x2013): Invalid setting parameters
-i: invalid setting test

administrator@cli> 

Expect: replication should not stop by destination volume

replication -a stop -i 9

administrator@cli> 

Fail: replication -a stop -i 9


Expect: Volume id=[20] is not existed

replication -a stop -i 20
Error (0x4100102): Empty query result, please check input parameters. Volume id=[20] is not existed.

administrator@cli> 

Expect: Invalid setting parameters

replication -a pause -i test
Error (0x2013): Invalid setting parameters
-i: invalid setting test

administrator@cli> 

Expect: replication should not pause by destination volume

replication -a pause -i 9
Error (0x4100104): Incorrect parameters: Only source Volume can be paused.

administrator@cli> 

Expect: Volume id=[20] is not existed

replication -a pause -i 20
Error (0x4100102): Empty query result, please check input parameters. Volume id=[20] is not existed.

administrator@cli> 

Expect: Invalid setting parameters

replication -a resume -i test
Error (0x2013): Invalid setting parameters
-i: invalid setting test

administrator@cli> 

Expect: should hint replication doesn't pause

replication -a resume -i 4
Error (0x4100104): Incorrect parameters: This replication is not paused.

administrator@cli> 

Expect: Invalid setting parameters

replication -a resume -i 9
Error (0x4100104): Incorrect parameters: Only source Volume can be resumed.

administrator@cli> 

Expect: Volume id=[20] is not existed

replication -a resume -i 20
Error (0x4100102): Empty query result, please check input parameters. Volume id=[20] is not existed.

administrator@cli> 
'result': 'f'

Expect: invalid option: -test

replication -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: invalid option: -test

replication -a -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: invalid option: -test

replication -a start -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: invalid option: test

replication -a start -i 0 -p 1 -s "test=test,syncmode=test"
Error (0x2012): Invalid option for the command or the action
-s: invalid option: test

administrator@cli> 

Expect: invalid option: test

replication -a start -i 0 -p 1 -s "name=test,test=sync"
Error (0x2012): Invalid option for the command or the action
-s: invalid option: test

administrator@cli> 

Expect: invalid option: -test

replication -a stop -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: invalid option: -test

replication -a pause -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: invalid option: -test

replication -a resume -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 
'result': 'p'

Expect: Missing parameter

replication -a
Error (0x403): Missing parameter
-a: missing value

administrator@cli> 

Expect: Missing parameter

replication -a start
Error (0x403): Missing parameter
missing parameter '-s' for '-a start'

administrator@cli> 

Expect: Missing parameter

replication -a start -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 

Expect: Missing parameter

replication -a start -i 1 -p
Error (0x403): Missing parameter
-p: missing value

administrator@cli> 

Expect: Missing parameter

replication -a start -i 0 -p 2 -s
Error (0x403): Missing parameter
-s: missing value

administrator@cli> 

Expect: Missing parameter

replication -a stop
Error (0x403): Missing parameter
missing parameter '-i' for '-a stop'

administrator@cli> 

Expect: Missing parameter

replication -a stop -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 

Expect: Missing parameter

replication -a pause
Error (0x403): Missing parameter
missing parameter '-i' for '-a pause'

administrator@cli> 

Expect: Missing parameter

replication -a pause -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 

Expect: Missing parameter

replication -a resume
Error (0x403): Missing parameter
missing parameter '-i' for '-a resume'

administrator@cli> 

Expect: Missing parameter

replication -a resume -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 
'result': 'p'

Expect: replication should be started by "name=T, syncmode=async"

replication -a start -i 2 -p 1 -s "name=T, syncmode=async"

administrator@cli> 
volume -i 6 -v
-------------------------------------------------------------------------------
Id: 6                                   Name: T
PoolId: 1                               PoolName: T_replication_1
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 4 GB                     UsedCapacity: 4 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-15 15:08:32
PreferCtrlId: 2                         AdvType: Replication
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Async
AdvStatus: Syncing                      AdvProgress: 2.9

administrator@cli> 

Expect: replication should be started by "name=t2, syncmode=semi-sync"

replication -a start -i 3 -p 1 -s "name=t2, syncmode=semi-sync"

administrator@cli> 
volume -i 7 -v
-------------------------------------------------------------------------------
Id: 7                                   Name: t2
PoolId: 1                               PoolName: T_replication_1
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 4 GB                     UsedCapacity: 4 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-15 15:08:40
PreferCtrlId: 2                         AdvType: Replication
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Semi-Sync
AdvStatus: Syncing                      AdvProgress: 1.1

administrator@cli> 

Expect: replication should be started by "name=test_Test_Test_Test_Test_Test31, syncmode=sync"

replication -a start -i 4 -p 0 -s "name=test_Test_Test_Test_Test_Test31, syncmode=sync"

administrator@cli> 
volume -i 8 -v
-------------------------------------------------------------------------------
Id: 8                                   Name: test_Test_Test_Test_Test_Test31
PoolId: 0                               PoolName: T_replication_0
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
PoolAvailableCapacity: 107.22 GB        UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-15 15:08:47
PreferCtrlId: 2                         AdvType: Replication
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Syncing                      AdvProgress: 7.2

administrator@cli> 

Expect: replication should be started by "name=test_Test_Test_Test_Test_Test_32"

replication -a start -i 5 -p 0 -s "name=test_Test_Test_Test_Test_Test_32"

administrator@cli> 
volume -i 5 -v
-------------------------------------------------------------------------------
Id: 5                                   Name: T_replication_vol_5
PoolId: 1                               PoolName: T_replication_1
Status: Exported                        ExportedId: 5
ExportedWWN: 224e000155924224           OperationalStatus: OK, Synchronizing
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-15 15:08:31
PreferCtrlId: 2                         AdvType: Replication
AdvKind: Local                          AdvRole: Source
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Syncing                      AdvProgress: 8.0

administrator@cli> 
'result': 'p'

Expect: Missing parameter

replication -a
Error (0x403): Missing parameter
-a: missing value

administrator@cli> 

Expect: Missing parameter

replication -a start
Error (0x403): Missing parameter
missing parameter '-s' for '-a start'

administrator@cli> 

Expect: Missing parameter

replication -a start -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 

Expect: Missing parameter

replication -a start -i 1 -p
Error (0x403): Missing parameter
-p: missing value

administrator@cli> 

Expect: Missing parameter

replication -a start -i 0 -p 2 -s
Error (0x403): Missing parameter
-s: missing value

administrator@cli> 

Expect: Missing parameter

replication -a stop
Error (0x403): Missing parameter
missing parameter '-i' for '-a stop'

administrator@cli> 

Expect: Missing parameter

replication -a stop -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 

Expect: Missing parameter

replication -a pause
Error (0x403): Missing parameter
missing parameter '-i' for '-a pause'

administrator@cli> 

Expect: Missing parameter

replication -a pause -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 

Expect: Missing parameter

replication -a resume
Error (0x403): Missing parameter
missing parameter '-i' for '-a resume'

administrator@cli> 

Expect: Missing parameter

replication -a resume -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 
'result': 'p'

Expect: replication should be started by "name=T, syncmode=async"

replication -a start -i 2 -p 1 -s "name=T, syncmode=async"

administrator@cli> 
volume -i 6 -v
-------------------------------------------------------------------------------
Id: 6                                   Name: T
PoolId: 1                               PoolName: T_replication_1
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 4 GB                     UsedCapacity: 4 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-15 15:41:59
PreferCtrlId: 2                         AdvType: Replication
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Async
AdvStatus: Syncing                      AdvProgress: 3.4

administrator@cli> 

Expect: replication should be started by "name=t2, syncmode=semi-sync"

replication -a start -i 3 -p 1 -s "name=t2, syncmode=semi-sync"

administrator@cli> 
volume -i 7 -v
-------------------------------------------------------------------------------
Id: 7                                   Name: t2
PoolId: 1                               PoolName: T_replication_1
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 4 GB                     UsedCapacity: 4 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-15 15:42:09
PreferCtrlId: 2                         AdvType: Replication
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Semi-Sync
AdvStatus: Syncing                      AdvProgress: 1.8

administrator@cli> 

Expect: replication should be started by "name=test_Test_Test_Test_Test_Test31, syncmode=sync"

replication -a start -i 4 -p 0 -s "name=test_Test_Test_Test_Test_Test31, syncmode=sync"

administrator@cli> 
volume -i 8 -v
-------------------------------------------------------------------------------
Id: 8                                   Name: test_Test_Test_Test_Test_Test31
PoolId: 0                               PoolName: T_replication_0
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
PoolAvailableCapacity: 107.22 GB        UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-15 15:42:17
PreferCtrlId: 2                         AdvType: Replication
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Syncing                      AdvProgress: 9.3

administrator@cli> 

Expect: replication should be started by "name=test_Test_Test_Test_Test_Test_32"

replication -a start -i 5 -p 0 -s "name=test_Test_Test_Test_Test_Test_32"

administrator@cli> 
volume -i 5 -v
-------------------------------------------------------------------------------
Id: 5                                   Name: T_replication_vol_5
PoolId: 1                               PoolName: T_replication_1
Status: Exported                        ExportedId: -1
ExportedWWN: 225800015570075d           OperationalStatus: OK, Synchronizing
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-15 15:41:58
PreferCtrlId: 2                         AdvType: Replication
AdvKind: Local                          AdvRole: Source
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Syncing                      AdvProgress: 9.3

administrator@cli> 
'result': 'p'

Expect: Max 4 pairs of replication

replication -a start -i 0 -p 0 -s "name=firth_replica"
Error (0x4100104): Incorrect parameters: Support maximum 4 local replication!

administrator@cli> 

Expect: destination volume should not be exported

volume -a export -i 6
Error (0x4100104): Incorrect parameters: Volume is replication or migration Volume.

administrator@cli> 

Fail: please check out Destination volume of replication in Active_Passive mode cannot be exported


Expect: destination volume should not be expanded

volume -a mod -i 6 -s "capacity=6GB"
Error (0x4100104): Incorrect parameters: Volume is replication or migration Volume.

administrator@cli> 

Expect: destination volume should not be modified

volume -a mod -i 6 -s "name=no_way"
Error (0x4100104): Incorrect parameters: Volume is replication or migration Volume.

administrator@cli> 

Expect: destination volume should not create snapshot

snapshot -a add -t volume -d 6 -s "name=test_replica"
Error (0x4100104): Incorrect parameters: Destination volume of replication or migration cannot create snapshot.

administrator@cli> 

Expect: destination volume should not be added for lunmap

lunmap -a add -p volume -i 0 -l 6 -m 2
Error (0x402): Invalid parameter
The volume/snapshot/clone is un-exported

administrator@cli> 

Expect: destination volume should not be deleted

volume -a del -i 6
Error (0x4100104): Incorrect parameters: Volume is replication or migration Volume.

administrator@cli> 

Expect: source volume should not be expanded

volume -a mod -i 2 -s "capacity=5GB"
Error (0x4100104): Incorrect parameters: Volume is replication or migration Volume.

administrator@cli> 

Expect: source volume should not be deleted

volume -a del -i 2
Error (0x4100104): Incorrect parameters: Volume is replication or migration Volume.

administrator@cli> 

Expect: source pool should not be deleted

pool -a del -i 1 -f -y
Error (0x4100104): Incorrect parameters: There are replication or migration Volume in the Pool.

administrator@cli> 

Expect: destination pool should not be deleted

pool -a del -i 0 -f -y
Error (0x4100104): Incorrect parameters: There are replication or migration Volume in the Pool.

administrator@cli> 
'result': 'f'

Expect: all of replication should be listed

replication
===============================================================================
SrcVol         DestVol        Location  TotalCap  UsedCap   Status         
===============================================================================
T_replication_ t2             Local     4 GB      4 GB      Syncing            
vol_3                                                                          
T_replication_ T              Local     4 GB      4 GB      Syncing            
vol_2                                                                          
T_replication_ test_Test_Test Local     1 GB      1 GB      OK                 
vol_4          _Test_Test_Tes                                                  
               t31                                                             
T_replication_ test_Test_Test Local     1 GB      1 GB      Syncing            
vol_5          _Test_Test_Tes                                                  
               t_32                                                            

administrator@cli> 
'result': 'p'

Expect: all of replication should be listed by verbose mode

replication -a list -v
-------------------------------------------------------------------------------
Location: Local                         Role: Destination
Mode: Active-Passive                    SyncMode: Semi-Sync
Status: Syncing                         Description: Syncing.
Progress: 56.0                          SourceVolumeId: 3
SourceVolumeName: T_replication_vol_3   SourcePoolName: T_replication_0
SourcePortalIP: 10.128.0.2              DestinationVolumeId: 7
DestinationVolumeName: t2               DestinationPoolName: T_replication_1
DestinationPortalIP: 10.128.0.2         Enable: 1
Period: 0                               TotalCapacity: 4 GB
UsedCapacity: 4 GB
-------------------------------------------------------------------------------
Location: Local                         Role: Destination
Mode: Active-Passive                    SyncMode: Async
Status: Syncing                         Description: Syncing.
Progress: 75.4                          SourceVolumeId: 2
SourceVolumeName: T_replication_vol_2   SourcePoolName: T_replication_0
SourcePortalIP: 10.128.0.2              DestinationVolumeId: 6
DestinationVolumeName: T                DestinationPoolName: T_replication_1
DestinationPortalIP: 10.128.0.2         Enable: 1
Period: 0                               TotalCapacity: 4 GB
UsedCapacity: 4 GB
-------------------------------------------------------------------------------
Location: Local                         Role: Source
Mode: Active-Passive                    SyncMode: Sync
Status: OK                              Description: Ready.
Progress: 100.0                         SourceVolumeId: 4
SourceVolumeName: T_replication_vol_4   SourcePoolName: T_replication_1
SourcePortalIP: 10.128.0.2              DestinationVolumeId: 8
DestinationVolumeName: test_Test_Test_Test_Test_Test31
DestinationPoolName: T_replication_0    DestinationPortalIP: 10.128.0.2
Enable: 1                               Period: 0
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
-------------------------------------------------------------------------------
Location: Local                         Role: Source
Mode: Active-Passive                    SyncMode: Sync
Status: Syncing                         Description: Syncing.
Progress: 82.5                          SourceVolumeId: 5
SourceVolumeName: T_replication_vol_5   SourcePoolName: T_replication_1
SourcePortalIP: 10.128.0.2              DestinationVolumeId: 9
DestinationVolumeName: test_Test_Test_Test_Test_Test_32
DestinationPoolName: T_replication_0    DestinationPortalIP: 10.128.0.2
Enable: 1                               Period: 0
TotalCapacity: 1 GB                     UsedCapacity: 1 GB

administrator@cli> 
'result': 'p'

Expect: specific replication should be stopped

replication -a stop -i 2

administrator@cli> 
volume -v -i 6
-------------------------------------------------------------------------------
Id: 6                                   Name: T
PoolId: 1                               PoolName: T_replication_1
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 4 GB                     UsedCapacity: 4 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-15 15:41:59
PreferCtrlId: 2                         AdvType: 

administrator@cli> 
'result': 'p'

Expect: replication should be paused by source volume

replication -a pause -i 3

administrator@cli> 
replication
===============================================================================
SrcVol         DestVol        Location  TotalCap  UsedCap   Status         
===============================================================================
T_replication_ t2             Local     4 GB      4 GB      Pause              
vol_3                                                                          
T_replication_ test_Test_Test Local     1 GB      1 GB      OK                 
vol_4          _Test_Test_Tes                                                  
               t31                                                             
T_replication_ test_Test_Test Local     1 GB      1 GB      OK                 
vol_5          _Test_Test_Tes                                                  
               t_32                                                            

administrator@cli> 
'result': 'p'

Expect: replication should be resumed

replication -a resume -i 3

administrator@cli> 
replication
===============================================================================
SrcVol         DestVol        Location  TotalCap  UsedCap   Status         
===============================================================================
T_replication_ t2             Local     4 GB      4 GB      Warning            
vol_3                                                                          
T_replication_ test_Test_Test Local     1 GB      1 GB      OK                 
vol_4          _Test_Test_Tes                                                  
               t31                                                             
T_replication_ test_Test_Test Local     1 GB      1 GB      OK                 
vol_5          _Test_Test_Tes                                                  
               t_32                                                            

administrator@cli> 
'result': 'p'

Expect: replication help document should be displayed

replication -h
replication

Usage:
   replication [-a <action>] [-i <ID>] [-p <pool ID>] [-s <settings>]

Summary:
   The replication command allows the user to replicate volume into another
   pool.
   Only with thin-provision disabled volume can be used to replicate. During
   replication in progress, source volume cannot be expanded or removed;
   destination volume disallowed to do any operations.

Options:

-a <action>           Which action to perform.
   list               (Default) Displays the replication status.
   start              Start a specific replication status.
   stop               Stop the replication
   pause              Pause the replication
   resume             Resume a paused replication

-i <ID>               Source volume ID.

-p <pool id>          Destination pool ID.
                      Only valid for -a add specified

-s "<option>=<value>"
                      Used to specify replication settings.
                      Only valid for -a add specified

   name=              Destination volume name

   syncmode=          sync mode method
     async
     semi-sync
     sync             (Default)

-v                    Verbose mode.  Used with -a list.

Examples:
   replication -a list
   replication -a start -i 1 -p 0 -s "name=test, syncmode=async"
   replication -a stop -i 2
   replication -a pause -i i
   replication -a resume -i 1
Type ' | grep "word1,word2,..."' at the end of each command, to display 
filtered info.

administrator@cli> 
'result': 'p'

Expect: Invalid setting parameters

replication test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid setting parameters

replication -a test
Error (0x2013): Invalid setting parameters
-a: invalid setting test (list|start|stop|pause|resume)

administrator@cli> 

Expect: destination pool capacity should be more than soure volume

replication -a start -i 0 -p 3 -s "name=test_capacity"
Error (0x4100104): Incorrect parameters: Destination Pool availiable size is not enough.

administrator@cli> 

Expect: specify nonexistent source volume

replication -a start -i 100 -p 0 -s "name=test_thin"
Error (0x4100102): Empty query result, please check input parameters. Volume id=[100] is not existed.

administrator@cli> 

Expect: specify nonexistent destination pool

replication -a start -i 0 -p 10 -s "name=test_thin"
Error (0x4100102): Empty query result, please check input parameters. Pool id=[10] is not existed.

administrator@cli> 

Expect: thin provision volume cannot become source volume

replication -a start -i 1 -p 0 -s "name=test_thin"
Error (0x4100104): Incorrect parameters: Volume is not full-provision.

administrator@cli> 

Expect: Can not replicate Volume to the same Pool

replication -a start -i 0 -p 2 -s "name=test_thin"
Error (0x4100104): Incorrect parameters: Can not replicate Volume to the same Pool.

administrator@cli> 

Expect: name contain only alphanumeric characters and underscores

replication -a start -i 0 -p 1 -s "name="
Error (0x2013): Invalid setting parameters
name contain only alphanumeric characters and underscores

administrator@cli> 

Expect: name contain only alphanumeric characters and underscores

replication -a start -i 0 -p 1 -s "name=t*&"
Error (0x2013): Invalid setting parameters
name contain only alphanumeric characters and underscores

administrator@cli> 

Expect: should hint error when name shall not exceed 32 characters

replication -a start -i 0 -p 1 -s "name=test_test_test_test_test_test_033"
Error (0x2014): Setting parameters too long
name shall not exceed 32 characters

administrator@cli> 

Expect: should hint error when specify wrong sync mode

replication -a start -i 0 -p 1 -s "name=test,syncmode=test"
Error (0x2013): Invalid setting parameters
syncmode: invalid setting test (async|semi-sync|sync)

administrator@cli> 

Expect: Invalid setting parameters

replication -a stop -i test
Error (0x2013): Invalid setting parameters
-i: invalid setting test

administrator@cli> 

Expect: replication should not stop by destination volume

replication -a stop -i 9

administrator@cli> 

Fail: replication -a stop -i 9


Expect: Volume id=[20] is not existed

replication -a stop -i 20
Error (0x4100102): Empty query result, please check input parameters. Volume id=[20] is not existed.

administrator@cli> 

Expect: Invalid setting parameters

replication -a pause -i test
Error (0x2013): Invalid setting parameters
-i: invalid setting test

administrator@cli> 

Expect: replication should not pause by destination volume

replication -a pause -i 9
Error (0x4100104): Incorrect parameters: Only source Volume can be paused.

administrator@cli> 

Expect: Volume id=[20] is not existed

replication -a pause -i 20
Error (0x4100102): Empty query result, please check input parameters. Volume id=[20] is not existed.

administrator@cli> 

Expect: Invalid setting parameters

replication -a resume -i test
Error (0x2013): Invalid setting parameters
-i: invalid setting test

administrator@cli> 

Expect: should hint replication doesn't pause

replication -a resume -i 4
Error (0x4100104): Incorrect parameters: This replication is not paused.

administrator@cli> 

Expect: Invalid setting parameters

replication -a resume -i 9
Error (0x4100104): Incorrect parameters: Only source Volume can be resumed.

administrator@cli> 

Expect: Volume id=[20] is not existed

replication -a resume -i 20
Error (0x4100102): Empty query result, please check input parameters. Volume id=[20] is not existed.

administrator@cli> 
'result': 'f'

Expect: invalid option: -test

replication -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: invalid option: -test

replication -a -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: invalid option: -test

replication -a start -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: invalid option: test

replication -a start -i 0 -p 1 -s "test=test,syncmode=test"
Error (0x2012): Invalid option for the command or the action
-s: invalid option: test

administrator@cli> 

Expect: invalid option: test

replication -a start -i 0 -p 1 -s "name=test,test=sync"
Error (0x2012): Invalid option for the command or the action
-s: invalid option: test

administrator@cli> 

Expect: invalid option: -test

replication -a stop -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: invalid option: -test

replication -a pause -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: invalid option: -test

replication -a resume -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 
'result': 'p'

Expect: Missing parameter

replication -a
Error (0x403): Missing parameter
-a: missing value

administrator@cli> 

Expect: Missing parameter

replication -a start
Error (0x403): Missing parameter
missing parameter '-s' for '-a start'

administrator@cli> 

Expect: Missing parameter

replication -a start -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 

Expect: Missing parameter

replication -a start -i 1 -p
Error (0x403): Missing parameter
-p: missing value

administrator@cli> 

Expect: Missing parameter

replication -a start -i 0 -p 2 -s
Error (0x403): Missing parameter
-s: missing value

administrator@cli> 

Expect: Missing parameter

replication -a stop
Error (0x403): Missing parameter
missing parameter '-i' for '-a stop'

administrator@cli> 

Expect: Missing parameter

replication -a stop -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 

Expect: Missing parameter

replication -a pause
Error (0x403): Missing parameter
missing parameter '-i' for '-a pause'

administrator@cli> 

Expect: Missing parameter

replication -a pause -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 

Expect: Missing parameter

replication -a resume
Error (0x403): Missing parameter
missing parameter '-i' for '-a resume'

administrator@cli> 

Expect: Missing parameter

replication -a resume -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 
'result': 'p'

Expect: migrate should be started by "syncmode=async"

migrate -a start -t local -i 2 -p 1 -s "syncmode=async"

administrator@cli> 
volume -i 10 -v
-------------------------------------------------------------------------------
Id: 10                                  Name: T_migrate_vol_2_migrate
PoolId: 1                               PoolName: T_migrate_1
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 999.95 MB                UsedCapacity: 999.95 MB
PoolAvailableCapacity: 7.21 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-15 15:49:30
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Async
AdvStatus: Syncing                      AdvProgress: 77.0

administrator@cli> 

Expect: migrate should be started by "syncmode=semi-sync"

migrate -a start -t local -i 3 -p 1 -s "syncmode=semi-sync"

administrator@cli> 
volume -i 11 -v
-------------------------------------------------------------------------------
Id: 11                                  Name: T_migrate_vol_3_migrate
PoolId: 1                               PoolName: T_migrate_1
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 999.95 MB                UsedCapacity: 999.95 MB
PoolAvailableCapacity: 7.21 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-15 15:49:46
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Semi-Sync
AdvStatus: Syncing                      AdvProgress: 49.8

administrator@cli> 

Expect: migrate should be started by "syncmode=sync"

migrate -a start -t local -i 4 -p 0 -s "syncmode=sync"

administrator@cli> 
volume -i 12 -v
-i: specific volume not exists

administrator@cli> 

Fail: please check out Block: 8 KB


Fail: please check out Sector: 512 Bytes


Fail: please check out SyncMode: standard


Fail: please check out Logbias: latency


Fail: please check out Compress: off


Fail: please check out AdvType: Migration


Fail: please check out AdvKind: Local


Fail: please check out AdvRole: Destination


Fail: please check out AdvMode: Active-Passive


Fail: please check out AdvProtocol: Sync


Expect: migrate should be started by default volues

migrate -a start -t local -i 5 -p 0

administrator@cli> 
volume -i 5 -v
-------------------------------------------------------------------------------
Id: 5                                   Name: T_migrate_vol_5
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: -1
ExportedWWN: 222f000155698672           OperationalStatus: OK, Synchronizing
TotalCapacity: 10 GB                    UsedCapacity: 10 GB
PoolAvailableCapacity: 7.21 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-15 15:49:26
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Source
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Syncing                      AdvProgress: 6.5

administrator@cli> 

Expect: source volume should be delete

volume -i 2 -v
-------------------------------------------------------------------------------
Id: 2                                   Name: T_migrate_vol_4_migrate
PoolId: 0                               PoolName: T_migrate_0
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 10 GB                    UsedCapacity: 10 GB
PoolAvailableCapacity: 96.22 GB         UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 991.63 MB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-15 15:50:05
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Syncing                      AdvProgress: 15.1

administrator@cli> 
volume -i 2 -v
-------------------------------------------------------------------------------
Id: 2                                   Name: T_migrate_vol_4_migrate
PoolId: 0                               PoolName: T_migrate_0
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 10 GB                    UsedCapacity: 10 GB
PoolAvailableCapacity: 96.22 GB         UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 991.63 MB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-15 15:50:05
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Syncing                      AdvProgress: 22.3

administrator@cli> 

Fail: please check out No volume exists

'result': 'f'

Expect: migrate should be started by "syncmode=async"

migrate -a start -t local -i 2 -p 1 -s "syncmode=async"

administrator@cli> 
volume -i 10 -v
-------------------------------------------------------------------------------
Id: 10                                  Name: T_migrate_vol_2_migrate
PoolId: 1                               PoolName: T_migrate_1
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 999.95 MB                UsedCapacity: 999.95 MB
PoolAvailableCapacity: 7.21 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-15 16:11:09
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Async
AdvStatus: Syncing                      AdvProgress: 89.6

administrator@cli> 

Expect: migrate should be started by "syncmode=semi-sync"

migrate -a start -t local -i 3 -p 1 -s "syncmode=semi-sync"

administrator@cli> 
volume -i 11 -v
-------------------------------------------------------------------------------
Id: 11                                  Name: T_migrate_vol_3_migrate
PoolId: 1                               PoolName: T_migrate_1
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 999.95 MB                UsedCapacity: 999.95 MB
PoolAvailableCapacity: 7.21 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-15 16:11:25
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Semi-Sync
AdvStatus: Syncing                      AdvProgress: 26.0

administrator@cli> 

Expect: migrate should be started by "syncmode=sync"

migrate -a start -t local -i 4 -p 0 -s "syncmode=sync"

administrator@cli> 
volume -i 12 -v
-i: specific volume not exists

administrator@cli> 

Fail: please check out Block: 8 KB


Fail: please check out Sector: 512 Bytes


Fail: please check out SyncMode: standard


Fail: please check out Logbias: latency


Fail: please check out Compress: off


Fail: please check out AdvType: Migration


Fail: please check out AdvKind: Local


Fail: please check out AdvRole: Destination


Fail: please check out AdvMode: Active-Passive


Fail: please check out AdvProtocol: Sync


Expect: migrate should be started by default volues

migrate -a start -t local -i 5 -p 0

administrator@cli> 
volume -i 5 -v
-------------------------------------------------------------------------------
Id: 5                                   Name: T_migrate_vol_5
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: -1
ExportedWWN: 220b00015591c8a7           OperationalStatus: OK, Synchronizing
TotalCapacity: 10 GB                    UsedCapacity: 10 GB
PoolAvailableCapacity: 7.21 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-15 16:11:05
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Source
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Syncing                      AdvProgress: 5.7

administrator@cli> 

Expect: source volume should be delete

volume -i 2 -v
-------------------------------------------------------------------------------
Id: 2                                   Name: T_migrate_vol_4_migrate
PoolId: 0                               PoolName: T_migrate_0
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 10 GB                    UsedCapacity: 10 GB
PoolAvailableCapacity: 96.22 GB         UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 1.66 GB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-15 16:11:40
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Syncing                      AdvProgress: 20.9

administrator@cli> 
volume -i 2 -v
-------------------------------------------------------------------------------
Id: 2                                   Name: T_migrate_vol_4_migrate
PoolId: 0                               PoolName: T_migrate_0
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 10 GB                    UsedCapacity: 10 GB
PoolAvailableCapacity: 96.22 GB         UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 1.66 GB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-15 16:11:40
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Syncing                      AdvProgress: 27.5

administrator@cli> 

Fail: please check out No volume exists

'result': 'f'

Expect: migrate of remote type should be started by "syncmode=async"

migrate -a start -t remote -i 6 -p 0 -s "syncmode=async,srcip=10.84.2.164,dstip=10.84.2.115,password=password"

administrator@cli> 
volume -i 6 -v
-------------------------------------------------------------------------------
Id: 6                                   Name: T_migrate_vol_6
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: 6
ExportedWWN: 22f100015531b95b           OperationalStatus: OK, Synchronizing
TotalCapacity: 10 GB                    UsedCapacity: 10 GB
PoolAvailableCapacity: 7.21 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-15 16:11:05
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Remote                         AdvRole: Source
AdvMode: Active-Passive                 AdvProtocol: Async
AdvStatus: Syncing                      AdvProgress: 1.0

administrator@cli> 

Expect: migrate of remote type should be started by "syncmode=semi-sync"

migrate -a start -t remote -i 7 -p 0 -s "syncmode=semi-sync,srcip=10.84.2.164,dstip=10.84.2.115,password=password"

administrator@cli> 
volume -i 7 -v
-------------------------------------------------------------------------------
Id: 7                                   Name: T_migrate_vol_7
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: -1
ExportedWWN: 226700015546be6b           OperationalStatus: OK, Synchronizing
TotalCapacity: 10 GB                    UsedCapacity: 10 GB
PoolAvailableCapacity: 7.21 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-15 16:11:06
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Remote                         AdvRole: Source
AdvMode: Active-Passive                 AdvProtocol: Semi-Sync
AdvStatus: Syncing                      AdvProgress: 0.6

administrator@cli> 

Expect: migrate of remote type should be started by "syncmode=sync"

migrate -a start -t remote -i 8 -p 0 -s "syncmode=sync,srcip=10.84.2.164,dstip=10.84.2.115,password=password"
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: migrate -a start -t remote -i 8 -p 0 -s "syncmode=sync,srcip=10.84.2.164,dstip=10.84.2.115,password=password"


Expect: migrate of remote type should be started by default volues

migrate -a start -t remote -i 9 -p 0 -s "srcip=10.84.2.164,dstip=10.84.2.115,password=password"
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: migrate -a start -t remote -i 9 -p 0 -s "srcip=10.84.2.164,dstip=10.84.2.115,password=password"


Expect: source volume should be delete

volume -i 6 -v
-------------------------------------------------------------------------------
Id: 6                                   Name: T_migrate_vol_6
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: -1
ExportedWWN: 22f100015531b95b           OperationalStatus: OK, Synchronizing
TotalCapacity: 10 GB                    UsedCapacity: 10 GB
PoolAvailableCapacity: 7.21 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-15 16:11:05
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Remote                         AdvRole: Source
AdvMode: Active-Passive                 AdvProtocol: Async
AdvStatus: Syncing                      AdvProgress: 5.0

administrator@cli> 
volume -i 6 -v
-------------------------------------------------------------------------------
Id: 6                                   Name: T_migrate_vol_6
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: -1
ExportedWWN: 22f100015531b95b           OperationalStatus: OK, Synchronizing
TotalCapacity: 10 GB                    UsedCapacity: 10 GB
PoolAvailableCapacity: 7.21 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-15 16:11:05
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Remote                         AdvRole: Source
AdvMode: Active-Passive                 AdvProtocol: Async
AdvStatus: Syncing                      AdvProgress: 5.7

administrator@cli> 

Fail: please check out specific volume not exists

'result': 'f'

Expect: specific migrate should be stopped

migrate -a stop -i 7

administrator@cli> 
volume -v -i 7
-------------------------------------------------------------------------------
Id: 7                                   Name: T_migrate_vol_7
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: -1
ExportedWWN: 226700015546be6b           OperationalStatus: OK, Synchronizing
TotalCapacity: 10 GB                    UsedCapacity: 10 GB
PoolAvailableCapacity: 7.21 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-15 16:11:06
PreferCtrlId: 2                         AdvType: 

administrator@cli> 
'result': 'p'

Expect: migrate help document should be displayed

migrate -h
migrate

Usage:
   migrate [-a <action>] [-i <ID>] [-t <location>] [-p <pool ID>]
           [-s <settings>]

Summary:
   The migrate command allows the user to migrate volume into another pool
   which located in same subsystem (Local) or other subsystem (Remote).
   As well as to stop a specified migration.
   Only with thin-provision disabled volume can be used to migrate. During
   migration in progress, source volume cannot be expanded or removed;
   destination volume disallowed to do any operations.

Options:

-a <action>           Which action to perform.
   start              (Default) Start a specific migration progress.
   stop               Stop the migration

-i <ID>               Source volume ID.

-t <location>         Destination location.
   local              (Default)
   remote

-p <pool ID>          Destination pool ID.

-s "<option>=<value>"
                      Used to specify migration settings
   syncmode=          Sync mode method
     async
     semi-sync
     sync             (Default)

   srcip=             Source portal IP
                      Only valid for -t remote specified.

   dstip=             Destination portal IP of remote subsystem.
                      Only valid for -t remote specified.

   password=          Password of administrator of remote subsystem.
                      Only valid for -t remote specified.

Examples:
   migrate -a start -i 1 -t local -p 0 -s "syncmode=async"
   migrate -a start -i 2 -t remote -p 0 -s "srcip=10.0.0.1,
     dstip=10.0.0.2, password=test"
Type ' | grep "word1,word2,..."' at the end of each command, to display 
filtered info.

administrator@cli> 
'result': 'p'

Expect: Invalid setting parameters

migrate test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid setting parameters

migrate -a test
Error (0x2013): Invalid setting parameters
-a: invalid setting test (start|stop)

administrator@cli> 

Expect: destination pool capacity should be more than soure volume

migrate -a start -t local -i 0 -p 3
Error (0x4100104): Incorrect parameters: Destination Pool availiable size is not enough.

administrator@cli> 

Expect: specify nonexistent source volume

migrate -a start -t local -i 100 -p 0
Error (0x4100102): Empty query result, please check input parameters. Volume id=[100] is not existed.

administrator@cli> 

Expect: specify nonexistent destination pool

migrate -a start -t local -i 0 -p 10
Error (0x4100102): Empty query result, please check input parameters. Pool id=[10] is not existed.

administrator@cli> 

Expect: thin provision volume cannot become source volume

migrate -a start -t local -i 1 -p 1
Error (0x4100104): Incorrect parameters: Volume is not full-provision.

administrator@cli> 

Expect: Can not migrate Volume to the same Pool

migrate -a start -t local -i 0 -p 2
Error (0x4100104): Incorrect parameters: Can not migrate Volume to the same Pool.

administrator@cli> 

Expect: should hint error when specify wrong sync mode

migrate -a start -t local -i 0 -p 1 -s "syncmode=test"
Error (0x2013): Invalid setting parameters
syncmode: invalid setting test (async|semi-sync|sync)

administrator@cli> 

Expect: should hint error when specify wrong sync mode

migrate -a start -t remote -i 0 -p 0 -s "syncmode=t,srcip=10.84.2.164,dstip=10.84.2.115, password=password"
Error (0x2013): Invalid setting parameters
syncmode: invalid setting t (async|semi-sync|sync)

administrator@cli> 

Expect: ip nonconformity

migrate -a start -t remote -i 0 -p 0 -s "srcip=256.0.0.1,dstip=10.0.0.2, password=password"
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Expect: ip nonconformity

migrate -a start -t remote -i 0 -p 0 -s "srcip=10.256.0.1,dstip=10.0.0.2, password=password"
Error (0x4100104): Incorrect parameters: There is existing replication or migration pair to this Volume.

administrator@cli> 

Expect: ip nonconformity

migrate -a start -t remote -i 0 -p 0 -s "srcip=10.0.256.1,dstip=10.0.0.2, password=password"
Error (0x4100104): Incorrect parameters: There is existing replication or migration pair to this Volume.

administrator@cli> 

Expect: ip nonconformity

migrate -a start -t remote -i 0 -p 0 -s "srcip=10.0.0.256,dstip=10.0.0.2, password=password"
Error (0x4100104): Incorrect parameters: There is existing replication or migration pair to this Volume.

administrator@cli> 

Expect: specify nonexistent destination host

migrate -a start -t remote -i 0 -p 0 -s "srcip=10.84.2.164,dstip=10.0.254.2, password=password"
Error (0x4100104): Incorrect parameters: There is existing replication or migration pair to this Volume.

administrator@cli> 

Expect: specify nonexistent source host

migrate -a start -t remote -i 0 -p 0 -s "srcip=10.84.254.164,dstip=10.84.1.115, password=password"
Error (0x4100104): Incorrect parameters: There is existing replication or migration pair to this Volume.

administrator@cli> 

Expect: Invalid setting parameters

migrate -a stop -i test
Error (0x2013): Invalid setting parameters
-i: invalid setting test

administrator@cli> 

Expect: Volume id=[20] is not existed

migrate -a stop -i 20
Error (0x4100102): Empty query result, please check input parameters. Volume id=[20] is not existed.

administrator@cli> 
'result': 'p'

Expect: invalid option: -test

migrate -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: invalid option: -test

migrate -a -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: invalid option: -test

migrate -a start -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: invalid option: test

migrate -a start -i 0 -p 1 -s "test=sync"
Error (0x2012): Invalid option for the command or the action
-s: invalid option: test

administrator@cli> 

Expect: invalid option: -test

migrate -a stop -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 
'result': 'p'

Expect: Missing parameter

migrate -a
Error (0x403): Missing parameter
-a: missing value

administrator@cli> 

Expect: Missing parameter

migrate -a start
Error (0x403): Missing parameter
-i source volumd ID is missed

administrator@cli> 

Expect: Missing parameter

migrate -a start -t
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Expect: Missing parameter

migrate -a start -t local
Error (0x403): Missing parameter
-i source volumd ID is missed

administrator@cli> 

Expect: Missing parameter

migrate -a start -t local -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 

Expect: Missing parameter

migrate -a start -t local -i 0 -p 2 -s
Error (0x403): Missing parameter
-s: missing value

administrator@cli> 

Expect: Missing parameter

migrate -a stop
Error (0x403): Missing parameter
-i source volumd ID is missed

administrator@cli> 

Expect: Missing parameter

migrate -a stop -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 
'result': 'p'

Expect: migrate should be started by "syncmode=async"

migrate -a start -t local -i 2 -p 1 -s "syncmode=async"

administrator@cli> 
volume -i 10 -v
-------------------------------------------------------------------------------
Id: 10                                  Name: T_migrate_vol_2_migrate
PoolId: 1                               PoolName: T_migrate_1
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 999.95 MB                UsedCapacity: 999.95 MB
PoolAvailableCapacity: 7.21 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-15 16:20:37
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Async
AdvStatus: Syncing                      AdvProgress: 85.4

administrator@cli> 

Expect: migrate should be started by "syncmode=semi-sync"

migrate -a start -t local -i 3 -p 1 -s "syncmode=semi-sync"

administrator@cli> 
volume -i 11 -v
-------------------------------------------------------------------------------
Id: 11                                  Name: T_migrate_vol_3_migrate
PoolId: 1                               PoolName: T_migrate_1
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 999.95 MB                UsedCapacity: 999.95 MB
PoolAvailableCapacity: 7.21 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-15 16:20:55
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Semi-Sync
AdvStatus: Processing                   AdvProgress: 0.0

administrator@cli> 

Expect: migrate should be started by "syncmode=sync"

migrate -a start -t local -i 4 -p 0 -s "syncmode=sync"
Error (0x4100104): Incorrect parameters: Only exported volume can be migrated.

administrator@cli> 

Fail: migrate -a start -t local -i 4 -p 0 -s "syncmode=sync"


Expect: migrate should be started by default volues

migrate -a start -t local -i 5 -p 0

administrator@cli> 
volume -i 5 -v
-------------------------------------------------------------------------------
Id: 5                                   Name: T_migrate_vol_5
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: -1
ExportedWWN: 22b10001550601a3           OperationalStatus: OK, Synchronizing
TotalCapacity: 10 GB                    UsedCapacity: 10 GB
PoolAvailableCapacity: 7.21 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-15 16:20:33
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Source
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Syncing                      AdvProgress: 4.9

administrator@cli> 

Expect: source volume should be delete

volume -i 2 -v
-------------------------------------------------------------------------------
Id: 2                                   Name: T_migrate_vol_5_migrate
PoolId: 0                               PoolName: T_migrate_0
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 10 GB                    UsedCapacity: 10 GB
PoolAvailableCapacity: 106.22 GB        UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 87.22 MB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-15 16:21:22
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Syncing                      AdvProgress: 4.9

administrator@cli> 
volume -i 2 -v
-------------------------------------------------------------------------------
Id: 2                                   Name: T_migrate_vol_5_migrate
PoolId: 0                               PoolName: T_migrate_0
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 10 GB                    UsedCapacity: 10 GB
PoolAvailableCapacity: 106.22 GB        UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 87.22 MB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-15 16:21:22
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Syncing                      AdvProgress: 14.4

administrator@cli> 

Fail: please check out No volume exists

'result': 'f'

Expect: migrate should be started by "syncmode=async"

migrate -a start -t local -i 2 -p 1 -s "syncmode=async"

administrator@cli> 
volume -i 10 -v
-------------------------------------------------------------------------------
Id: 10                                  Name: T_migrate_vol_2_migrate
PoolId: 1                               PoolName: T_migrate_1
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 999.95 MB                UsedCapacity: 999.95 MB
PoolAvailableCapacity: 7.21 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-15 16:25:12
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Async
AdvStatus: Syncing                      AdvProgress: 85.4

administrator@cli> 

Expect: migrate should be started by "syncmode=semi-sync"

migrate -a start -t local -i 3 -p 1 -s "syncmode=semi-sync"

administrator@cli> 
volume -i 11 -v
-------------------------------------------------------------------------------
Id: 11                                  Name: T_migrate_vol_3_migrate
PoolId: 1                               PoolName: T_migrate_1
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 999.95 MB                UsedCapacity: 999.95 MB
PoolAvailableCapacity: 7.21 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-15 16:25:29
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Semi-Sync
AdvStatus: Syncing                      AdvProgress: 46.9

administrator@cli> 

Expect: migrate should be started by "syncmode=sync"

migrate -a start -t local -i 4 -p 0 -s "syncmode=sync"

administrator@cli> 
volume -i 12 -v
-i: specific volume not exists

administrator@cli> 

Fail: please check out Block: 8 KB


Fail: please check out Sector: 512 Bytes


Fail: please check out SyncMode: standard


Fail: please check out Logbias: latency


Fail: please check out Compress: off


Fail: please check out AdvType: Migration


Fail: please check out AdvKind: Local


Fail: please check out AdvRole: Destination


Fail: please check out AdvMode: Active-Passive


Fail: please check out AdvProtocol: Sync


Expect: migrate should be started by default volues

migrate -a start -t local -i 5 -p 0

administrator@cli> 
volume -i 5 -v
-------------------------------------------------------------------------------
Id: 5                                   Name: T_migrate_vol_5
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: -1
ExportedWWN: 229d0001559a90fb           OperationalStatus: OK, Synchronizing
TotalCapacity: 10 GB                    UsedCapacity: 10 GB
PoolAvailableCapacity: 7.21 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-15 16:25:06
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Source
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Syncing                      AdvProgress: 5.4

administrator@cli> 

Expect: source volume should be delete

volume -i 2 -v
-------------------------------------------------------------------------------
Id: 2                                   Name: T_migrate_vol_4_migrate
PoolId: 0                               PoolName: T_migrate_0
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 10 GB                    UsedCapacity: 10 GB
PoolAvailableCapacity: 96.22 GB         UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 1.42 GB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-15 16:25:43
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Syncing                      AdvProgress: 19.8

administrator@cli> 
volume -i 2 -v
-------------------------------------------------------------------------------
Id: 2                                   Name: T_migrate_vol_4_migrate
PoolId: 0                               PoolName: T_migrate_0
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 10 GB                    UsedCapacity: 10 GB
PoolAvailableCapacity: 96.22 GB         UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 1.42 GB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-15 16:25:43
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Syncing                      AdvProgress: 28.4

administrator@cli> 

Fail: please check out No volume exists

'result': 'f'

Expect: replication should be started by "name=T, syncmode=async"

replication -a start -i 2 -p 1 -s "name=T, syncmode=async"

administrator@cli> 
volume -i 6 -v
-------------------------------------------------------------------------------
Id: 6                                   Name: T
PoolId: 1                               PoolName: T_replication_1
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 4 GB                     UsedCapacity: 4 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-15 16:46:05
PreferCtrlId: 2                         AdvType: Replication
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Async
AdvStatus: Syncing                      AdvProgress: 3.6

administrator@cli> 

Expect: replication should be started by "name=t2, syncmode=semi-sync"

replication -a start -i 3 -p 1 -s "name=t2, syncmode=semi-sync"

administrator@cli> 
volume -i 7 -v
-------------------------------------------------------------------------------
Id: 7                                   Name: t2
PoolId: 1                               PoolName: T_replication_1
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 4 GB                     UsedCapacity: 4 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-15 16:46:16
PreferCtrlId: 2                         AdvType: Replication
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Semi-Sync
AdvStatus: Syncing                      AdvProgress: 1.5

administrator@cli> 

Expect: replication should be started by "name=test_Test_Test_Test_Test_Test31, syncmode=sync"

replication -a start -i 4 -p 0 -s "name=test_Test_Test_Test_Test_Test31, syncmode=sync"

administrator@cli> 
volume -i 8 -v
-------------------------------------------------------------------------------
Id: 8                                   Name: test_Test_Test_Test_Test_Test31
PoolId: 0                               PoolName: T_replication_0
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
PoolAvailableCapacity: 107.22 GB        UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-15 16:46:23
PreferCtrlId: 2                         AdvType: Replication
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Syncing                      AdvProgress: 9.3

administrator@cli> 

Expect: replication should be started by "name=test_Test_Test_Test_Test_Test_32"

replication -a start -i 5 -p 0 -s "name=test_Test_Test_Test_Test_Test_32"

administrator@cli> 
volume -i 5 -v
-------------------------------------------------------------------------------
Id: 5                                   Name: T_replication_vol_5
PoolId: 1                               PoolName: T_replication_1
Status: Exported                        ExportedId: 6
ExportedWWN: 22ad00015559cf17           OperationalStatus: OK, Synchronizing
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-15 16:46:05
PreferCtrlId: 2                         AdvType: Replication
AdvKind: Local                          AdvRole: Source
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Syncing                      AdvProgress: 3.0

administrator@cli> 
'result': 'p'

Expect: Missing parameter

replication -a
Error (0x403): Missing parameter
-a: missing value

administrator@cli> 

Expect: Missing parameter

replication -a start
Error (0x403): Missing parameter
missing parameter '-s' for '-a start'

administrator@cli> 

Expect: Missing parameter

replication -a start -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 

Expect: Missing parameter

replication -a start -i 1 -p
Error (0x403): Missing parameter
-p: missing value

administrator@cli> 

Expect: Missing parameter

replication -a start -i 0 -p 2 -s
Error (0x403): Missing parameter
-s: missing value

administrator@cli> 

Expect: Missing parameter

replication -a stop
Error (0x403): Missing parameter
missing parameter '-i' for '-a stop'

administrator@cli> 

Expect: Missing parameter

replication -a stop -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 

Expect: Missing parameter

replication -a pause
Error (0x403): Missing parameter
missing parameter '-i' for '-a pause'

administrator@cli> 

Expect: Missing parameter

replication -a pause -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 

Expect: Missing parameter

replication -a resume
Error (0x403): Missing parameter
missing parameter '-i' for '-a resume'

administrator@cli> 

Expect: Missing parameter

replication -a resume -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 
'result': 'p'

Expect: replication should be started by "name=T, syncmode=async"

replication -a start -i 2 -p 1 -s "name=T, syncmode=async"

administrator@cli> 
volume -i 6 -v
-------------------------------------------------------------------------------
Id: 6                                   Name: T
PoolId: 1                               PoolName: T_replication_1
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 4 GB                     UsedCapacity: 4 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-15 17:14:51
PreferCtrlId: 2                         AdvType: Replication
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Async
AdvStatus: Syncing                      AdvProgress: 3.1

administrator@cli> 

Expect: replication should be started by "name=t2, syncmode=semi-sync"

replication -a start -i 3 -p 1 -s "name=t2, syncmode=semi-sync"

administrator@cli> 
volume -i 7 -v
-------------------------------------------------------------------------------
Id: 7                                   Name: t2
PoolId: 1                               PoolName: T_replication_1
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 4 GB                     UsedCapacity: 4 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-15 17:15:01
PreferCtrlId: 2                         AdvType: Replication
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Semi-Sync
AdvStatus: Syncing                      AdvProgress: 1.1

administrator@cli> 

Expect: replication should be started by "name=test_Test_Test_Test_Test_Test31, syncmode=sync"

replication -a start -i 4 -p 0 -s "name=test_Test_Test_Test_Test_Test31, syncmode=sync"

administrator@cli> 
volume -i 8 -v
-------------------------------------------------------------------------------
Id: 8                                   Name: test_Test_Test_Test_Test_Test31
PoolId: 0                               PoolName: T_replication_0
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
PoolAvailableCapacity: 107.22 GB        UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-15 17:15:09
PreferCtrlId: 2                         AdvType: Replication
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Syncing                      AdvProgress: 8.0

administrator@cli> 

Expect: replication should be started by "name=test_Test_Test_Test_Test_Test_32"

replication -a start -i 5 -p 0 -s "name=test_Test_Test_Test_Test_Test_32"

administrator@cli> 
volume -i 5 -v
-------------------------------------------------------------------------------
Id: 5                                   Name: T_replication_vol_5
PoolId: 1                               PoolName: T_replication_1
Status: Exported                        ExportedId: 7
ExportedWWN: 22540001553b77b0           OperationalStatus: OK, Synchronizing
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-15 17:14:50
PreferCtrlId: 2                         AdvType: Replication
AdvKind: Local                          AdvRole: Source
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Syncing                      AdvProgress: 3.0

administrator@cli> 
'result': 'p'

Expect: Max 4 pairs of replication

replication -a start -i 0 -p 0 -s "name=firth_replica"
Error (0x4100104): Incorrect parameters: Support maximum 4 local replication!

administrator@cli> 

Expect: destination volume should not be exported

volume -a export -i 6
Error (0x4100104): Incorrect parameters: Destination volume of replication in Active_Passive mode cannot be exported.

administrator@cli> 

Fail: please check out Volume is replication or migration Volume


Expect: destination volume should not be expanded

volume -a mod -i 6 -s "capacity=6GB"
Error (0x4100104): Incorrect parameters: Volume is replication or migration Volume.

administrator@cli> 

Expect: destination volume should not be modified

volume -a mod -i 6 -s "name=no_way"
Error (0x4100104): Incorrect parameters: Volume is replication or migration Volume.

administrator@cli> 

Expect: destination volume should not create snapshot

snapshot -a add -t volume -d 6 -s "name=test_replica"
Error (0x4100104): Incorrect parameters: Destination volume of replication or migration cannot create snapshot.

administrator@cli> 

Expect: destination volume should not be added for lunmap

lunmap -a add -p volume -i 0 -l 6 -m 2
Error (0x402): Invalid parameter
The volume/snapshot/clone is un-exported

administrator@cli> 

Expect: destination volume should not be deleted

volume -a del -i 6
Error (0x4100104): Incorrect parameters: Volume is replication or migration Volume.

administrator@cli> 

Expect: source volume should not be expanded

volume -a mod -i 2 -s "capacity=5GB"
Error (0x4100104): Incorrect parameters: Volume is replication or migration Volume.

administrator@cli> 

Expect: source volume should not be deleted

volume -a del -i 2
Error (0x4100104): Incorrect parameters: Volume is replication or migration Volume.

administrator@cli> 

Expect: source pool should not be deleted

pool -a del -i 1 -f -y
Error (0x4100104): Incorrect parameters: There are replication or migration Volume in the Pool.

administrator@cli> 

Expect: destination pool should not be deleted

pool -a del -i 0 -f -y
Error (0x4100104): Incorrect parameters: There are replication or migration Volume in the Pool.

administrator@cli> 
'result': 'f'

Expect: all of replication should be listed

replication
===============================================================================
SrcVol         DestVol        Location  TotalCap  UsedCap   Status         
===============================================================================
T_replication_ t2             Local     4 GB      4 GB      Syncing            
vol_3                                                                          
T_replication_ T              Local     4 GB      4 GB      Syncing            
vol_2                                                                          
T_replication_ test_Test_Test Local     1 GB      1 GB      Syncing            
vol_5          _Test_Test_Tes                                                  
               t_32                                                            
T_replication_ test_Test_Test Local     1 GB      1 GB      OK                 
vol_4          _Test_Test_Tes                                                  
               t31                                                             

administrator@cli> 
'result': 'p'

Expect: all of replication should be listed by verbose mode

replication -a list -v
-------------------------------------------------------------------------------
Location: Local                         Role: Destination
Mode: Active-Passive                    SyncMode: Semi-Sync
Status: Syncing                         Description: Syncing.
Progress: 59.5                          SourceVolumeId: 3
SourceVolumeName: T_replication_vol_3   SourcePoolName: T_replication_0
SourcePortalIP: 10.128.0.2              DestinationVolumeId: 7
DestinationVolumeName: t2               DestinationPoolName: T_replication_1
DestinationPortalIP: 10.128.0.2         Enable: 1
Period: 0                               TotalCapacity: 4 GB
UsedCapacity: 4 GB
-------------------------------------------------------------------------------
Location: Local                         Role: Destination
Mode: Active-Passive                    SyncMode: Async
Status: Syncing                         Description: Syncing.
Progress: 81.3                          SourceVolumeId: 2
SourceVolumeName: T_replication_vol_2   SourcePoolName: T_replication_0
SourcePortalIP: 10.128.0.2              DestinationVolumeId: 6
DestinationVolumeName: T                DestinationPoolName: T_replication_1
DestinationPortalIP: 10.128.0.2         Enable: 1
Period: 0                               TotalCapacity: 4 GB
UsedCapacity: 4 GB
-------------------------------------------------------------------------------
Location: Local                         Role: Source
Mode: Active-Passive                    SyncMode: Sync
Status: Syncing                         Description: Syncing.
Progress: 89.6                          SourceVolumeId: 5
SourceVolumeName: T_replication_vol_5   SourcePoolName: T_replication_1
SourcePortalIP: 10.128.0.2              DestinationVolumeId: 9
DestinationVolumeName: test_Test_Test_Test_Test_Test_32
DestinationPoolName: T_replication_0    DestinationPortalIP: 10.128.0.2
Enable: 1                               Period: 0
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
-------------------------------------------------------------------------------
Location: Local                         Role: Source
Mode: Active-Passive                    SyncMode: Sync
Status: OK                              Description: Ready.
Progress: 100.0                         SourceVolumeId: 4
SourceVolumeName: T_replication_vol_4   SourcePoolName: T_replication_1
SourcePortalIP: 10.128.0.2              DestinationVolumeId: 8
DestinationVolumeName: test_Test_Test_Test_Test_Test31
DestinationPoolName: T_replication_0    DestinationPortalIP: 10.128.0.2
Enable: 1                               Period: 0
TotalCapacity: 1 GB                     UsedCapacity: 1 GB

administrator@cli> 
'result': 'p'

Expect: specific replication should be stopped

replication -a stop -i 2

administrator@cli> 
volume -v -i 6
-------------------------------------------------------------------------------
Id: 6                                   Name: T
PoolId: 1                               PoolName: T_replication_1
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 4 GB                     UsedCapacity: 4 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-15 17:14:51
PreferCtrlId: 2                         AdvType: 

administrator@cli> 
'result': 'p'

Expect: replication should be paused by source volume

replication -a pause -i 3

administrator@cli> 
replication
===============================================================================
SrcVol         DestVol        Location  TotalCap  UsedCap   Status         
===============================================================================
T_replication_ t2             Local     4 GB      4 GB      Pause              
vol_3                                                                          
T_replication_ test_Test_Test Local     1 GB      1 GB      OK                 
vol_5          _Test_Test_Tes                                                  
               t_32                                                            
T_replication_ test_Test_Test Local     1 GB      1 GB      OK                 
vol_4          _Test_Test_Tes                                                  
               t31                                                             

administrator@cli> 
'result': 'p'

Expect: replication should be resumed

replication -a resume -i 3

administrator@cli> 
replication
===============================================================================
SrcVol         DestVol        Location  TotalCap  UsedCap   Status         
===============================================================================
T_replication_ t2             Local     4 GB      4 GB      Warning            
vol_3                                                                          
T_replication_ test_Test_Test Local     1 GB      1 GB      OK                 
vol_5          _Test_Test_Tes                                                  
               t_32                                                            
T_replication_ test_Test_Test Local     1 GB      1 GB      OK                 
vol_4          _Test_Test_Tes                                                  
               t31                                                             

administrator@cli> 
'result': 'p'

Expect: replication help document should be displayed

replication -h
replication

Usage:
   replication [-a <action>] [-i <ID>] [-p <pool ID>] [-s <settings>]

Summary:
   The replication command allows the user to replicate volume into another
   pool.
   Only with thin-provision disabled volume can be used to replicate. During
   replication in progress, source volume cannot be expanded or removed;
   destination volume disallowed to do any operations.

Options:

-a <action>           Which action to perform.
   list               (Default) Displays the replication status.
   start              Start a specific replication status.
   stop               Stop the replication
   pause              Pause the replication
   resume             Resume a paused replication

-i <ID>               Source volume ID.

-p <pool id>          Destination pool ID.
                      Only valid for -a add specified

-s "<option>=<value>"
                      Used to specify replication settings.
                      Only valid for -a add specified

   name=              Destination volume name

   syncmode=          sync mode method
     async
     semi-sync
     sync             (Default)

-v                    Verbose mode.  Used with -a list.

Examples:
   replication -a list
   replication -a start -i 1 -p 0 -s "name=test, syncmode=async"
   replication -a stop -i 2
   replication -a pause -i i
   replication -a resume -i 1
Type ' | grep "word1,word2,..."' at the end of each command, to display 
filtered info.

administrator@cli> 
'result': 'p'

Expect: Invalid setting parameters

replication test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid setting parameters

replication -a test
Error (0x2013): Invalid setting parameters
-a: invalid setting test (list|start|stop|pause|resume)

administrator@cli> 

Expect: destination pool capacity should be more than soure volume

replication -a start -i 0 -p 3 -s "name=test_capacity"
Error (0x4100104): Incorrect parameters: Destination Pool availiable size is not enough.

administrator@cli> 

Expect: specify nonexistent source volume

replication -a start -i 100 -p 0 -s "name=test_thin"
Error (0x4100102): Empty query result, please check input parameters. Volume id=[100] is not existed.

administrator@cli> 

Expect: specify nonexistent destination pool

replication -a start -i 0 -p 10 -s "name=test_thin"
Error (0x4100102): Empty query result, please check input parameters. Pool id=[10] is not existed.

administrator@cli> 

Expect: thin provision volume cannot become source volume

replication -a start -i 1 -p 0 -s "name=test_thin"
Error (0x4100104): Incorrect parameters: Volume is not full-provision.

administrator@cli> 

Expect: Can not replicate Volume to the same Pool

replication -a start -i 0 -p 2 -s "name=test_thin"
Error (0x4100104): Incorrect parameters: Can not replicate Volume to the same Pool.

administrator@cli> 

Expect: name contain only alphanumeric characters and underscores

replication -a start -i 0 -p 1 -s "name="
Error (0x2013): Invalid setting parameters
name contain only alphanumeric characters and underscores

administrator@cli> 

Expect: name contain only alphanumeric characters and underscores

replication -a start -i 0 -p 1 -s "name=t*&"
Error (0x2013): Invalid setting parameters
name contain only alphanumeric characters and underscores

administrator@cli> 

Expect: should hint error when name shall not exceed 32 characters

replication -a start -i 0 -p 1 -s "name=test_test_test_test_test_test_033"
Error (0x2014): Setting parameters too long
name shall not exceed 32 characters

administrator@cli> 

Expect: should hint error when specify wrong sync mode

replication -a start -i 0 -p 1 -s "name=test,syncmode=test"
Error (0x2013): Invalid setting parameters
syncmode: invalid setting test (async|semi-sync|sync)

administrator@cli> 

Expect: Invalid setting parameters

replication -a stop -i test
Error (0x2013): Invalid setting parameters
-i: invalid setting test

administrator@cli> 

Expect: replication should not stop by destination volume

replication -a stop -i 9

administrator@cli> 

Fail: replication -a stop -i 9


Expect: Volume id=[20] is not existed

replication -a stop -i 20
Error (0x4100102): Empty query result, please check input parameters. Volume id=[20] is not existed.

administrator@cli> 

Expect: Invalid setting parameters

replication -a pause -i test
Error (0x2013): Invalid setting parameters
-i: invalid setting test

administrator@cli> 

Expect: replication should not pause by destination volume

replication -a pause -i 9
Error (0x4100104): Incorrect parameters: Only source Volume can be paused.

administrator@cli> 

Expect: Volume id=[20] is not existed

replication -a pause -i 20
Error (0x4100102): Empty query result, please check input parameters. Volume id=[20] is not existed.

administrator@cli> 

Expect: Invalid setting parameters

replication -a resume -i test
Error (0x2013): Invalid setting parameters
-i: invalid setting test

administrator@cli> 

Expect: should hint replication doesn't pause

replication -a resume -i 4
Error (0x4100104): Incorrect parameters: This replication is not paused.

administrator@cli> 

Expect: Invalid setting parameters

replication -a resume -i 9
Error (0x4100104): Incorrect parameters: Only source Volume can be resumed.

administrator@cli> 

Expect: Volume id=[20] is not existed

replication -a resume -i 20
Error (0x4100102): Empty query result, please check input parameters. Volume id=[20] is not existed.

administrator@cli> 
'result': 'f'

Expect: invalid option: -test

replication -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: invalid option: -test

replication -a -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: invalid option: -test

replication -a start -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: invalid option: test

replication -a start -i 0 -p 1 -s "test=test,syncmode=test"
Error (0x2012): Invalid option for the command or the action
-s: invalid option: test

administrator@cli> 

Expect: invalid option: test

replication -a start -i 0 -p 1 -s "name=test,test=sync"
Error (0x2012): Invalid option for the command or the action
-s: invalid option: test

administrator@cli> 

Expect: invalid option: -test

replication -a stop -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: invalid option: -test

replication -a pause -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: invalid option: -test

replication -a resume -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 
'result': 'p'

Expect: Missing parameter

replication -a
Error (0x403): Missing parameter
-a: missing value

administrator@cli> 

Expect: Missing parameter

replication -a start
Error (0x403): Missing parameter
missing parameter '-s' for '-a start'

administrator@cli> 

Expect: Missing parameter

replication -a start -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 

Expect: Missing parameter

replication -a start -i 1 -p
Error (0x403): Missing parameter
-p: missing value

administrator@cli> 

Expect: Missing parameter

replication -a start -i 0 -p 2 -s
Error (0x403): Missing parameter
-s: missing value

administrator@cli> 

Expect: Missing parameter

replication -a stop
Error (0x403): Missing parameter
missing parameter '-i' for '-a stop'

administrator@cli> 

Expect: Missing parameter

replication -a stop -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 

Expect: Missing parameter

replication -a pause
Error (0x403): Missing parameter
missing parameter '-i' for '-a pause'

administrator@cli> 

Expect: Missing parameter

replication -a pause -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 

Expect: Missing parameter

replication -a resume
Error (0x403): Missing parameter
missing parameter '-i' for '-a resume'

administrator@cli> 

Expect: Missing parameter

replication -a resume -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 
'result': 'p'

Expect: migrate should be started by "syncmode=async"

migrate -a start -t local -i 2 -p 1 -s "syncmode=async"

administrator@cli> 
volume -i 10 -v
-------------------------------------------------------------------------------
Id: 10                                  Name: T_migrate_vol_2_migrate
PoolId: 1                               PoolName: T_migrate_1
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 999.95 MB                UsedCapacity: 999.95 MB
PoolAvailableCapacity: 7.21 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-15 17:17:41
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Async
AdvStatus: Syncing                      AdvProgress: 73.7

administrator@cli> 

Expect: migrate should be started by "syncmode=semi-sync"

migrate -a start -t local -i 3 -p 1 -s "syncmode=semi-sync"

administrator@cli> 
volume -i 11 -v
-------------------------------------------------------------------------------
Id: 11                                  Name: T_migrate_vol_3_migrate
PoolId: 1                               PoolName: T_migrate_1
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 999.95 MB                UsedCapacity: 999.95 MB
PoolAvailableCapacity: 7.21 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-15 17:17:58
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Semi-Sync
AdvStatus: Syncing                      AdvProgress: 64.5

administrator@cli> 

Expect: migrate should be started by "syncmode=sync"

migrate -a start -t local -i 4 -p 0 -s "syncmode=sync"

administrator@cli> 
volume -i 12 -v
-i: specific volume not exists

administrator@cli> 

Fail: please check out Block: 8 KB


Fail: please check out Sector: 512 Bytes


Fail: please check out SyncMode: standard


Fail: please check out Logbias: latency


Fail: please check out Compress: off


Fail: please check out AdvType: Migration


Fail: please check out AdvKind: Local


Fail: please check out AdvRole: Destination


Fail: please check out AdvMode: Active-Passive


Fail: please check out AdvProtocol: Sync


Expect: migrate should be started by default volues

migrate -a start -t local -i 5 -p 0

administrator@cli> 
volume -i 5 -v
-------------------------------------------------------------------------------
Id: 5                                   Name: T_migrate_vol_5
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: 7
ExportedWWN: 22c1000155e21834           OperationalStatus: OK, Synchronizing
TotalCapacity: 10 GB                    UsedCapacity: 10 GB
PoolAvailableCapacity: 7.21 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-15 17:17:35
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Source
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Syncing                      AdvProgress: 5.9

administrator@cli> 

Expect: source volume should be delete

volume -i 2 -v
-------------------------------------------------------------------------------
Id: 2                                   Name: T_migrate_vol_4_migrate
PoolId: 0                               PoolName: T_migrate_0
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 10 GB                    UsedCapacity: 10 GB
PoolAvailableCapacity: 96.22 GB         UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 255.33 MB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-15 17:18:13
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Syncing                      AdvProgress: 21.4

administrator@cli> 
volume -i 2 -v
-------------------------------------------------------------------------------
Id: 2                                   Name: T_migrate_vol_4_migrate
PoolId: 0                               PoolName: T_migrate_0
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 10 GB                    UsedCapacity: 10 GB
PoolAvailableCapacity: 96.22 GB         UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 2.37 GB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-15 17:18:13
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Syncing                      AdvProgress: 29.2

administrator@cli> 

Fail: please check out No volume exists

'result': 'f'

Expect: migrate of remote type should be started by "syncmode=async"

migrate -a start -t remote -i 6 -p 0 -s "syncmode=async,srcip=10.84.2.164,dstip=10.84.2.115,password=password"
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: migrate -a start -t remote -i 6 -p 0 -s "syncmode=async,srcip=10.84.2.164,dstip=10.84.2.115,password=password"


Expect: migrate of remote type should be started by "syncmode=semi-sync"

migrate -a start -t remote -i 7 -p 0 -s "syncmode=semi-sync,srcip=10.84.2.164,dstip=10.84.2.115,password=password"
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: migrate -a start -t remote -i 7 -p 0 -s "syncmode=semi-sync,srcip=10.84.2.164,dstip=10.84.2.115,password=password"


Expect: migrate of remote type should be started by "syncmode=sync"

migrate -a start -t remote -i 8 -p 0 -s "syncmode=sync,srcip=10.84.2.164,dstip=10.84.2.115,password=password"
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: migrate -a start -t remote -i 8 -p 0 -s "syncmode=sync,srcip=10.84.2.164,dstip=10.84.2.115,password=password"


Expect: migrate of remote type should be started by default volues

migrate -a start -t remote -i 9 -p 0 -s "srcip=10.84.2.164,dstip=10.84.2.115,password=password"
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: migrate -a start -t remote -i 9 -p 0 -s "srcip=10.84.2.164,dstip=10.84.2.115,password=password"


Expect: source volume should be delete

volume -i 6 -v
-------------------------------------------------------------------------------
Id: 6                                   Name: T_migrate_vol_6
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: 8
ExportedWWN: 225100015507ca7b           OperationalStatus: OK, Synchronizing
TotalCapacity: 10 GB                    UsedCapacity: 10 GB
PoolAvailableCapacity: 7.23 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-15 17:17:36
PreferCtrlId: 2                         AdvType: 

administrator@cli> 
volume -i 6 -v
-------------------------------------------------------------------------------
Id: 6                                   Name: T_migrate_vol_6
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: 8
ExportedWWN: 225100015507ca7b           OperationalStatus: OK, Synchronizing
TotalCapacity: 10 GB                    UsedCapacity: 10 GB
PoolAvailableCapacity: 7.23 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-15 17:17:36
PreferCtrlId: 2                         AdvType: 

administrator@cli> 

Fail: please check out specific volume not exists

'result': 'f'

 precondition is failed


Expect: target should be added by name 00-11-22-33-44-55-66-77

target -a add -n 00-11-22-33-44-55-66-77
Error (0x49962102): Invalid command

administrator@cli> 

Fail: target -a add -n 00-11-22-33-44-55-66-77


Expect: target should be added by name 09-81-27-36-45-54-88-99

target -a add -n 09-81-27-36-45-54-88-99
Error (0x49962102): Invalid command

administrator@cli> 

Fail: target -a add -n 09-81-27-36-45-54-88-99


Expect: target should be added by name A1-bc-d7-e6-F5-54-88-99

target -a add -n A1-bc-d7-e6-F5-54-88-99
Error (0x49962102): Invalid command

administrator@cli> 

Fail: target -a add -n A1-bc-d7-e6-F5-54-88-99


Expect: target should be added by name aa-bb-cc-dd-ee-ff-aa-bb

target -a add -n aa-bb-cc-dd-ee-ff-aa-bb
Error (0x49962102): Invalid command

administrator@cli> 

Fail: target -a add -n aa-bb-cc-dd-ee-ff-aa-bb


Expect: target should be added by name AB-CD-EF-AA-BB-CC-DD-FF

target -a add -n AB-CD-EF-AA-BB-CC-DD-FF
Error (0x49962102): Invalid command

administrator@cli> 

Fail: target -a add -n AB-CD-EF-AA-BB-CC-DD-FF

'result': 'f'

Expect: all target should be listed

target
Error (0x49962102): Invalid command

administrator@cli> 

Fail: target


Expect: target of index 1 should be listed

target -i 1
Error (0x49962102): Invalid command

administrator@cli> 

Fail: target -i 1

'result': 'f'

Expect: specific target should be deleted

target -a del -i 1
Error (0x49962102): Invalid command

administrator@cli> 

Fail: target -a del -i 1

'result': 'f'

Expect: Invalid setting parameters

target test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid setting parameters

target -a test
Error (0x2013): Invalid setting parameters
-a: invalid setting test (list|add|del)

administrator@cli> 

Expect: Invalid parameter

target -a add -n abc-1-22-33-44-55-66-77
Error (0x402): Invalid parameter
-n: initiator name every byte has to be separated by one - character

administrator@cli> 

Expect: Invalid parameter

target -a add -n 091-81-27-36-45-54-88-99
Error (0x402): Invalid parameter
-n: initiator name should be 8 bytes long

administrator@cli> 

Expect: Invalid parameter

target -a add -n a1-bc-d7-e6-f5-54-88-9
Error (0x402): Invalid parameter
-n: initiator name should be 8 bytes long

administrator@cli> 

Expect: Invalid setting parameters

target -i 65536
Error (0x2013): Invalid setting parameters
-i: invalid setting 65536 (1,65535)

administrator@cli> 

Expect: Invalid setting parameters

target -a del -i test
Error (0x2013): Invalid setting parameters
-i: invalid setting test

administrator@cli> 

Expect: Invalid setting parameters

target -a del -i 200
Error (0x49962102): Invalid command

administrator@cli> 

Fail: please check out specified target not found

'result': 'f'

Expect: Invalid option for the command or the action

target -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

target -a -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

target -a add -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

target -a del -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 
'result': 'p'

Expect: Missing parameter

target -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 

Expect: Missing parameter

target -a
Error (0x403): Missing parameter
-a: missing value

administrator@cli> 

Expect: Missing parameter

target -a add
Error (0x403): Missing parameter
missing parameter '-n' for '-a add'

administrator@cli> 

Expect: Missing parameter

target -a add -n 
Error (0x403): Missing parameter
-n: missing value

administrator@cli> 

Expect: Missing parameter

target -a del
Error (0x403): Missing parameter
missing parameter '-i' for '-a del'

administrator@cli> 

Expect: Missing parameter

target -a del -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 
'result': 'p'

Expect: target should be added by name 00-11-22-33-44-55-66-77

target -a add -n 00-11-22-33-44-55-66-77

administrator@cli> 
target -i 1
-------------------------------------------------------------------------------
Index: 1                                Wwnn: -5-55-55-55-55-55-55-55

administrator@cli> 

Fail: please check out Wwnn: 00-11-22-33-44-55-66-77


Expect: target should be added by name 09-81-27-36-45-54-88-99

target -a add -n 09-81-27-36-45-54-88-99

administrator@cli> 
target -i 2
-------------------------------------------------------------------------------
Index: 2                                Wwnn: -5-e4-32-81-90-aa-b7-76

administrator@cli> 

Fail: please check out Wwnn: 09-81-27-36-45-54-88-99


Expect: target should be added by name A1-bc-d7-e6-F5-54-88-99

target -a add -n A1-bc-d7-e6-F5-54-88-99

administrator@cli> 
target -i 3
-------------------------------------------------------------------------------
Index: 3                                Wwnn: -5-4e-ed-dc-cb-ba-a9-98

administrator@cli> 

Fail: please check out Wwnn: A1-bc-d7-e6-F5-54-88-99


Expect: target should be added by name aa-bb-cc-dd-ee-ff-aa-bb

target -a add -n aa-bb-cc-dd-ee-ff-aa-bb

administrator@cli> 
target -i 4
-------------------------------------------------------------------------------
Index: 4                                Wwnn: -5-e4-32-81-90-aa-b7-76

administrator@cli> 

Fail: please check out Wwnn: aa-bb-cc-dd-ee-ff-aa-bb


Expect: target should be added by name AB-CD-EF-AA-BB-CC-DD-FF

target -a add -n AB-CD-EF-AA-BB-CC-DD-FF

administrator@cli> 
target -i 5
-------------------------------------------------------------------------------
Index: 5                                Wwnn: -5-4e-ed-dc-cb-ba-a9-98

administrator@cli> 

Fail: please check out Wwnn: AB-CD-EF-AA-BB-CC-DD-FF

'result': 'f'

Expect: all target should be listed

target
-------------------------------------------------------------------------------
Index: 1                                Wwnn: 00-11-22-33-44-55-66-77
-------------------------------------------------------------------------------
Index: 2                                Wwnn: 09-81-27-36-45-54-88-99
-------------------------------------------------------------------------------
Index: 3                                Wwnn: -5-55-55-55-55-55-55-55
-------------------------------------------------------------------------------
Index: 4                                Wwnn: -5-e4-32-81-90-aa-b7-76
-------------------------------------------------------------------------------
Index: 5                                Wwnn: -5-4e-ed-dc-cb-ba-a9-98
-------------------------------------------------------------------------------
Index: 6                                Wwnn: -5-d5-d5-d5-d5-d5-d5-d5
-------------------------------------------------------------------------------
Index: 7                                Wwnn: -5-e4-3d-8c-9b-aa-b7-76
-------------------------------------------------------------------------------
Index: 8                                Wwnn: -5-54-43-32-21-10-05-54
-------------------------------------------------------------------------------
Index: 9                                Wwnn: 00-00-ff-fd-00-00-00-00

administrator@cli> 

Expect: target of index 1 should be listed

target -i 1
-------------------------------------------------------------------------------
Index: 1                                Wwnn: 00-11-22-33-44-55-66-77

administrator@cli> 
'result': 'p'

Expect: specific target should be deleted

target -a del -i 1

administrator@cli> 
target
-------------------------------------------------------------------------------
Index: 1                                Wwnn: 09-81-27-36-45-54-88-99
-------------------------------------------------------------------------------
Index: 2                                Wwnn: -5-55-55-55-55-55-55-55
-------------------------------------------------------------------------------
Index: 3                                Wwnn: -5-e4-32-81-90-aa-b7-76
-------------------------------------------------------------------------------
Index: 4                                Wwnn: -5-4e-ed-dc-cb-ba-a9-98
-------------------------------------------------------------------------------
Index: 5                                Wwnn: -5-d5-d5-d5-d5-d5-d5-d5
-------------------------------------------------------------------------------
Index: 6                                Wwnn: -5-e4-3d-8c-9b-aa-b7-76
-------------------------------------------------------------------------------
Index: 7                                Wwnn: -5-54-43-32-21-10-05-54
-------------------------------------------------------------------------------
Index: 8                                Wwnn: -0-00-00-00-5f-fd-49-40

administrator@cli> 
'result': 'p'

Expect: Invalid setting parameters

target test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid setting parameters

target -a test
Error (0x2013): Invalid setting parameters
-a: invalid setting test (list|add|del)

administrator@cli> 

Expect: Invalid parameter

target -a add -n abc-1-22-33-44-55-66-77
Error (0x402): Invalid parameter
-n: initiator name every byte has to be separated by one - character

administrator@cli> 

Expect: Invalid parameter

target -a add -n 091-81-27-36-45-54-88-99
Error (0x402): Invalid parameter
-n: initiator name should be 8 bytes long

administrator@cli> 

Expect: Invalid parameter

target -a add -n a1-bc-d7-e6-f5-54-88-9
Error (0x402): Invalid parameter
-n: initiator name should be 8 bytes long

administrator@cli> 

Expect: Invalid setting parameters

target -i 65536
Error (0x2013): Invalid setting parameters
-i: invalid setting 65536 (1,65535)

administrator@cli> 

Expect: Invalid setting parameters

target -a del -i test
Error (0x2013): Invalid setting parameters
-i: invalid setting test

administrator@cli> 

Expect: Invalid setting parameters

target -a del -i 200
Error (0x2013): Invalid setting parameters
specified target not found

administrator@cli> 
'result': 'p'

Expect: Invalid option for the command or the action

target -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

target -a -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

target -a add -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

target -a del -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 
'result': 'p'

Expect: Missing parameter

target -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 

Expect: Missing parameter

target -a
Error (0x403): Missing parameter
-a: missing value

administrator@cli> 

Expect: Missing parameter

target -a add
Error (0x403): Missing parameter
missing parameter '-n' for '-a add'

administrator@cli> 

Expect: Missing parameter

target -a add -n 
Error (0x403): Missing parameter
-n: missing value

administrator@cli> 

Expect: Missing parameter

target -a del
Error (0x403): Missing parameter
missing parameter '-i' for '-a del'

administrator@cli> 

Expect: Missing parameter

target -a del -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 
'result': 'p'
to clean up environment is failed

to clean up environment is failed

to clean up environment is failed


Expect: permisions of everyone should be 0 on nasshare

acl -a set -d 0 -t nasshare -s "role=everyone,acl=ro"

administrator@cli> 
acl -t nasshare -d 0
===============================================================================
Role              UIDorGID  Name                                    ACL       
===============================================================================
everyone          N/A       N/A                                     ro         
ownergroup        N/A       N/A                                     rw         

administrator@cli> 

Expect: permisions of everyone should be rw on nasshare

acl -a set -d 0 -t nasshare -s "role=everyone,acl=rw"

administrator@cli> 
acl -t nasshare -d 0
===============================================================================
Role              UIDorGID  Name                                    ACL       
===============================================================================
everyone          N/A       N/A                                     rw         
ownergroup        N/A       N/A                                     rw         

administrator@cli> 

Expect: permisions of everyone should be deny only on nasshare

acl -a set -d 0 -t nasshare -s "role=everyone,acl=deny"

administrator@cli> 
acl -t nasshare -d 0
===============================================================================
Role              UIDorGID  Name                                    ACL       
===============================================================================
everyone          N/A       N/A                                     deny       
ownergroup        N/A       N/A                                     rw         

administrator@cli> 

Expect: signle nas user should can set ro permissions on nasshare

acl -a set -d 0 -t nasshare -s "role=user,acl=ro,name=test_acl_0"

administrator@cli> 
acl -t nasshare -d 0
===============================================================================
Role              UIDorGID  Name                                    ACL       
===============================================================================
everyone          N/A       N/A                                     deny       
user              1001      test_acl_0                              ro         
ownergroup        N/A       N/A                                     rw         

administrator@cli> 

Expect: signle nas user should can set rw permissions on nasshare

acl -a set -d 0 -t nasshare -s "role=user,acl=rw,name=test_acl_1"

administrator@cli> 
acl -t nasshare -d 0
===============================================================================
Role              UIDorGID  Name                                    ACL       
===============================================================================
everyone          N/A       N/A                                     deny       
user              1001      test_acl_0                              ro         
user              1002      test_acl_1                              rw         
ownergroup        N/A       N/A                                     rw         

administrator@cli> 

Expect: signle nas user should can set deny permissions on nasshare

acl -a set -d 0 -t nasshare -s "role=user,acl=deny,name=test_acl_2"

administrator@cli> 
acl -t nasshare -d 0
===============================================================================
Role              UIDorGID  Name                                    ACL       
===============================================================================
everyone          N/A       N/A                                     deny       
user              1001      test_acl_0                              ro         
user              1002      test_acl_1                              rw         
user              1003      test_acl_2                              deny       
ownergroup        N/A       N/A                                     rw         

administrator@cli> 

Expect: signle nas group should can set ro permissions on nasshare

acl -a set -d 1 -t nasshare -s "role=group,acl=ro,name=test_acl_group_0"

administrator@cli> 
acl -t nasshare -d 1
===============================================================================
Role              UIDorGID  Name                                    ACL       
===============================================================================
everyone          N/A       N/A                                     rw         
group             1001      test_acl_group_0                        ro         
ownergroup        N/A       N/A                                     rw         

administrator@cli> 

Expect: signle nas group should can set rw permissions on nasshare

acl -a set -d 1 -t nasshare -s "role=group,acl=rw,name=test_acl_group_1"

administrator@cli> 
acl -t nasshare -d 1
===============================================================================
Role              UIDorGID  Name                                    ACL       
===============================================================================
everyone          N/A       N/A                                     rw         
group             1001      test_acl_group_0                        ro         
group             1002      test_acl_group_1                        rw         
ownergroup        N/A       N/A                                     rw         

administrator@cli> 

Expect: signle nas group should can set deny permissions on nasshare

acl -a set -d 1 -t nasshare -s "role=group,acl=deny,name=test_acl_group_2"

administrator@cli> 
acl -t nasshare -d 1
===============================================================================
Role              UIDorGID  Name                                    ACL       
===============================================================================
everyone          N/A       N/A                                     rw         
group             1001      test_acl_group_0                        ro         
group             1002      test_acl_group_1                        rw         
group             1003      test_acl_group_2                        deny       
ownergroup        N/A       N/A                                     rw         

administrator@cli> 
'result': 'p'

Expect: list acl settings on nasshare 0

acl -t nasshare -d 0
===============================================================================
Role              UIDorGID  Name                                    ACL       
===============================================================================
everyone          N/A       N/A                                     deny       
user              1001      test_acl_0                              ro         
user              1002      test_acl_1                              rw         
user              1003      test_acl_2                              deny       
ownergroup        N/A       N/A                                     rw         

administrator@cli> 

Expect: list acl settings on nasshare 1

acl -t nasshare -d 1
===============================================================================
Role              UIDorGID  Name                                    ACL       
===============================================================================
everyone          N/A       N/A                                     rw         
group             1001      test_acl_group_0                        ro         
group             1002      test_acl_group_1                        rw         
group             1003      test_acl_group_2                        deny       
ownergroup        N/A       N/A                                     rw         

administrator@cli> 
'result': 'p'

Expect: list acl settings of specific nasshare type by verbose mode

acl -v -t nasshare -d 0
-------------------------------------------------------------------------------
Role: everyone                          UIDorGID: N/A
ACL: deny                               Status: Ready
UsernameOrGroupname: N/A
-------------------------------------------------------------------------------
Role: user                              UIDorGID: 1001
ACL: ro                                 Status: Ready
UsernameOrGroupname: test_acl_0
-------------------------------------------------------------------------------
Role: user                              UIDorGID: 1002
ACL: rw                                 Status: Ready
UsernameOrGroupname: test_acl_1
-------------------------------------------------------------------------------
Role: user                              UIDorGID: 1003
ACL: deny                               Status: Ready
UsernameOrGroupname: test_acl_2
-------------------------------------------------------------------------------
Role: ownergroup                        UIDorGID: N/A
ACL: rw                                 Status: Ready
UsernameOrGroupname: N/A

administrator@cli> 
'result': 'p'

Expect: refresh acl of nasshare type

acl -a refresh -d 0 -t nasshare

administrator@cli> 
'result': 'p'

Expect: signle nas user should can set unset permissions on nasshare

acl -a set -d 0 -t nasshare -s "role=user,acl=unset,name=test_acl_2"

administrator@cli> 
acl -t nasshare -d 0
===============================================================================
Role              UIDorGID  Name                                    ACL       
===============================================================================
everyone          N/A       N/A                                     deny       
user              1001      test_acl_0                              ro         
user              1002      test_acl_1                              rw         
ownergroup        N/A       N/A                                     rw         

administrator@cli> 

Expect: signle nas group should can set unset permissions on nasshare

acl -a set -d 1 -t nasshare -s "role=group,acl=unset,name=test_acl_group_2"

administrator@cli> 
acl -t nasshare -d 1
===============================================================================
Role              UIDorGID  Name                                    ACL       
===============================================================================
everyone          N/A       N/A                                     rw         
group             1001      test_acl_group_0                        ro         
group             1002      test_acl_group_1                        rw         
ownergroup        N/A       N/A                                     rw         

administrator@cli> 

Expect: permisions of everyone should be unset only on nasshare

acl -a set -d 0 -t nasshare -s "role=everyone,acl=unset"

administrator@cli> 
acl -t nasshare -d 0
===============================================================================
Role              UIDorGID  Name                                    ACL       
===============================================================================
everyone          N/A       N/A                                     deny       
user              1001      test_acl_0                              ro         
user              1002      test_acl_1                              rw         
ownergroup        N/A       N/A                                     rw         

administrator@cli> 
'result': 'p'

Expect: all acl settings are cleared on specific nasshare

acl -a clear -t nasshare -d 0

administrator@cli> 
acl -t nasshare -d 0
===============================================================================
Role              UIDorGID  Name                                    ACL       
===============================================================================
everyone          N/A       N/A                                     rw         
ownergroup        N/A       N/A                                     rw         

administrator@cli> 
'result': 'p'

Expect: add nasshare acl is deny for everyone

acl -a set -d 0 -t nasshare -s "role=everyone,acl=deny"

administrator@cli> 

Expect: to add action is canceled on nasshare

acl -a cancel -t nasshare -d 0
Error (0x4100104): Incorrect parameters: There is running task now.

administrator@cli> 

Fail: acl -a cancel -t nasshare -d 0

'result': 'f'

Expect: Invalid setting parameters

acl test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid setting parameters

acl -d test
Error (0x2013): Invalid setting parameters
-d: invalid setting test

administrator@cli> 

Expect: Invalid setting parameters

acl -d 0 -t test
Error (0x2013): Invalid setting parameters
-t: invalid setting test (nasshare)

administrator@cli> 

Expect: Invalid setting parameters

acl -a test
Error (0x2013): Invalid setting parameters
-a: invalid setting test (list|clear|set|cancel|refresh)

administrator@cli> 

Expect: id=[100] is not existed

acl -a set -d 100 -t nasshare -s "role=user,name=admin,acl=rw"
Error (0x4100102): Empty query result, please check input parameters. NAS Share id=[100] is not existed.

administrator@cli> 

Expect: id=[100] is not existed

acl -a set -d 100 -t nasshare -s "role=group,name=users,acl=rw"
Error (0x4100102): Empty query result, please check input parameters. NAS Share id=[100] is not existed.

administrator@cli> 

Expect: Invalid setting parameters

acl -a set -d 0 -t test -s "role=user,name=admin,acl=rw"
Error (0x2013): Invalid setting parameters
-t: invalid setting test (nasshare)

administrator@cli> 

Expect: Invalid setting parameters

acl -a set -d 0 -t nasshare -s "role=test,name=admin,acl=rw"
Error (0x2013): Invalid setting parameters
role: invalid setting test (everyone|user|group|ownergroup)

administrator@cli> 

Expect: NAS user [test] doesn't exist

acl -a set -d 0 -t nasshare -s "role=user,name=test,acl=rw"
Error (0x4100104): Incorrect parameters: NAS user [test] doesn't exist.

administrator@cli> 

Expect: NAS group [test] doesn't exist

acl -a set -d 0 -t nasshare -s "role=group,name=test,acl=rw"
Error (0x4100104): Incorrect parameters: NAS group [test] doesn't exist.

administrator@cli> 

Expect: Invalid setting parameters

acl -a set -d 0 -t nasshare -s "role=user,name=test_acl_0,acl=test"
Error (0x2013): Invalid setting parameters
acl: invalid setting test (unset|deny|ro|rw)

administrator@cli> 

Expect: Invalid setting parameters

acl -a set -d 0 -t nasshare -s "role=group,name=users,acl=test"
Error (0x2013): Invalid setting parameters
acl: invalid setting test (unset|deny|ro|rw)

administrator@cli> 

Expect: Invalid setting parameters

acl -a refresh test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid setting parameters

acl -a refresh -t test
Error (0x2013): Invalid setting parameters
-t: invalid setting test (nasshare)

administrator@cli> 

Expect: Invalid setting parameters

acl -a mod -d 0 -t nasshare -s ""
Error (0x2013): Invalid setting parameters
-a: invalid setting mod (list|clear|set|cancel|refresh)

administrator@cli> 

Expect: Invalid setting parameters

acl -a mod -d 0 -t clone -s ""
Error (0x2013): Invalid setting parameters
-a: invalid setting mod (list|clear|set|cancel|refresh)

administrator@cli> 

Expect: Invalid setting parameters

acl -a clear -d test
Error (0x2013): Invalid setting parameters
-d: invalid setting test

administrator@cli> 

Expect: Invalid setting parameters

acl -a cancel -d test
Error (0x2013): Invalid setting parameters
-d: invalid setting test

administrator@cli> 
'result': 'p'

Expect: Invalid option for the command or the action

acl -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

acl -d 0 -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

acl -a set -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

acl -a set -d 0 -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

acl -a set -d 0 -nasshare -s "test=user,user=adimin,acl=rw"
Error (0x2012): Invalid option for the command or the action
invalid option: -nasshare

administrator@cli> 

Expect: Invalid option for the command or the action

acl -a set -d 0 -nasshare -s "role=user,test=adimin,acl=rw"
Error (0x2012): Invalid option for the command or the action
invalid option: -nasshare

administrator@cli> 

Expect: Invalid option for the command or the action

acl -a refresh -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

acl -a clear -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

acl -a clear -t nasshare -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

acl -a cancel -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 
'result': 'p'

Expect: Missing parameter

acl -d
Error (0x403): Missing parameter
-d: missing value

administrator@cli> 

Expect: Missing parameter

acl -d 0 -t
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Expect: Missing parameter

acl -a
Error (0x403): Missing parameter
-a: missing value

administrator@cli> 

Expect: Missing parameter

acl -a set -d
Error (0x403): Missing parameter
-d: missing value

administrator@cli> 

Expect: Missing parameter

acl -a set -d 0 
Error (0x403): Missing parameter
missing parameter '-s' for '-a set'

administrator@cli> 

Expect: Missing parameter

acl -a set -d 0 -t 
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Expect: Missing parameter

acl -a set -d 0 -t nasshare 
Error (0x403): Missing parameter
missing parameter '-s' for '-a set'

administrator@cli> 

Expect: Missing parameter

acl -a set -d 0 -t nasshare -s
Error (0x403): Missing parameter
-s: missing value

administrator@cli> 

Expect: Missing parameter

acl -a refresh
Error (0x403): Missing parameter
missing parameter '-d' for '-a refresh'

administrator@cli> 

Expect: Missing parameter

acl -a refresh -d
Error (0x403): Missing parameter
-d: missing value

administrator@cli> 

Expect: Missing parameter

acl -a refresh -d 0 -t
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Expect: Missing parameter

acl -a cancel
Error (0x403): Missing parameter
missing parameter '-d' for '-a cancel'

administrator@cli> 

Expect: Missing parameter

acl -a cancel -d
Error (0x403): Missing parameter
-d: missing value

administrator@cli> 

Expect: Missing parameter

acl -a clear -d
Error (0x403): Missing parameter
-d: missing value

administrator@cli> 

Expect: Missing parameter

acl -a clear
Error (0x403): Missing parameter
missing parameter '-d' for '-a clear'

administrator@cli> 
'result': 'p'

Expect: allowip should be set by "ip=1.0.0.0, permission=ro, squash=root"

allowip -a add -t nasshare -d 0 -s "ip=1.0.0.0, permission=ro, squash=root"

administrator@cli> 
allowip -t nasshare -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         1.0.0.0                                 ro          root_squash      

administrator@cli> 

Expect: allowip should be set by "ip=126.255.255.254, permission=rw, squash=all"

allowip -a add -t nasshare -d 0 -s "ip=126.255.255.254, permission=rw, squash=all"

administrator@cli> 
allowip -t nasshare -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         1.0.0.0                                 ro          root_squash      
1         126.255.255.254                         rw          all_squash       

administrator@cli> 

Expect: allowip should be set by "ip=128.0.0.0, permission=ro, squash=root"

allowip -a add -t snapshot -d 0 -s "ip=128.0.0.0, permission=ro, squash=root"

administrator@cli> 
allowip -t snapshot -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         128.0.0.0                               ro          root_squash      

administrator@cli> 

Expect: allowip should be set by "ip=191.255.255.254, permission=rw, squash=noroot"

allowip -a add -t snapshot -d 0 -s "ip=191.255.255.254, permission=ro, squash=noroot"

administrator@cli> 
allowip -t snapshot -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         128.0.0.0                               ro          root_squash      
1         191.255.255.254                         ro          no_root_squash   

administrator@cli> 

Expect: allowip should be set by "ip=192.0.0.0, permission=ro, squash=all"

allowip -a add -t clone -d 0 -s "ip=192.0.0.0, permission=ro, squash=all"

administrator@cli> 
allowip -t clone -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         192.0.0.0                               ro          all_squash       

administrator@cli> 

Expect: allowip should be set by "ip=223.255.255.254, permission=rw, squash=root"

allowip -a add -t clone -d 0 -s "ip=223.255.255.254, permission=rw, squash=root"

administrator@cli> 
allowip -t clone -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         192.0.0.0                               ro          all_squash       
1         223.255.255.254                         rw          root_squash      

administrator@cli> 
'result': 'p'

Expect: list allowip settings on nasshare 0

allowip -t nasshare -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         1.0.0.0                                 ro          root_squash      
1         126.255.255.254                         rw          all_squash       

administrator@cli> 

Expect: list allowip settings on snapshot 0

allowip -t snapshot -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         128.0.0.0                               ro          root_squash      
1         191.255.255.254                         ro          no_root_squash   

administrator@cli> 

Expect: list allowip settings of clone 0

allowip -t clone -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         192.0.0.0                               ro          all_squash       
1         223.255.255.254                         rw          root_squash      

administrator@cli> 

Expect: list allowip settings on nasshare 0

allowip
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         1.0.0.0                                 ro          root_squash      
1         126.255.255.254                         rw          all_squash       

administrator@cli> 
'result': 'p'

Expect: list allowip settings on nasshare 1 by verbose moed

allowip -v -t nasshare -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         1.0.0.0                                 ro          root_squash      
1         126.255.255.254                         rw          all_squash       

administrator@cli> 

Expect: list allowip settings on snapshot 1 by verbose moed

allowip -v -t snapshot -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         128.0.0.0                               ro          root_squash      
1         191.255.255.254                         ro          no_root_squash   

administrator@cli> 

Expect: list allowip settings of clone 1 by verbose moed

allowip -v -t clone -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         192.0.0.0                               ro          all_squash       
1         223.255.255.254                         rw          root_squash      

administrator@cli> 
'result': 'p'

Expect: allowip of nasshare type should be modified by "ip=10.84.2.1, permission=rw, squash=root"

allowip -a mod -t nasshare -d 0 -i 0 -s "ip=10.84.2.1, permission=rw, squash=root"

administrator@cli> 
allowip -t nasshare -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         10.84.2.1                               rw          root_squash      
1         126.255.255.254                         rw          all_squash       

administrator@cli> 

Expect: allowip of nasshare type should be modified by "ip=10.84.2.2, permission=ro, squash=all"

allowip -a mod -t nasshare -d 0 -i 0 -s "ip=10.84.2.2, permission=ro, squash=all"

administrator@cli> 
allowip -t nasshare -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         10.84.2.2                               ro          all_squash       
1         126.255.255.254                         rw          all_squash       

administrator@cli> 

Expect: allowip of nasshare type should be modified by "ip=10.84.2.3, permission=rw, squash=noroot"

allowip -a mod -t nasshare -d 0 -i 0 -s "ip=10.84.2.3, permission=rw, squash=noroot"

administrator@cli> 
allowip -t nasshare -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         10.84.2.3                               rw          no_root_squash   
1         126.255.255.254                         rw          all_squash       

administrator@cli> 

Expect: allowip of snapshot type should be modified by "ip=10.84.2.1, permission=rw, squash=root"

allowip -a mod -t snapshot -d 0 -i 0 -s "ip=10.84.2.1, permission=ro, squash=root"

administrator@cli> 
allowip -t snapshot -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         10.84.2.1                               ro          root_squash      
1         191.255.255.254                         ro          no_root_squash   

administrator@cli> 

Expect: allowip of snapshot type should be modified by "ip=10.84.2.2, permission=ro, squash=all"

allowip -a mod -t snapshot -d 0 -i 0 -s "ip=10.84.2.2, permission=ro, squash=all"

administrator@cli> 
allowip -t snapshot -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         10.84.2.2                               ro          all_squash       
1         191.255.255.254                         ro          no_root_squash   

administrator@cli> 

Expect: allowip of snapshot type should be modified by "ip=10.84.2.3, permission=rw, squash=noroot"

allowip -a mod -t snapshot -d 0 -i 0 -s "ip=10.84.2.3, permission=ro, squash=noroot"

administrator@cli> 
allowip -t snapshot -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         10.84.2.3                               ro          no_root_squash   
1         191.255.255.254                         ro          no_root_squash   

administrator@cli> 

Expect: allowip of clone type should be modified by "ip=10.84.2.1, permission=rw, squash=root"

allowip -a mod -t clone -d 0 -i 0 -s "ip=10.84.2.1, permission=rw, squash=root"

administrator@cli> 
allowip -t clone -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         10.84.2.1                               rw          root_squash      
1         223.255.255.254                         rw          root_squash      

administrator@cli> 

Expect: allowip of clone type should be modified by "ip=10.84.2.2, permission=ro, squash=all"

allowip -a mod -t clone -d 0 -i 0 -s "ip=10.84.2.2, permission=ro, squash=all"

administrator@cli> 
allowip -t clone -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         10.84.2.2                               ro          all_squash       
1         223.255.255.254                         rw          root_squash      

administrator@cli> 

Expect: allowip of clone type should be modified by "ip=10.84.2.3, permission=rw, squash=noroot"

allowip -a mod -t clone -d 0 -i 0 -s "ip=10.84.2.3, permission=rw, squash=noroot"

administrator@cli> 
allowip -t clone -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         10.84.2.3                               rw          no_root_squash   
1         223.255.255.254                         rw          root_squash      

administrator@cli> 
'result': 'p'

Expect: index 0 of allowip should be deleted on nasshare 0

allowip -a del -t nasshare -d 0 -i 0

administrator@cli> 
allowip -t nasshare -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         126.255.255.254                         rw          all_squash       

administrator@cli> 

Expect: index 0 of allowip should be deleted on snapshot 0

allowip -a del -t snapshot -d 0 -i 0

administrator@cli> 
allowip -t snapshot -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         191.255.255.254                         ro          no_root_squash   

administrator@cli> 

Expect: index 0 of allowip should be deleted on clone 0

allowip -a del -t clone -d 0 -i 0

administrator@cli> 
allowip -t clone -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         223.255.255.254                         rw          root_squash      

administrator@cli> 
'result': 'p'

Expect: Invalid setting parameters

allowip test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid setting parameters

allowip -a test
Error (0x2013): Invalid setting parameters
-a: invalid setting test (list|add|mod|del|clear)

administrator@cli> 

Expect: Invalid setting parameters

allowip -a add -t test
Error (0x2013): Invalid setting parameters
-t: invalid setting test (nasshare|snapshot|clone)

administrator@cli> 

Expect: Invalid setting parameters

allowip -a add -t nasshare -d test
Error (0x2013): Invalid setting parameters
-d: invalid setting test

administrator@cli> 

Expect: Invalid setting parameters

allowip -a add -t nasshare -d 0 -s test
Error (0x2013): Invalid setting parameters
invalid option: ['test']

administrator@cli> 

Expect: Invalid setting parameters

allowip -a add -t nasshare -d 0 -s ""
Error (0x2013): Invalid setting parameters
invalid comma: ','

administrator@cli> 

Expect: Invalid setting parameters

allowip -a add -t nasshare -d 0 -s "ip=test,permission=ro,squash=root"
Error (0x2013): Invalid setting parameters
invalid allow_ip: test

administrator@cli> 

Expect: Invalid setting parameters

allowip -a add -t nasshare -d 0 -s "ip=256.255.255.255,permission=ro,squash=root"
Error (0x2013): Invalid setting parameters
invalid allow_ip: 256.255.255.255

administrator@cli> 

Expect: Invalid setting parameters

allowip -a add -t nasshare -d 0 -s "ip=255.256.255.255,permission=ro,squash=root"
Error (0x2013): Invalid setting parameters
invalid allow_ip: 255.256.255.255

administrator@cli> 

Expect: Invalid setting parameters

allowip -a add -t nasshare -d 0 -s "ip=255.255.256.255,permission=ro,squash=root"
Error (0x2013): Invalid setting parameters
invalid allow_ip: 255.255.256.255

administrator@cli> 

Expect: Invalid setting parameters

allowip -a add -t nasshare -d 0 -s "ip=255.255.255.256,permission=ro,squash=root"
Error (0x2013): Invalid setting parameters
invalid allow_ip: 255.255.255.256

administrator@cli> 

Expect: Invalid setting parameters

allowip -a add -t nasshare -d 0 -s "ip=255.255.255.255,permission=test,squash=root"
Error (0x2013): Invalid setting parameters
permission: invalid setting test (ro|rw)

administrator@cli> 

Expect: Invalid setting parameters

allowip -a add -t nasshare -d 0 -s "ip=255.255.255.255,permission=ro,squash=test"
Error (0x2013): Invalid setting parameters
squash: invalid setting test (all|root|noroot)

administrator@cli> 

Expect: Invalid setting parameters

allowip -a mod test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid setting parameters

allowip -a mod -t nasshare -d test
Error (0x2013): Invalid setting parameters
-d: invalid setting test

administrator@cli> 

Expect: Invalid setting parameters

allowip -a mod -t nasshare -d 0 -s ""
Error (0x2013): Invalid setting parameters
invalid comma: ','

administrator@cli> 

Expect: Invalid setting parameters

allowip -a mod -t snapshot -d 2 -i 0 -s "ip=10.84.2.1, permission=ro, squash=root"
Error (0x2013): Invalid setting parameters
invalid index settings

administrator@cli> 

Expect: Invalid setting parameters

allowip -a mod -t nasshare -d 0 -s "ip=256.255.255.255,permission=ro,squash=root" -i 0
Error (0x2013): Invalid setting parameters
invalid allow_ip: 256.255.255.255

administrator@cli> 

Expect: Invalid setting parameters

allowip -a del test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid setting parameters

allowip -a del -t test
Error (0x2013): Invalid setting parameters
-t: invalid setting test (nasshare|snapshot|clone)

administrator@cli> 

Expect: NAS Share id=[100] is not existed

allowip -a del -t nasshare -d 100 -i 0
Error (0x4100102): Empty query result, please check input parameters. NAS Share id=[100] is not existed.

administrator@cli> 

Expect: Invalid setting parameters

allowip -a del -t nasshare -d 0 -i 100
Error (0x2013): Invalid setting parameters
invalid index settings

administrator@cli> 
'result': 'p'

Expect: Invalid option for the command or the action

allowip -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

allowip -a add -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

allowip -a add -t nasshare -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

allowip -a add -t nasshare -d 0 -s "test=255.255.255.255,permission=ro,squash=root"
Error (0x2012): Invalid option for the command or the action
-s: invalid option: test

administrator@cli> 

Expect: Invalid option for the command or the action

allowip -a add -t nasshare -d 0 -s "ip=255.255.255.255,test=ro,squash=root"
Error (0x2012): Invalid option for the command or the action
-s: invalid option: test

administrator@cli> 

Expect: Invalid option for the command or the action

allowip -a add -t nasshare -d 0 -s "ip=255.255.255.255,permission=ro,test=root"
Error (0x2012): Invalid option for the command or the action
-s: invalid option: test

administrator@cli> 

Expect: Invalid option for the command or the action

allowip -a mod -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

allowip -a mod -t nasshare -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

allowip -a mod -t nasshare -d 0 -s "test=255.255.255.255,permission=ro,squash=root" -i 0
Error (0x2012): Invalid option for the command or the action
-s: invalid option: test

administrator@cli> 

Expect: Invalid option for the command or the action

allowip -a del -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 
'result': 'p'

Expect: Missing parameter

allowip -t
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Expect: Missing parameter

allowip -a
Error (0x403): Missing parameter
-a: missing value

administrator@cli> 

Expect: Missing parameter

allowip -a add -t
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Expect: Missing parameter

allowip -a add -t nasshare -d 
Error (0x403): Missing parameter
-d: missing value

administrator@cli> 

Expect: Missing parameter

allowip -a add -t nasshare -d 0 -s 
Error (0x403): Missing parameter
-s: missing value

administrator@cli> 

Expect: Missing parameter

allowip -a add -t nasshare -d 0 -s "permission=ro,squash=root"
Error (0x403): Missing parameter
missing parameter 'ip' for '-a add'

administrator@cli> 

Expect: Missing parameter

allowip -a add -t nasshare -d 0 -s "ip=0.0.0.0,permission=ro"
Error (0x403): Missing parameter
missing parameter 'squash' for '-a add'

administrator@cli> 

Expect: Missing parameter

allowip -a add -t nasshare -d 0 -s "ip=255.255.255.255,squash=root"
Error (0x403): Missing parameter
missing parameter 'permission' for '-a add'

administrator@cli> 

Expect: Missing parameter

allowip -a mod
Error (0x403): Missing parameter
missing parameter '-t' for '-a mod'

administrator@cli> 

Expect: Missing parameter

allowip -a mod -t nasshare -d
Error (0x403): Missing parameter
-d: missing value

administrator@cli> 

Expect: Missing parameter

allowip -a mod -t nasshare -d 0 -s
Error (0x403): Missing parameter
-s: missing value

administrator@cli> 

Expect: Missing parameter

allowip -a del
Error (0x403): Missing parameter
missing parameter '-t' for '-a del'

administrator@cli> 

Expect: Missing parameter

allowip -a del -t
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Expect: Missing parameter

allowip -a del -t nasshare -d
Error (0x403): Missing parameter
-d: missing value

administrator@cli> 

Expect: Missing parameter

allowip -a del -t nasshare -d 0 -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 
'result': 'p'

Expect: specific nas user should have 1GB of storage limit in nasshare

quota -a set -d 0 -t nasshare -s "role=user,limit=1GB,name=test_quota_0"

administrator@cli> 
quota -v -d 0
-------------------------------------------------------------------------------
Name: test_quota_0                      AccountType: User
Uid: 1001                               Limit: 1 GB
Used: 0 Byte                            Status: Ready

administrator@cli> 

Expect: specific nas user should have 2GB of storage limit in nasshare

quota -a set -d 0 -t nasshare -s "role=user,limit=2GB,name=test_quota_0"

administrator@cli> 
quota -v -d 0
-------------------------------------------------------------------------------
Name: test_quota_0                      AccountType: User
Uid: 1001                               Limit: 2 GB
Used: 0 Byte                            Status: Ready

administrator@cli> 

Expect: specific nas user should have 3GB of storage limit in nasshare

quota -a set -d 0 -t nasshare -s "role=user,limit=3GB,name=test_quota_1"
Error (0x4100104): Incorrect parameters: Input size is over NAS share's capacity range.

administrator@cli> 

Fail: quota -a set -d 0 -t nasshare -s "role=user,limit=3GB,name=test_quota_1"


Expect: specific nas user should have 998GB of storage limit in nasshare

quota -a set -d 1 -t nasshare -s "role=group,limit=998GB,name=test_quota_group_0"
Error (0x4100104): Incorrect parameters: Input size is over NAS share's capacity range.

administrator@cli> 

Fail: quota -a set -d 1 -t nasshare -s "role=group,limit=998GB,name=test_quota_group_0"


Expect: specific nas user should have 999GB of storage limit in nasshare

quota -a set -d 1 -t nasshare -s "role=group,limit=999GB,name=test_quota_group_0"
Error (0x4100104): Incorrect parameters: Input size is over NAS share's capacity range.

administrator@cli> 

Fail: quota -a set -d 1 -t nasshare -s "role=group,limit=999GB,name=test_quota_group_0"


Expect: specific nas user should have 1000GB of storage limit in nasshare

quota -a set -d 1 -t nasshare -s "role=group,limit=1000GB,name=test_quota_group_1"
Error (0x4100104): Incorrect parameters: Input size is over NAS share's capacity range.

administrator@cli> 

Fail: quota -a set -d 1 -t nasshare -s "role=group,limit=1000GB,name=test_quota_group_1"

'result': 'f'

Expect: list all of quota on nasshare 0

quota
===============================================================================
Name                    Limit           Used             AccountType           
===============================================================================
test_quota_0            2 GB            0 Byte           User                  

administrator@cli> 

Expect: list all of quota on nasshare 0

quota -d 0 -t nasshare
===============================================================================
Name                    Limit           Used             AccountType           
===============================================================================
test_quota_0            2 GB            0 Byte           User                  

administrator@cli> 

Expect: list all of quota on nasshare 1

quota -d 1
No quota found on nasshare 1

administrator@cli> 

Fail: please check out test_quota_group_0


Fail: please check out test_quota_group_1

'result': 'f'

Expect: list all of quota by verbose mode

quota -v
-------------------------------------------------------------------------------
Name: test_quota_0                      AccountType: User
Uid: 1001                               Limit: 2 GB
Used: 0 Byte                            Status: Ready

administrator@cli> 

Expect: list quota of nasshare type by verbose mode

quota -v -d 0 -t nasshare
-------------------------------------------------------------------------------
Name: test_quota_0                      AccountType: User
Uid: 1001                               Limit: 2 GB
Used: 0 Byte                            Status: Ready

administrator@cli> 
'result': 'p'

Expect: refresh quota of nasshare type

quota -a refresh -d 0 -t nasshare

administrator@cli> 
'result': 'p'

Expect: precondition: add quota

quota -a set -d 0 -t nasshare -s "role=user,limit=1GB,name=test_quota_6"

administrator@cli> 

Expect: to add quota should be canceled

quota -a cancel -d 0 -t nasshare
Error (0x4100104): Incorrect parameters: There is running task now.

administrator@cli> 

Fail: quota -a cancel -d 0 -t nasshare


Expect: user test_quota_6 is not in quota list

quota -t nasshare -d 0
===============================================================================
Name                    Limit           Used             AccountType           
===============================================================================
test_quota_0            2 GB            0 Byte           User                  
test_quota_6            1 GB            0 Byte           User                  

administrator@cli> 
'result': 'f'

Expect: quota of user for test_quota_0 should be deleted

quota -a set -d 0 -t nasshare -s "role=user,name=test_quota_0,limit=0"

administrator@cli> 
quota -t nasshare -d 0
===============================================================================
Name                    Limit           Used             AccountType           
===============================================================================
test_quota_6            1 GB            0 Byte           User                  

administrator@cli> 
'result': 'p'

Expect: Invalid setting parameters

quota test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid setting parameters

quota -d test
Error (0x2013): Invalid setting parameters
-d: invalid setting test

administrator@cli> 

Expect: Invalid setting parameters

quota -d 100 -t test
Error (0x2013): Invalid setting parameters
-t: invalid setting test (nasshare)

administrator@cli> 

Expect: Invalid setting parameters

quota -a test
Error (0x2013): Invalid setting parameters
-a: invalid setting test (list|set|refresh)

administrator@cli> 

Expect: Invalid setting parameters

quota -a set -d 0 -t test -s "role=user,name=admin,limit=1GB"
Error (0x2013): Invalid setting parameters
-t: invalid setting test (nasshare)

administrator@cli> 

Expect: NAS Share id=[100] is not existed

quota -a set -d 100 -t nasshare -s "role=user,name=test_quota_0,limit=1GB"
Error (0x4100102): Empty query result, please check input parameters. NAS Share id=[100] is not existed.

administrator@cli> 

Expect: Invalid setting parameters

quota -a set -d 0 -t nasshare -s "role=test,name=test_quota_0,limit=1GB"
Error (0x2013): Invalid setting parameters
role: invalid setting test (user)

administrator@cli> 

Expect: NAS user [test] doesn't exist

quota -a set -d 0 -t nasshare -s "role=user,name=test,limit=1GB"
Error (0x4100104): Incorrect parameters: NAS user [test] doesn't exist.

administrator@cli> 

Expect: Invalid setting parameters

quota -a set -d 0 -t nasshare -s "role=user,name=test_quota_0,limit=test"
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: out of space

quota -a set -d 0 -t nasshare -s "role=user,name=test_quota_0,limit=100TB"
Error (0x4100104): Incorrect parameters: Input size is over NAS share's capacity range.

administrator@cli> 

Fail: please check out out of space


Expect: Invalid setting parameters

quota -a refresh test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid setting parameters

quota -a refresh -t test
Error (0x2013): Invalid setting parameters
-t: invalid setting test (nasshare)

administrator@cli> 

Expect: Invalid setting parameters

quota -a set -d 0 -t nasshare -s ""
Error (0x2013): Invalid setting parameters
invalid comma: ','

administrator@cli> 

Expect: Can't do quota on user admin

quota -a set -d 0 -t nasshare -s "role=user,limit=1GB,name=admin"
Error (0x402): Invalid parameter
Can't do quota on user admin.

administrator@cli> 

Expect: Can't set quota to default group [users]

quota -a set -d 0 -t nasshare -s "role=group,name=users,limit=1GB"
Error (0x4100104): Incorrect parameters: Can't set quota to default group [users].

administrator@cli> 
'result': 'f'

Expect: Invalid option for the command or the action

quota -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

quota -d 0 -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

quota -a set -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

quota -a set -d 0 -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

quota -a set -d 0 -test -s "role=user,name=test_quota_0,limit=1GB"
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

quota -a set -d 0 -t nasshare -s "test=user,name=test_quota_0,limit=1GB"
Error (0x2012): Invalid option for the command or the action
-s: invalid option: test

administrator@cli> 

Expect: Invalid option for the command or the action

quota -a set -d 0 -t nasshare -s "role=user,test=test_quota_0,limit=1GB"
Error (0x2012): Invalid option for the command or the action
-s: invalid option: test

administrator@cli> 

Expect: Invalid option for the command or the action

quota -a set -d 0 -t nasshare -s "role=user,name=test_quota_0,test=1GB"
Error (0x2012): Invalid option for the command or the action
-s: invalid option: test

administrator@cli> 

Expect: Invalid option for the command or the action

quota -a refresh -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 
'result': 'p'

Expect: Missing parameter

quota -d
Error (0x403): Missing parameter
-d: missing value

administrator@cli> 

Expect: Missing parameter

quota -d 0 -t
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Expect: Missing parameter

quota -a
Error (0x403): Missing parameter
-a: missing value

administrator@cli> 

Expect: Missing parameter

quota -a set -d
Error (0x403): Missing parameter
-d: missing value

administrator@cli> 

Expect: Missing parameter

quota -a set -d 0 
Error (0x403): Missing parameter
missing parameter '-t' for '-a set'

administrator@cli> 

Expect: Missing parameter

quota -a set -d 0 -t 
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Expect: Missing parameter

quota -a set -d 0 -t nasshare 
Error (0x403): Missing parameter
missing parameter '-s' for '-a set'

administrator@cli> 

Expect: Missing parameter

quota -a set -d 0 -t nasshare -s
Error (0x403): Missing parameter
-s: missing value

administrator@cli> 

Expect: Missing parameter

quota -a set -d 0 -t clone
Error (0x403): Missing parameter
missing parameter '-s' for '-a set'

administrator@cli> 

Expect: Missing parameter

quota -a set -d 0 -t clone -s
Error (0x403): Missing parameter
-s: missing value

administrator@cli> 

Expect: Missing parameter

quota -a refresh
Error (0x403): Missing parameter
missing parameter '-t' for '-a refresh'

administrator@cli> 

Expect: Missing parameter

quota -a refresh -d
Error (0x403): Missing parameter
-d: missing value

administrator@cli> 

Expect: Missing parameter

quota -a refresh -d 0 -t
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 
'result': 'p'

Expect: 1 char name of group should be added

group -a add -g A

administrator@cli> 
group -g A
===============================================================================
GroupName                GroupMembers                description               
===============================================================================
A                                                                              

administrator@cli> 

Expect: 2 char name of group should be added

group -a add -g 12

administrator@cli> 
group -g 12
===============================================================================
GroupName                GroupMembers                description               
===============================================================================
12                                                                             

administrator@cli> 

Expect: 29 char name of group should be added

group -a add -g test_test_test_test_test_test_

administrator@cli> 
group -g test_test_test_test_test_test_
===============================================================================
GroupName                              GroupMembers         description        
===============================================================================
test_test_test_test_test_test_                                                 

administrator@cli> 

Expect: 30 char name of group should be added

group -a add -g name_name_name_name_name_name31

administrator@cli> 
group -g name_name_name_name_name_name31
===============================================================================
GroupName                               GroupMembers        description        
===============================================================================
name_name_name_name_name_name31                                                

administrator@cli> 
'result': 'p'

Expect: group and users should be added

group -a add -g add_group_and_user -u "test_group_0,test_group_1"

administrator@cli> 
group -v -g add_group_and_user
-------------------------------------------------------------------------------
GroupName: add_group_and_user           Gid: 1005
Description:                            IsPri: 0
GroupMembers: test_group_0,test_group_1 Status: Ready
Location: Local

administrator@cli> 
'result': 'p'

Expect: users should be added to group

group -a adduser -g A -u "test_group_0,test_group_1"

administrator@cli> 
group -v -g A
-------------------------------------------------------------------------------
GroupName: A                            Gid: 1001
Description:                            IsPri: 0
GroupMembers: test_group_0,test_group_1 Status: Ready
Location: Local

administrator@cli> 
'result': 'p'

Expect: all of group should be listed

group
===============================================================================
GroupName                     GroupMembers                   description       
===============================================================================
12                                                                             
A                             test_group_0,test_group_1                        
add_group_and_user            test_group_0,test_group_1                        
name_name_name_name_name_name                                                  
31                                                                             
test_test_test_test_test_test                                                  
_                                                                              
users                         test_group_0,test_group_1,test NAS default group 
                              _group_2,test_group_3,test_gro                   
                              up_4,test_group_5,test_group_6                   
                              ,test_group_7,test_group_8,tes                   
                              t_group_9                                        

administrator@cli> 

Expect: specific group should be listed

group -g A
===============================================================================
GroupName            GroupMembers                        description           
===============================================================================
A                    test_group_0,test_group_1                                 

administrator@cli> 
'result': 'p'

Expect: all of group should be listed

group -v
-------------------------------------------------------------------------------
GroupName: 12                           Gid: 1002
Description:                            GroupMembers: 
Status: Ready                           Location: Local
-------------------------------------------------------------------------------
GroupName: A                            Gid: 1001
Description:                            GroupMembers: test_group_0,test_group_1
Status: Ready                           Location: Local
-------------------------------------------------------------------------------
GroupName: add_group_and_user           Gid: 1005
Description:                            GroupMembers: test_group_0,test_group_1
Status: Ready                           Location: Local
-------------------------------------------------------------------------------
GroupName: name_name_name_name_name_name31
Gid: 1004                               Description: 
GroupMembers:                           Status: Ready
Location: Local
-------------------------------------------------------------------------------
GroupName: test_test_test_test_test_test_
Gid: 1003                               Description: 
GroupMembers:                           Status: Ready
Location: Local
-------------------------------------------------------------------------------
GroupName: users                        Gid: 100
GroupMembers: 
test_group_0,test_group_1,test_group_2,test_group_3,test_group_4,test_group_5,t
est_group_6,test_group_7,test_group_8,test_group_9
Description: NAS default group          Status: Ready
Location: Local

administrator@cli> 

Expect: specific group should be listed

group -v -g 12
-------------------------------------------------------------------------------
GroupName: 12                           Gid: 1002
Description:                            IsPri: 0
GroupMembers:                           Status: Ready
Location: Local

administrator@cli> 
'result': 'p'

Expect: description of group 12 should be modified

group -a mod -g 12 -s "desc=this is the test group"

administrator@cli> 
group -g 12
===============================================================================
GroupName            GroupMembers            description                       
===============================================================================
12                                           this is the test group            

administrator@cli> 
'result': 'p'

Expect: users should be deleted from group A

group -a deluser -g A -u test_group_0,test_group_1

administrator@cli> 
group -g A
===============================================================================
GroupName                GroupMembers                description               
===============================================================================
A                                                                              

administrator@cli> 
'result': 'p'

Expect: group A should be deleted

group -a del -g A

administrator@cli> 
group
===============================================================================
GroupName                   GroupMembers                description            
===============================================================================
12                                                      this is the test group 
add_group_and_user          test_group_0,test_group_1                          
name_name_name_name_name_na                                                    
me31                                                                           
test_test_test_test_test_te                                                    
st_                                                                            
users                       test_group_0,test_group_1,t NAS default group      
                            est_group_2,test_group_3,te                        
                            st_group_4,test_group_5,tes                        
                            t_group_6,test_group_7,test                        
                            _group_8,test_group_9                              

administrator@cli> 

Expect: group add_group_and_user should be deleted

group -a del -g add_group_and_user

administrator@cli> 
group
===============================================================================
GroupName                   GroupMembers                description            
===============================================================================
12                                                      this is the test group 
name_name_name_name_name_na                                                    
me31                                                                           
test_test_test_test_test_te                                                    
st_                                                                            
users                       test_group_0,test_group_1,t NAS default group      
                            est_group_2,test_group_3,te                        
                            st_group_4,test_group_5,tes                        
                            t_group_6,test_group_7,test                        
                            _group_8,test_group_9                              

administrator@cli> 
'result': 'p'

Expect: Invalid setting parameters

group test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Group is not found

group -g invalid_setting_name
Error (0x4100104): Incorrect parameters: Group is not found.

administrator@cli> 

Expect: Group is not found

group -v -g invalid_setting_name
Error (0x4100104): Incorrect parameters: Group is not found.

administrator@cli> 

Expect: The parameter [groupname] contains invalid character

group -a add -g a*
Error (0x4100104): Incorrect parameters: The parameter [groupname] contains invalid character. (0x4100104)

administrator@cli> 

Expect: The parameter [groupname] length is over 31 bytes

group -a add -g test_test_test_test_test_test_32
Error (0x4100104): Incorrect parameters: The parameter [groupname] length is over 31 bytes. (0x4100104)

administrator@cli> 

Expect: NAS group [invalid_setting_name] doesn't exist

group -a mod -g invalid_setting_name -s "desc=test"
Error (0x4100104): Incorrect parameters: NAS group [invalid_setting_name] doesn't exist.

administrator@cli> 

Expect: Failed to find the user

group -a adduser -g 12 -u invalid_setting_name
Error (0x402): Failed to find the user invalid_setting_name

administrator@cli> 

Expect: Failed to find the user

group -a deluser -g 12 -u invalid_setting_name
Error (0x402): Failed to find the user invalid_setting_name

administrator@cli> 

Expect: NAS group [invalid_setting_name] doesn't exist

group -a del -g invalid_setting_name
Error (0x4100104): Incorrect parameters: NAS group [invalid_setting_name] doesn't exist.

administrator@cli> 

Expect: Invalid setting parameters

group -a test
Error (0x2013): Invalid setting parameters
-a: invalid setting test (list|add|mod|del|adduser|deluser|refresh)

administrator@cli> 

Expect: Group is already exist

group -a add -g users
Error (0x402): Invalid parameter
Group is already exist

administrator@cli> 

Expect: The group name [users] is reserved by system

group -a del -g users
Error (0x4100104): Incorrect parameters: The group name [users] is reserved by system.

administrator@cli> 
'result': 'p'

Expect: Invalid option

group -x
Error (0x2012): Invalid option for the command or the action
invalid option: -x

administrator@cli> 

Expect: Invalid option

group -a add -x
Error (0x2012): Invalid option for the command or the action
invalid option: -x

administrator@cli> 

Expect: Invalid option

group -a adduser -x
Error (0x2012): Invalid option for the command or the action
invalid option: -x

administrator@cli> 

Expect: Invalid option

group -a deluser -x
Error (0x2012): Invalid option for the command or the action
invalid option: -x

administrator@cli> 

Expect: Invalid option

group -a del -x
Error (0x2012): Invalid option for the command or the action
invalid option: -x

administrator@cli> 

Expect: Invalid option

group -a mod -x
Error (0x2012): Invalid option for the command or the action
invalid option: -x

administrator@cli> 
'result': 'p'

Expect: Missing parameter

group -a
Error (0x403): Missing parameter
-a: missing value

administrator@cli> 

Expect: Missing parameter

group -a add
Error (0x403): Missing parameter
missing parameter '-g' for '-a add'

administrator@cli> 

Expect: Missing parameter

group -a add -g
Error (0x403): Missing parameter
-g: missing value

administrator@cli> 

Expect: Missing parameter

group -a add -g users -u
Error (0x403): Missing parameter
-u: missing value

administrator@cli> 

Expect: Missing parameter

group -a mod
Error (0x403): Missing parameter
missing parameter '-s' for '-a mod'

administrator@cli> 

Expect: Missing parameter

group -a mod -g
Error (0x403): Missing parameter
-g: missing value

administrator@cli> 

Expect: Missing parameter

group -a mod -g users -s
Error (0x403): Missing parameter
-s: missing value

administrator@cli> 

Expect: Missing parameter

group -a adduser
Error (0x403): Missing parameter
missing parameter '-u' for '-a adduser'

administrator@cli> 

Expect: Missing parameter

group -a adduser -g
Error (0x403): Missing parameter
-g: missing value

administrator@cli> 

Expect: Missing parameter

group -a adduser -g users -u
Error (0x403): Missing parameter
-u: missing value

administrator@cli> 

Expect: Missing parameter

group -a deluser
Error (0x403): Missing parameter
missing parameter '-u' for '-a deluser'

administrator@cli> 

Expect: Missing parameter

group -a deluser -g
Error (0x403): Missing parameter
-g: missing value

administrator@cli> 

Expect: Missing parameter

group -a deluser -g users -u
Error (0x403): Missing parameter
-u: missing value

administrator@cli> 

Expect: Missing parameter

group -a del
Error (0x403): Missing parameter
missing parameter '-g' for '-a del'

administrator@cli> 

Expect: Missing parameter

group -a del -g
Error (0x403): Missing parameter
-g: missing value

administrator@cli> 
'result': 'p'

Expect: mgmt user should be added by default setting and -u Test_Test_Test_Test_Test_Test31

user -a add -u Test_Test_Test_Test_Test_Test31 -p view
Enter password for the new user:
Enter password for the new user:
[J
Retype password for the new user:
Retype password for the new user:
[J

administrator@cli> 
user -u Test_Test_Test_Test_Test_Test31 -v
-------------------------------------------------------------------------------
Username: Test_Test_Test_Test_Test_Test31
Status: Enabled                         Location: Local
Privilege: View                         DisplayName: 
Email: 

administrator@cli> 

Expect: mgmt user should be added by -u 1111_1111_1111_1111_1111_11130 -p maintenance -s "name=T2,status=enable"

user -a add -t mgmt -u 1111_1111_1111_1111_1111_11130 -p maintenance -s "name=T2,status=enable"
Enter password for the new user:
Enter password for the new user:
[J
Retype password for the new user:
Retype password for the new user:
[J

administrator@cli> 
user -u 1111_1111_1111_1111_1111_11130 -v
-------------------------------------------------------------------------------
Username: 1111_1111_1111_1111_1111_11130
Status: Enabled                         Location: Local
Privilege: Maintenance                  DisplayName: T2
Email: 

administrator@cli> 

Expect: mgmt user should be added by -u T_ -p power -s "name=1111_1111_1111_1111_1111_1111_1,status=disable,email=11@11.11"

user -a add -t mgmt -u T_ -p power -s "name=1111_1111_1111_1111_1111_1111_1,status=disable,email=11@11.11"
Enter password for the new user:
Enter password for the new user:
[J
Retype password for the new user:
Retype password for the new user:
[J

administrator@cli> 
user -u T_ -v
-------------------------------------------------------------------------------
Username: T_                            Status: Disabled
Location: Local                         Privilege: Power
DisplayName: 1111_1111_1111_1111_1111_1111_1
Email: 11@11.11

administrator@cli> 

Expect: mgmt user should be added by -u t -p super -s "name=t,status=disable,email=11@11.11"

user -a add -t mgmt -u 1 -p super -s "name=t,status=disable,email=11@11.11"
Enter password for the new user:
Enter password for the new user:
[J
Retype password for the new user:
Retype password for the new user:
[J

administrator@cli> 
user -u 1 -v
-------------------------------------------------------------------------------
Username: 1                             Status: Disabled
Location: Local                         Privilege: Super
DisplayName: t                          Email: 11@11.11

administrator@cli> 
'result': 'p'

Expect: mgmt user should be modified by -p view -s "name=1111_1111_1111_1111_1111_test31,status=disable,email=11@11.11"

user -a mod -u 1 -p view -s "name=1111_1111_1111_1111_1111_test31,status=disable,email=11@11.11"

administrator@cli> 
user -u 1 -v
-------------------------------------------------------------------------------
Username: 1                             Status: Disabled
Location: Local                         Privilege: View
DisplayName: 1111_1111_1111_1111_1111_test31
Email: 11@11.11

administrator@cli> 

Expect: mgmt user should be modified by -p maintenance -s "name=1111_1111_1111_1111_1111_test3,status=enable"

user -a mod -u 1 -p maintenance -s "name=1111_1111_1111_1111_1111_test3,status=enable"

administrator@cli> 
user -u 1 -v
-------------------------------------------------------------------------------
Username: 1                             Status: Enabled
Location: Local                         Privilege: Maintenance
DisplayName: 1111_1111_1111_1111_1111_test3
Email: 11@11.11

administrator@cli> 

Expect: mgmt user should be modified by -p power -s "name=T1"

user -a mod -u 1 -p power -s "name=T1"

administrator@cli> 
user -u 1 -v
-------------------------------------------------------------------------------
Username: 1                             Status: Enabled
Location: Local                         Privilege: Power
DisplayName: T1                         Email: 11@11.11

administrator@cli> 

Expect: mgmt user should be modified by -p view -s "name=t"

user -a mod -u 1 -p super -s "name=t"

administrator@cli> 
user -u 1 -v
-------------------------------------------------------------------------------
Username: 1                             Status: Enabled
Location: Local                         Privilege: Super
DisplayName: t                          Email: 11@11.11

administrator@cli> 
'result': 'p'

Expect: snmp user should be added by -u 1 -s "auth=md5,priv=aes"

user -a add -t snmp -u 1 -s "auth=md5,priv=aes"
Enter auth password:[20D[20C[0m
Enter auth password:
[J
Retype password:[16D[16C[0m
Retype password:
[J
Enter priv password:[20D[20C[0m
Enter priv password:
[J
Retype password:[16D[16C[0m
Retype password:
[J

administrator@cli> 
user -t snmp -u 1 -v

EngineID: 0x80001f8880a6758536daa55e5a00000000

-------------------------------------------------------------------------------
Username: 1                             Permission: READ_ONLY
Auth: MD5                               Priv: AES
Type: SNMP

administrator@cli> 

Expect: snmp user should be added by -u T2 -s "auth=sha,priv=des"

user -a add -t snmp -u T2 -s "auth=sha,priv=des"
Enter auth password:[20D[20C[0m
Enter auth password:
[J
Retype password:[16D[16C[0m
Retype password:
[J
Enter priv password:[20D[20C[0m
Enter priv password:
[J
Retype password:[16D[16C[0m
Retype password:
[J

administrator@cli> 
user -t snmp -u T2 -v

EngineID: 0x80001f8880a6758536daa55e5a00000000

-------------------------------------------------------------------------------
Username: T2                            Permission: READ_ONLY
Auth: SHA                               Priv: DES
Type: SNMP

administrator@cli> 

Expect: snmp user should be added by -u Snmp_snmp_snmp_snmp_snmp_snm30

user -a add -t snmp -u Snmp_snmp_snmp_snmp_snmp_snm30

administrator@cli> 
user -t snmp -u Snmp_snmp_snmp_snmp_snmp_snm30 -v

EngineID: 0x80001f8880a6758536daa55e5a00000000

-------------------------------------------------------------------------------
Username: Snmp_snmp_snmp_snmp_snmp_snm30
Permission: READ_ONLY                   Auth: N/A
Priv: N/A                               Type: SNMP

administrator@cli> 

Expect: snmp user should be added by -u snmp_snmp_snmp_snmp_snmp_snmp31

user -a add -t snmp -u snmp_snmp_snmp_snmp_snmp_snmp31

administrator@cli> 
user -t snmp -u snmp_snmp_snmp_snmp_snmp_snmp31 -v

EngineID: 0x80001f8880a6758536daa55e5a00000000

-------------------------------------------------------------------------------
Username: snmp_snmp_snmp_snmp_snmp_snmp31
Permission: READ_ONLY                   Auth: N/A
Priv: N/A                               Type: SNMP

administrator@cli> 
'result': 'p'

Expect: snmp user should be modified by "auth=md5,priv=aes"

user -a mod -t snmp -u 1 -s "auth=md5,priv=aes"
Enter auth password:[20D[20C[0m
Enter auth password:
[J
Retype password:[16D[16C[0m
Retype password:
[J
Enter priv password:[20D[20C[0m
Enter priv password:
[J
Retype password:[16D[16C[0m
Retype password:
[J

administrator@cli> 
user -t snmp -u 1 -v

EngineID: 0x80001f8880a6758536daa55e5a00000000

-------------------------------------------------------------------------------
Username: 1                             Permission: READ_ONLY
Auth: MD5                               Priv: AES
Type: SNMP

administrator@cli> 

Expect: snmp user should be modified by "auth=sha,priv=des"

user -a mod -t snmp -u 1 -s "auth=sha,priv=des"
Enter auth password:[20D[20C[0m
Enter auth password:
[J
Retype password:[16D[16C[0m
Retype password:
[J
Enter priv password:[20D[20C[0m
Enter priv password:
[J
Retype password:[16D[16C[0m
Retype password:
[J

administrator@cli> 
user -t snmp -u 1 -v

EngineID: 0x80001f8880a6758536daa55e5a00000000

-------------------------------------------------------------------------------
Username: 1                             Permission: READ_ONLY
Auth: SHA                               Priv: DES
Type: SNMP

administrator@cli> 

Expect: no password snmp user should be modified by "auth=sha,priv=des"

user -a mod -t snmp -u snmp_snmp_snmp_snmp_snmp_snmp31 -s "auth=sha,priv=des"
Enter auth password:[20D[20C[0m
Enter auth password:
[J
Retype password:[16D[16C[0m
Retype password:
[J
Enter priv password:[20D[20C[0m
Enter priv password:
[J
Retype password:[16D[16C[0m
Retype password:
[J

administrator@cli> 
user -t snmp -u snmp_snmp_snmp_snmp_snmp_snmp31 -v

EngineID: 0x80001f8880a6758536daa55e5a00000000

-------------------------------------------------------------------------------
Username: snmp_snmp_snmp_snmp_snmp_snmp31
Permission: READ_ONLY                   Auth: SHA
Priv: DES                               Type: SNMP

administrator@cli> 
'result': 'p'

Expect: nas user should be added by -u 1 -s "group=users,department=default_group,phone=123456789,email=12@11.23,name=123"

user -a add -t nas -u 1 -s "group=users,department=default_group,phone=123456789,email=12@11.23,name=123"
Enter password for the new nas user:[36D[36C[0m
Enter password for the new nas user:
[J
Retype password for the new nas user:[37D[37C[0mRetype password for the new nas user:
[J

administrator@cli> 
user -t nas -v -u 1
-------------------------------------------------------------------------------
UserName: 1                             Email: 12@11.23
DisplayName: 123                        Telephone: 123456789
Department: default_group               PrimaryGroup: users
Status: Ready                           SecondryGroups: 

administrator@cli> 

Fail: please check out PriGroupName: users


Expect: nas user should be added by T2 -s "group=test_users,department=new_group,phone=0123456789,email=12@11.23"

user -a add -t nas -u T2 -s "group=test_users,department=new_group,phone=0123456789,email=12@11.23"
Enter password for the new nas user:[36D[36C[0m
Enter password for the new nas user:
[J
Retype password for the new nas user:[37D[37C[0mRetype password for the new nas user:
[J

administrator@cli> 
user -t nas -v -u T2
-------------------------------------------------------------------------------
UserName: T2                            Email: 12@11.23
DisplayName:                            Telephone: 0123456789
Department: new_group                   PrimaryGroup: test_users
Status: Ready                           SecondryGroups: 

administrator@cli> 

Fail: please check out PriGroupName: test_users


Expect: nas user should be added by -u test_test_test_test_test_nas30 -s "department=1,phone=123456000"

user -a add -t nas -u test_test_test_test_test_nas30 -s "department=1,phone=123456000"
Enter password for the new nas user:[36D[36C[0m
Enter password for the new nas user:
[J
Retype password for the new nas user:[37D[37C[0mRetype password for the new nas user:
[J

administrator@cli> 
user -t nas -v -u test_test_test_test_test_nas30
-------------------------------------------------------------------------------
UserName: test_test_test_test_test_nas30
Email:                                  DisplayName: 
Telephone: 123456000                    Department: 1
PrimaryGroup: users                     Status: Ready
SecondryGroups: 

administrator@cli> 

Fail: please check out PriGroupName: users


Expect: nas user should be added by -u name_name_name_name_name_name31

user -a add -t nas -u name_name_name_name_name_name31
Enter password for the new nas user:[36D[36C[0m
Enter password for the new nas user:
[J
Retype password for the new nas user:[37D[37C[0mRetype password for the new nas user:
[J

administrator@cli> 
user -t nas -v -u name_name_name_name_name_name31
-------------------------------------------------------------------------------
UserName: name_name_name_name_name_name31
Email:                                  DisplayName: 
Telephone:                              Department: 
PrimaryGroup: users                     Status: Ready
SecondryGroups: 

administrator@cli> 

Fail: please check out PriGroupName: users

'result': 'f'

Expect: nas user should be modified by "group=test_users,department=default_group,phone=123456789,email=ab@cd.ef,name=1"

user -a mod -t nas -u 1 -s "group=test_users,department=default_group,phone=123456789,email=ab@cd.ef,name=1"

administrator@cli> 
user -t nas -v -u 1
-------------------------------------------------------------------------------
UserName: 1                             Email: ab@cd.ef
DisplayName: 1                          Telephone: 123456789
Department: default_group               PrimaryGroup: test_users
Status: Ready                           SecondryGroups: users

administrator@cli> 

Fail: please check out PriGroupName: test_users


Expect: nas user should be modified by "group=users,department=new_group,phone=0123456789,name=T1"

user -a mod -t nas -u 1 -s "group=users,department=new_group,phone=0123456789,name=T1"

administrator@cli> 
user -t nas -v -u 1
-------------------------------------------------------------------------------
UserName: 1                             Email: ab@cd.ef
DisplayName: T1                         Telephone: 0123456789
Department: new_group                   PrimaryGroup: users
Status: Ready                           SecondryGroups: test_users

administrator@cli> 

Fail: please check out PriGroupName: users


Expect: nas user should be modified by "name=test_test_test_test_test_tes30"

user -a mod -t nas -u 1 -s "name=test_test_test_test_test_tes30"

administrator@cli> 
user -t nas -v -u 1
-------------------------------------------------------------------------------
UserName: 1                             Email: ab@cd.ef
DisplayName: test_test_test_test_test_tes30
Telephone: 0123456789                   Department: new_group
PrimaryGroup: users                     Status: Ready
SecondryGroups: test_users

administrator@cli> 

Expect: nas user should be modified by "name=test_test_test_test_test_test31"

user -a mod -t nas -u 1 -s "name=test_test_test_test_test_test31"

administrator@cli> 
user -t nas -v -u 1
-------------------------------------------------------------------------------
UserName: 1                             Email: ab@cd.ef
DisplayName: test_test_test_test_test_test31
Telephone: 0123456789                   Department: new_group
PrimaryGroup: users                     Status: Ready
SecondryGroups: test_users

administrator@cli> 
'result': 'f'

Expect: all of mgmt type user should be listed

user
===============================================================================
Username              Location  Status    Privilege  DisplayName Email        
===============================================================================
administrator         Local     Enabled   Super      Super user  admin@yourco  
                                                                 mpany.com     
Test_Test_Test_Test_T Local     Enabled   View                                 
est_Test31                                                                     
1111_1111_1111_1111_1 Local     Enabled   Maintenanc T2                        
111_11130                                 e                                    
T_                    Local     Disabled  Power      1111_1111_1 11@11.11      
                                                     111_1111_11               
                                                     11_1111_1                 
1                     Local     Enabled   Super      t           11@11.11      

administrator@cli> 

Expect: all of nas type user should be listed

user -t nas
===============================================================================
UserName                 DisplayName              PrimaryGroup Email    Status 
===============================================================================
admin                    NAS default User         users                 Ready  
1                        test_test_...est_test31  users        ab@cd.ef Ready  
T2                                                test_users   12@11.23 Ready  
name_name_...ame_name31                           users                 Ready  
test_test_...test_nas30                           users                 Ready  

administrator@cli> 

Fail: please check out Department


Fail: please check out Telephone


Expect: all of snmp type user should be listed

user -t snmp
===============================================================================
Username                             Type     Auth     Priv     Permission     
===============================================================================
1                                    SNMP     SHA      DES      READ_ONLY      
T2                                   SNMP     SHA      DES      READ_ONLY      
Snmp_snmp_snmp_snmp_snmp_snm30       SNMP     N/A      N/A      READ_ONLY      
snmp_snmp_snmp_snmp_snmp_snmp31      SNMP     SHA      DES      READ_ONLY      

administrator@cli> 

Expect: specific mgmt type user should be listed

user -u 1
===============================================================================
Username              Location  Status    Privilege  DisplayName Email        
===============================================================================
1                     Local     Enabled   Super      t           11@11.11      

administrator@cli> 

Expect: specific mgmt type user should be listed

user -t mgmt -u 1
===============================================================================
Username              Location  Status    Privilege  DisplayName Email        
===============================================================================
1                     Local     Enabled   Super      t           11@11.11      

administrator@cli> 

Expect: specific nas type user should be listed

user -t nas -u 1
===============================================================================
UserName   DisplayName                       PrimaryGroup   Email      Status  
===============================================================================
1          test_test_test_test_test_test31   users          ab@cd.ef   Ready   

administrator@cli> 

Fail: please check out Department


Fail: please check out Telephone


Expect: specific snmp type user should be listed

user -t snmp -u 1
===============================================================================
Username          Type          Auth          Priv          Permission         
===============================================================================
1                 SNMP          SHA           DES           READ_ONLY          

administrator@cli> 
'result': 'f'

Expect: all of mgmt type user should be listed by verbose mode

user -v
-------------------------------------------------------------------------------
Username: administrator                 Status: Enabled
Location: Local                         Privilege: Super
DisplayName: Super user                 Email: admin@yourcompany.com
-------------------------------------------------------------------------------
Username: Test_Test_Test_Test_Test_Test31
Status: Enabled                         Location: Local
Privilege: View                         DisplayName: 
Email: 
-------------------------------------------------------------------------------
Username: 1111_1111_1111_1111_1111_11130
Status: Enabled                         Location: Local
Privilege: Maintenance                  DisplayName: T2
Email: 
-------------------------------------------------------------------------------
Username: T_                            Status: Disabled
Location: Local                         Privilege: Power
DisplayName: 1111_1111_1111_1111_1111_1111_1
Email: 11@11.11
-------------------------------------------------------------------------------
Username: 1                             Status: Enabled
Location: Local                         Privilege: Super
DisplayName: t                          Email: 11@11.11

administrator@cli> 

Expect: all of nas type user should be listed by verbose mode

user -t nas -v
-------------------------------------------------------------------------------
UserName: admin                         Email: 
DisplayName: NAS default User           Telephone: 
Department:                             PrimaryGroup: users
Status: Ready                           SecondryGroups: 
-------------------------------------------------------------------------------
UserName: 1                             Email: ab@cd.ef
DisplayName: test_test_test_test_test_test31
Telephone: 0123456789                   Department: new_group
PrimaryGroup: users                     Status: Ready
SecondryGroups: test_users
-------------------------------------------------------------------------------
UserName: T2                            Email: 12@11.23
DisplayName:                            Telephone: 0123456789
Department: new_group                   PrimaryGroup: test_users
Status: Ready                           SecondryGroups: 
-------------------------------------------------------------------------------
UserName: name_name_name_name_name_name31
Email:                                  DisplayName: 
Telephone:                              Department: 
PrimaryGroup: users                     Status: Ready
SecondryGroups: 
-------------------------------------------------------------------------------
UserName: test_test_test_test_test_nas30
Email:                                  DisplayName: 
Telephone: 123456000                    Department: 1
PrimaryGroup: users                     Status: Ready
SecondryGroups: 

administrator@cli> 

Fail: please check out PriGroupName:


Fail: please check out SecGroupName:


Expect: all of snmp type user should be listed by verbose mode

user -t snmp -v 

EngineID: 0x80001f8880a6758536daa55e5a00000000

-------------------------------------------------------------------------------
Username: 1                             Permission: READ_ONLY
Auth: SHA                               Priv: DES
Type: SNMP
-------------------------------------------------------------------------------
Username: T2                            Permission: READ_ONLY
Auth: SHA                               Priv: DES
Type: SNMP
-------------------------------------------------------------------------------
Username: Snmp_snmp_snmp_snmp_snmp_snm30
Permission: READ_ONLY                   Auth: N/A
Priv: N/A                               Type: SNMP
-------------------------------------------------------------------------------
Username: snmp_snmp_snmp_snmp_snmp_snmp31
Permission: READ_ONLY                   Auth: SHA
Priv: DES                               Type: SNMP

administrator@cli> 

Expect: specific mgmt type user should be listed by verbose mode

user -u 1 -v 
-------------------------------------------------------------------------------
Username: 1                             Status: Enabled
Location: Local                         Privilege: Super
DisplayName: t                          Email: 11@11.11

administrator@cli> 

Expect: specific mgmt type user should be listed by verbose mode

user -t mgmt -u 1 -v
-------------------------------------------------------------------------------
Username: 1                             Status: Enabled
Location: Local                         Privilege: Super
DisplayName: t                          Email: 11@11.11

administrator@cli> 

Expect: specific nas type user should be listed by verbose mode

user -t nas -u 1 -v
-------------------------------------------------------------------------------
UserName: 1                             Email: ab@cd.ef
DisplayName: test_test_test_test_test_test31
Telephone: 0123456789                   Department: new_group
PrimaryGroup: users                     Status: Ready
SecondryGroups: test_users

administrator@cli> 

Fail: please check out PriGroupName:


Fail: please check out SecGroupName:


Expect: specific snmp type user should be listed by verbose mode

user -t snmp -u 1 -v

EngineID: 0x80001f8880a6758536daa55e5a00000000

-------------------------------------------------------------------------------
Username: 1                             Permission: READ_ONLY
Auth: SHA                               Priv: DES
Type: SNMP

administrator@cli> 
'result': 'f'

Expect: specific user should be deleted

user -a del -u T_

administrator@cli> 
user -u T_
Error (0x200): Invalid username
Username not found

administrator@cli> 

Expect: specific mgmt type user should be deleted

user -a del -t mgmt -u 1

administrator@cli> 
user -t mgmt -u 1
Error (0x200): Invalid username
Username not found

administrator@cli> 

Expect: specific nas type user should be deleted

user -a del -t nas -u T2

administrator@cli> 
user -t nas -u T2
Error (0x4100104): Incorrect parameters: User is not found.

administrator@cli> 

Expect: specific snmp type user should be deleted

user -a del -t snmp -u T2

administrator@cli> 
user -t snmp -u T2
Error (0x200): Invalid username

administrator@cli> 
'result': 'p'

Expect: Invalid setting parameters

user test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid username

user -u test
Error (0x200): Invalid username
Username not found

administrator@cli> 

Expect: Invalid setting parameters

user -t test
Error (0x2013): Invalid setting parameters
-t: invalid setting test (mgmt|snmp|nas)

administrator@cli> 

Expect: User is not found

user -t nas -u test
Error (0x4100104): Incorrect parameters: User is not found.

administrator@cli> 

Expect: Invalid username

user -t snmp -u test
Error (0x200): Invalid username

administrator@cli> 

Expect: Invalid setting parameters

user -a add test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid setting parameters

user -a add -t test
Error (0x2013): Invalid setting parameters
-t: invalid setting test (mgmt|snmp|nas)

administrator@cli> 

Expect: Invalid setting parameters

user -a add -u #$% -p view
Error (0x2013): Invalid setting parameters
id contain only alphanumeric characters and underscores

administrator@cli> 

Expect: Setting parameters too long

user -a add -u test_test_test_test_test_test_32 -p view
Error (0x2014): Setting parameters too long
-u: invalid setting test_test_test_test_test_test_32

administrator@cli> 

Expect: Invalid setting parameters

user -a add -u test -p view -s "status=test"
Error (0x2013): Invalid setting parameters
status: invalid setting test (enable|disable)

administrator@cli> 

Expect: Setting parameters too long

user -a add -t nas -u test_test_test_test_test_test_32
Error (0x2014): Setting parameters too long
-u: invalid setting test_test_test_test_test_test_32

administrator@cli> 

Expect: Setting parameters too long

user -a add -t snmp -u test_test_test_test_test_test_32
Error (0x2014): Setting parameters too long
-u: invalid setting test_test_test_test_test_test_32

administrator@cli> 

Expect: Invalid setting parameters

user -a add -t snmp -u test -s "auth=test,priv=des"
Error (0x2013): Invalid setting parameters
auth: invalid setting test (md5|sha)

administrator@cli> 

Expect: Invalid setting parameters

user -a add -t snmp -u test -s "auth=md5,priv=test"
Error (0x2013): Invalid setting parameters
priv: invalid setting test (des|aes)

administrator@cli> 

Expect: Invalid setting parameters

user -a mod test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid setting parameters

user -a mod -u test
Error (0x2013): Invalid setting parameters

administrator@cli> 

Expect: Invalid setting parameters

user -a mod -u 1111_1111_1111_1111_1111_11130 -p test
Error (0x2013): Invalid setting parameters
-p: invalid setting test (super|power|maintenance|view)

administrator@cli> 

Expect: Invalid setting parameters

user -a mod -u 1111_1111_1111_1111_1111_11130 -s "status=test"
Error (0x2013): Invalid setting parameters
status: invalid setting test (enable|disable)

administrator@cli> 

Expect: Invalid setting parameters

user -a mod -t test
Error (0x2013): Invalid setting parameters
-t: invalid setting test (mgmt|snmp|nas)

administrator@cli> 

Expect: Invalid setting parameters

user -a mod -t nas test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid input group name

user -a mod -t nas -u 1 -s "group=test"
Error (0x4100104): Incorrect parameters: Invalid input group name: test.

administrator@cli> 

Expect: Invalid setting parameters

user -a mod -t nas -u 1 -s "phone=test#$%&*"
Error (0x2013): Invalid setting parameters
phone contain only digit characters, plus, parentheses, dot,blank space, hyphen, slash and octothorpe. Must end with digit.

administrator@cli> 

Expect: Invalid setting parameters

user -a mod -t snmp test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid setting parameters

user -a mod -t snmp -u 1 -s "auth=test"
Error (0x2013): Invalid setting parameters
auth: invalid setting test (md5|sha)

administrator@cli> 

Expect: Invalid setting parameters

user -a mod -t snmp -u 1 -s "priv=test"
Error (0x2013): Invalid setting parameters
priv: invalid setting test (des|aes)

administrator@cli> 

Expect: Invalid setting parameters

user -a del test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid username

user -a del -u test
Error (0x200): Invalid username

administrator@cli> 

Expect: Invalid username

user -a del -t nas -u test
Error (0x4100104): Incorrect parameters: Invalid username

administrator@cli> 

Expect: Invalid username

user -a del -t snmp -u test
Error (0x200): Invalid username

administrator@cli> 
'result': 'p'

Expect: Invalid option for the command or the action

user -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

user -t nas -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

user -t snmp -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

user -a add -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

user -a add -t nas -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

user -a add -t snmp -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

user -a mod -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

user -a mod -u -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

user -a del -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

user -a del -t nas -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

user -a del -t snmp -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 
'result': 'p'

Expect: Missing parameter

user -u 
Error (0x403): Missing parameter
-u: missing value

administrator@cli> 

Expect: Missing parameter

user -t 
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Expect: Missing parameter

user -t nas -u 
Error (0x403): Missing parameter
-u: missing value

administrator@cli> 

Expect: Missing parameter

user -t snmp -u 
Error (0x403): Missing parameter
-u: missing value

administrator@cli> 

Expect: Missing parameter

user -a add 
Error (0x403): Missing parameter
missing parameter '-u' for '-a add'

administrator@cli> 

Expect: Missing parameter

user -a add -u
Error (0x403): Missing parameter
-u: missing value

administrator@cli> 

Expect: Missing parameter

user -a add -u test -p 
Error (0x403): Missing parameter
-p: missing value

administrator@cli> 

Expect: Missing parameter

user -a add -u test -t
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Expect: Missing parameter

user -a mod 
Error (0x403): Missing parameter
missing parameter '-u' for '-a mod'

administrator@cli> 

Expect: Missing parameter

user -a mod -u 
Error (0x403): Missing parameter
-u: missing value

administrator@cli> 

Expect: Missing parameter

user -a mod -u 1111_1111_1111_1111_1111_11130 -p 
Error (0x403): Missing parameter
-p: missing value

administrator@cli> 

Expect: Missing parameter

user -a mod -u 1111_1111_1111_1111_1111_11130 -s 
Error (0x403): Missing parameter
-s: missing value

administrator@cli> 

Expect: Missing parameter

user -a mod -t nas
Error (0x403): Missing parameter
missing parameter '-u' for '-a mod'

administrator@cli> 

Expect: Missing parameter

user -a mod -t nas -u
Error (0x403): Missing parameter
-u: missing value

administrator@cli> 

Expect: Missing parameter

user -a mod -t nas -u 1
Error (0x403): Missing parameter

administrator@cli> 

Expect: Missing parameter

user -a mod -t snmp
Error (0x403): Missing parameter
missing parameter '-u' for '-a mod'

administrator@cli> 

Expect: Missing parameter

user -a mod -t snmp -u
Error (0x403): Missing parameter
-u: missing value

administrator@cli> 

Expect: Missing parameter

user -a mod -t snmp -u 1
Error (0x403): Missing parameter

administrator@cli> 

Expect: Missing parameter

user -a del
Error (0x403): Missing parameter
missing parameter '-u' for '-a del'

administrator@cli> 

Expect: Missing parameter

user -a del -u
Error (0x403): Missing parameter
-u: missing value

administrator@cli> 

Expect: Missing parameter

user -a del -t nas -u
Error (0x403): Missing parameter
-u: missing value

administrator@cli> 

Expect: Missing parameter

user -a del -t snmp -u
Error (0x403): Missing parameter
-u: missing value

administrator@cli> 
'result': 'p'
