
Expect: Missing parameter

migrate -a
Error (0x403): Missing parameter
-a: missing value

administrator@cli> 

Expect: Missing parameter

migrate -a start
Error (0x403): Missing parameter
-i source volumd ID is missed

administrator@cli> 

Expect: Missing parameter

migrate -a start -t
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Expect: Missing parameter

migrate -a start -t local
Error (0x403): Missing parameter
-i source volumd ID is missed

administrator@cli> 

Expect: Missing parameter

migrate -a start -t local -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 

Expect: Missing parameter

migrate -a start -t local -i 0 -p 2 -s
Error (0x403): Missing parameter
-s: missing value

administrator@cli> 

Expect: Missing parameter

migrate -a stop
Error (0x403): Missing parameter
-i source volumd ID is missed

administrator@cli> 

Expect: Missing parameter

migrate -a stop -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 
'result': 'p'

Expect: spare 0 sc should be started

sc -a start -i 0

administrator@cli> 

Expect: spare 1 sc should be started

sc -a start -i 1

administrator@cli> 
'result': 'p'

Expect: all of sc should be listed

sc
===============================================================================
SpareId                     PdId                    Status                     
===============================================================================
0                           8                       Healthy                    
1                           9                       Healthy                    

administrator@cli> 

Expect: specific sc should be listed

sc -i 0
===============================================================================
SpareId                     PdId                    Status                     
===============================================================================
0                           8                       Healthy                    

administrator@cli> 
'result': 'p'

Expect: Invalid setting parameters

sc test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid setting parameters

sc -i test
Error (0x2013): Invalid setting parameters
-i: invalid setting test

administrator@cli> 

Expect: Invalid setting parameters

sc -a test
Error (0x2013): Invalid setting parameters
-a: invalid setting test (list|start)

administrator@cli> 

Expect: Invalid setting parameters

sc -a start test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid setting parameters

sc -a start -i test
Error (0x2013): Invalid setting parameters
-i: invalid setting test

administrator@cli> 
'result': 'p'

Expect: Invalid option for the command or the action

sc -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

sc -a -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

sc -a start -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 
'result': 'p'

Expect: Invalid option for the command or the action

sc -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

sc -a -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

sc -a start -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 
'result': 'p'

Expect: allowip should be set by "ip=1.0.0.0, permission=ro, squash=root"

allowip -a add -t nasshare -d 0 -s "ip=1.0.0.0, permission=ro, squash=root"

administrator@cli> 
allowip -t nasshare -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         1.0.0.0                                 RO          root_squash      

administrator@cli> 

Expect: allowip should be set by "ip=126.255.255.254, permission=rw, squash=all"

allowip -a add -t nasshare -d 0 -s "ip=126.255.255.254, permission=rw, squash=all"

administrator@cli> 
allowip -t nasshare -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         1.0.0.0                                 RO          root_squash      
1         126.255.255.254                         RW          all_squash       

administrator@cli> 

Fail: please check out rw


Expect: allowip should be set by "ip=128.0.0.0, permission=ro, squash=root"

allowip -a add -t snapshot -d 0 -s "ip=128.0.0.0, permission=ro, squash=root"

administrator@cli> 
allowip -t snapshot -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         128.0.0.0                               RO          root_squash      

administrator@cli> 

Expect: allowip should be set by "ip=191.255.255.254, permission=rw, squash=noroot"

allowip -a add -t snapshot -d 0 -s "ip=191.255.255.254, permission=ro, squash=noroot"

administrator@cli> 
allowip -t snapshot -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         128.0.0.0                               RO          root_squash      
1         191.255.255.254                         RO          no_root_squash   

administrator@cli> 

Expect: allowip should be set by "ip=192.0.0.0, permission=ro, squash=all"

allowip -a add -t clone -d 0 -s "ip=192.0.0.0, permission=ro, squash=all"

administrator@cli> 
allowip -t clone -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         192.0.0.0                               RO          all_squash       

administrator@cli> 

Fail: please check out ro


Expect: allowip should be set by "ip=223.255.255.254, permission=rw, squash=root"

allowip -a add -t clone -d 0 -s "ip=223.255.255.254, permission=rw, squash=root"

administrator@cli> 
allowip -t clone -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         192.0.0.0                               RO          all_squash       
1         223.255.255.254                         RW          root_squash      

administrator@cli> 

Fail: please check out rw

'result': 'f'

Expect: Missing parameter

allowip -t
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Expect: Missing parameter

allowip -a
Error (0x403): Missing parameter
-a: missing value

administrator@cli> 

Expect: Missing parameter

allowip -a add -t
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Expect: Missing parameter

allowip -a add -t nasshare -d 
Error (0x403): Missing parameter
-d: missing value

administrator@cli> 

Expect: Missing parameter

allowip -a add -t nasshare -d 0 -s 
Error (0x403): Missing parameter
-s: missing value

administrator@cli> 

Expect: Missing parameter

allowip -a add -t nasshare -d 0 -s "permission=ro,squash=root"
Error (0x403): Missing parameter
missing parameter 'ip' for '-a add'

administrator@cli> 

Expect: Missing parameter

allowip -a add -t nasshare -d 0 -s "ip=0.0.0.0,permission=ro"
Error (0x403): Missing parameter
missing parameter 'squash' for '-a add'

administrator@cli> 

Expect: Missing parameter

allowip -a add -t nasshare -d 0 -s "ip=255.255.255.255,squash=root"
Error (0x403): Missing parameter
missing parameter 'permission' for '-a add'

administrator@cli> 

Expect: Missing parameter

allowip -a mod
Error (0x403): Missing parameter
missing parameter '-t' for '-a mod'

administrator@cli> 

Expect: Missing parameter

allowip -a mod -t nasshare -d
Error (0x403): Missing parameter
-d: missing value

administrator@cli> 

Expect: Missing parameter

allowip -a mod -t nasshare -d 0 -s
Error (0x403): Missing parameter
-s: missing value

administrator@cli> 

Expect: Missing parameter

allowip -a del
Error (0x403): Missing parameter
missing parameter '-t' for '-a del'

administrator@cli> 

Expect: Missing parameter

allowip -a del -t
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Expect: Missing parameter

allowip -a del -t nasshare -d
Error (0x403): Missing parameter
-d: missing value

administrator@cli> 

Expect: Missing parameter

allowip -a del -t nasshare -d 0 -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 
'result': 'p'

Expect: allowip should be set by "ip=1.0.0.0, permission=ro, squash=root"

allowip -a add -t nasshare -d 0 -s "ip=1.0.0.0, permission=ro, squash=root"

administrator@cli> 
allowip -t nasshare -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         1.0.0.0                                 RO          root_squash      

administrator@cli> 

Expect: allowip should be set by "ip=126.255.255.254, permission=rw, squash=all"

allowip -a add -t nasshare -d 0 -s "ip=126.255.255.254, permission=rw, squash=all"

administrator@cli> 
allowip -t nasshare -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         1.0.0.0                                 RO          root_squash      
1         126.255.255.254                         RW          all_squash       

administrator@cli> 

Expect: allowip should be set by "ip=128.0.0.0, permission=ro, squash=root"

allowip -a add -t snapshot -d 0 -s "ip=128.0.0.0, permission=ro, squash=root"

administrator@cli> 
allowip -t snapshot -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         128.0.0.0                               RO          root_squash      

administrator@cli> 

Expect: allowip should be set by "ip=191.255.255.254, permission=rw, squash=noroot"

allowip -a add -t snapshot -d 0 -s "ip=191.255.255.254, permission=ro, squash=noroot"

administrator@cli> 
allowip -t snapshot -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         128.0.0.0                               RO          root_squash      
1         191.255.255.254                         RO          no_root_squash   

administrator@cli> 

Expect: allowip should be set by "ip=192.0.0.0, permission=ro, squash=all"

allowip -a add -t clone -d 0 -s "ip=192.0.0.0, permission=ro, squash=all"

administrator@cli> 
allowip -t clone -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         192.0.0.0                               RO          all_squash       

administrator@cli> 

Expect: allowip should be set by "ip=223.255.255.254, permission=rw, squash=root"

allowip -a add -t clone -d 0 -s "ip=223.255.255.254, permission=rw, squash=root"

administrator@cli> 
allowip -t clone -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         192.0.0.0                               RO          all_squash       
1         223.255.255.254                         RW          root_squash      

administrator@cli> 
'result': 'p'

Expect: Missing parameter

allowip -t
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Expect: Missing parameter

allowip -a
Error (0x403): Missing parameter
-a: missing value

administrator@cli> 

Expect: Missing parameter

allowip -a add -t
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Expect: Missing parameter

allowip -a add -t nasshare -d 
Error (0x403): Missing parameter
-d: missing value

administrator@cli> 

Expect: Missing parameter

allowip -a add -t nasshare -d 0 -s 
Error (0x403): Missing parameter
-s: missing value

administrator@cli> 

Expect: Missing parameter

allowip -a add -t nasshare -d 0 -s "permission=ro,squash=root"
Error (0x403): Missing parameter
missing parameter 'ip' for '-a add'

administrator@cli> 

Expect: Missing parameter

allowip -a add -t nasshare -d 0 -s "ip=0.0.0.0,permission=ro"
Error (0x403): Missing parameter
missing parameter 'squash' for '-a add'

administrator@cli> 

Expect: Missing parameter

allowip -a add -t nasshare -d 0 -s "ip=255.255.255.255,squash=root"
Error (0x403): Missing parameter
missing parameter 'permission' for '-a add'

administrator@cli> 

Expect: Missing parameter

allowip -a mod
Error (0x403): Missing parameter
missing parameter '-t' for '-a mod'

administrator@cli> 

Expect: Missing parameter

allowip -a mod -t nasshare -d
Error (0x403): Missing parameter
-d: missing value

administrator@cli> 

Expect: Missing parameter

allowip -a mod -t nasshare -d 0 -s
Error (0x403): Missing parameter
-s: missing value

administrator@cli> 

Expect: Missing parameter

allowip -a del
Error (0x403): Missing parameter
missing parameter '-t' for '-a del'

administrator@cli> 

Expect: Missing parameter

allowip -a del -t
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Expect: Missing parameter

allowip -a del -t nasshare -d
Error (0x403): Missing parameter
-d: missing value

administrator@cli> 

Expect: Missing parameter

allowip -a del -t nasshare -d 0 -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 
'result': 'p'

Expect: replication should be started by "name=T, syncmode=async"

replication -a start -i 2 -p 1 -s "name=T, syncmode=async"

administrator@cli> 
volume -i 6 -v
-------------------------------------------------------------------------------
Id: 6                                   Name: T
PoolId: 1                               PoolName: T_replication_1
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 4 GB                     UsedCapacity: 4 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-02 09:46:02
PreferCtrlId: 2                         AdvType: Replication
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Async
AdvStatus: Warning                      AdvProgress: 0.0

administrator@cli> 

Fail: please check out AdvStatus: Syncing


Expect: replication should be started by "name=t2, syncmode=semi-sync"

replication -a start -i 3 -p 1 -s "name=t2, syncmode=semi-sync"

administrator@cli> 
volume -i 7 -v
-------------------------------------------------------------------------------
Id: 7                                   Name: t2
PoolId: 1                               PoolName: T_replication_1
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 4 GB                     UsedCapacity: 4 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-02 09:46:06
PreferCtrlId: 2                         AdvType: Replication
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Semi-Sync
AdvStatus: Syncing                      AdvProgress: 0.3

administrator@cli> 

Expect: replication should be started by "name=test_Test_Test_Test_Test_Test31, syncmode=sync"

replication -a start -i 4 -p 0 -s "name=test_Test_Test_Test_Test_Test31, syncmode=sync"

administrator@cli> 
volume -i 8 -v
-------------------------------------------------------------------------------
Id: 8                                   Name: test_Test_Test_Test_Test_Test31
PoolId: 0                               PoolName: T_replication_0
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
PoolAvailableCapacity: 107.22 GB        UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-02 09:46:10
PreferCtrlId: 2                         AdvType: Replication
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Syncing                      AdvProgress: 5.1

administrator@cli> 

Expect: replication should be started by "name=test_Test_Test_Test_Test_Test_32"

replication -a start -i 5 -p 0 -s "name=test_Test_Test_Test_Test_Test_32"

administrator@cli> 
volume -i 5 -v
-------------------------------------------------------------------------------
Id: 5                                   Name: T_replication_vol_5
PoolId: 1                               PoolName: T_replication_1
Status: Exported                        ExportedId: 5
ExportedWWN: 225200015513a31e           OperationalStatus: OK, Synchronizing
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-02 09:46:01
PreferCtrlId: 2                         AdvType: Replication
AdvKind: Local                          AdvRole: Source
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Syncing                      AdvProgress: 7.2

administrator@cli> 
'result': 'f'

Expect: Max 4 pairs of replication

replication -a start -i 0 -p 0 -s "name=firth_replica"
Error (0x4100104): Incorrect parameters: Support maximum 4 local replication!

administrator@cli> 

Expect: destination volume should not be exported

volume -a export -i 6
Error (0x4100104): Incorrect parameters: Destination volume of replication in Active_Passive mode cannot be exported.

administrator@cli> 

Expect: destination volume should not be expanded

volume -a mod -i 6 -s "capacity=6GB"
Error (0x4100104): Incorrect parameters: Volume is replication or migration Volume.

administrator@cli> 

Expect: destination volume should not be modified

volume -a mod -i 6 -s "name=no_way"
Error (0x4100104): Incorrect parameters: Volume is replication or migration Volume.

administrator@cli> 

Expect: destination volume should not create snapshot

snapshot -a add -t volume -d 6 -s "name=test_replica"
Error (0x4100104): Incorrect parameters: Destination volume of replication or migration cannot create snapshot.

administrator@cli> 

Expect: destination volume should not be added for lunmap

lunmap -a add -p volume -i 0 -l 6 -m 2
Error (0x402): Invalid parameter
The volume/snapshot/clone is un-exported

administrator@cli> 

Expect: destination volume should not be deleted

volume -a del -i 6
Error (0x4100104): Incorrect parameters: Volume is replication or migration Volume.

administrator@cli> 

Expect: source volume should not be expanded

volume -a mod -i 2 -s "capacity=5GB"
Error (0x4100104): Incorrect parameters: Volume is replication or migration Volume.

administrator@cli> 

Expect: source volume should not be deleted

volume -a del -i 2
Error (0x4100104): Incorrect parameters: Volume is replication or migration Volume.

administrator@cli> 

Expect: source pool should not be deleted

pool -a del -i 1 -f -y
Error (0x4100104): Incorrect parameters: There are replication or migration Volume in the Pool.

administrator@cli> 

Expect: destination pool should not be deleted

pool -a del -i 0 -f -y
Error (0x4100104): Incorrect parameters: There are replication or migration Volume in the Pool.

administrator@cli> 
'result': 'p'

Expect: Max 4 pairs of replication

replication -a start -i 0 -p 0 -s "name=firth_replica"
Error (0x4100104): Incorrect parameters: Support maximum 4 local replication!

administrator@cli> 

Expect: destination volume should not be exported

volume -a export -i 6
Error (0x4100104): Incorrect parameters: Destination volume of replication in Active_Passive mode cannot be exported.

administrator@cli> 

Expect: destination volume should not be expanded

volume -a mod -i 6 -s "capacity=6GB"
Error (0x4100104): Incorrect parameters: Volume is replication or migration Volume.

administrator@cli> 

Expect: destination volume should not be modified

volume -a mod -i 6 -s "name=no_way"
Error (0x4100104): Incorrect parameters: Volume is replication or migration Volume.

administrator@cli> 

Expect: destination volume should not create snapshot

snapshot -a add -t volume -d 6 -s "name=test_replica"
Error (0x4100104): Incorrect parameters: Destination volume of replication or migration cannot create snapshot.

administrator@cli> 

Expect: destination volume should not be added for lunmap

lunmap -a add -p volume -i 0 -l 6 -m 2
Error (0x402): Invalid parameter
The volume/snapshot/clone is un-exported

administrator@cli> 

Expect: destination volume should not be deleted

volume -a del -i 6
Error (0x4100104): Incorrect parameters: Volume is replication or migration Volume.

administrator@cli> 

Expect: source volume should not be expanded

volume -a mod -i 2 -s "capacity=5GB"
Error (0x4100104): Incorrect parameters: Volume is replication or migration Volume.

administrator@cli> 

Expect: source volume should not be deleted

volume -a del -i 2
Error (0x4100104): Incorrect parameters: Volume is replication or migration Volume.

administrator@cli> 

Expect: source pool should not be deleted

pool -a del -i 1 -f -y
Error (0x4100104): Incorrect parameters: There are replication or migration Volume in the Pool.

administrator@cli> 

Expect: destination pool should not be deleted

pool -a del -i 0 -f -y
Error (0x4100104): Incorrect parameters: There are replication or migration Volume in the Pool.

administrator@cli> 
'result': 'p'

Expect: all of replication should be listed by verbose mode

replication -a list -v
-------------------------------------------------------------------------------
Location: Local                         Role: Destination
Mode: Active-Passive                    SyncMode: Async
Status: OK                              Description: Ready.
Progress: 100.0                         SourceVolumeId: 2
SourceVolumeName: T_replication_vol_2   SourcePoolName: T_replication_0
SourcePortalIP: 10.128.0.2              DestinationVolumeId: 6
DestinationVolumeName: T                DestinationPoolName: T_replication_1
DestinationPortalIP: 10.128.0.2         TotalCapacity: 4 GB
UsedCapacity: 4 GB
-------------------------------------------------------------------------------
Location: Local                         Role: Destination
Mode: Active-Passive                    SyncMode: Semi-Sync
Status: OK                              Description: Ready.
Progress: 100.0                         SourceVolumeId: 3
SourceVolumeName: T_replication_vol_3   SourcePoolName: T_replication_0
SourcePortalIP: 10.128.0.2              DestinationVolumeId: 7
DestinationVolumeName: t2               DestinationPoolName: T_replication_1
DestinationPortalIP: 10.128.0.2         TotalCapacity: 4 GB
UsedCapacity: 4 GB
-------------------------------------------------------------------------------
Location: Local                         Role: Source
Mode: Active-Passive                    SyncMode: Sync
Status: OK                              Description: Ready.
Progress: 100.0                         SourceVolumeId: 5
SourceVolumeName: T_replication_vol_5   SourcePoolName: T_replication_1
SourcePortalIP: 10.128.0.2              DestinationVolumeId: 9
DestinationVolumeName: test_Test_Test_Test_Test_Test_32
DestinationPoolName: T_replication_0    DestinationPortalIP: 10.128.0.2
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
-------------------------------------------------------------------------------
Location: Local                         Role: Source
Mode: Active-Passive                    SyncMode: Sync
Status: OK                              Description: Ready.
Progress: 100.0                         SourceVolumeId: 4
SourceVolumeName: T_replication_vol_4   SourcePoolName: T_replication_1
SourcePortalIP: 10.128.0.2              DestinationVolumeId: 8
DestinationVolumeName: test_Test_Test_Test_Test_Test31
DestinationPoolName: T_replication_0    DestinationPortalIP: 10.128.0.2
TotalCapacity: 1 GB                     UsedCapacity: 1 GB

administrator@cli> 
'result': 'p'

Expect: specific replication should be stopped

replication -a stop -i 2

administrator@cli> 
volume -v -i 6
-------------------------------------------------------------------------------
Id: 6                                   Name: T
PoolId: 1                               PoolName: T_replication_1
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 4 GB                     UsedCapacity: 4 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-02 09:46:02
PreferCtrlId: 2                         AdvType: 

administrator@cli> 
'result': 'p'

Expect: replication should be resumed

replication -a resume -i 3
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: replication -a resume -i 3

'result': 'f'

Expect: replication help document should be displayed

replication -h
replication

Usage:
   replication [-a <action>] [-i <ID>] [-p <pool ID>] [-s <settings>]

Summary:
   The replication command allows the user to replicate volume into another
   pool.
   Only with thin-provision disabled volume can be used to replicate. During
   replication in progress, source volume cannot be expanded or removed;
   destination volume disallowed to do any operations.

Options:

-a <action>           Which action to perform.
   list               (Default) Displays the replication status.
   start              Start a specific replication status.
   stop               Stop the replication
   pause              Pause the replication
   resume             Resume a paused replication

-i <ID>               Source volume ID.

-p <pool id>          Destination pool ID.
                      Only valid for -a add specified

-s "<option>=<value>"
                      Used to specify replication settings.
                      Only valid for -a add specified

   name=              Destination volume name

   syncmode=          sync mode method
     async
     semi-sync
     sync             (Default)

-v                    Verbose mode.  Used with -a list.

Examples:
   replication -a list
   replication -a start -i 1 -p 0 -s "name=test, syncmode=async"
   replication -a stop -i 2
   replication -a pause -i i
   replication -a resume -i 1
Type ' | grep "word1,word2,..."' at the end of each command, to display 
filtered info.

administrator@cli> 
'result': 'p'

Expect: Invalid setting parameters

replication test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid setting parameters

replication -a test
Error (0x2013): Invalid setting parameters
-a: invalid setting test (list|start|stop|pause|resume)

administrator@cli> 

Expect: destination pool capacity should be more than soure volume

replication -a start -i 0 -p 3 -s "name=test_capacity"
Error (0x4100104): Incorrect parameters: Destination Pool availiable size is not enough.

administrator@cli> 

Expect: specify nonexistent source volume

replication -a start -i 100 -p 0 -s "name=test_thin"
Error (0x4100102): Empty query result, please check input parameters. Volume id=[100] is not existed.

administrator@cli> 

Expect: specify nonexistent destination pool

replication -a start -i 0 -p 10 -s "name=test_thin"
Error (0x4100102): Empty query result, please check input parameters. Pool id=[10] is not existed.

administrator@cli> 

Expect: thin provision volume cannot become source volume

replication -a start -i 1 -p 0 -s "name=test_thin"
Error (0x4100104): Incorrect parameters: Volume is not full-provision.

administrator@cli> 

Expect: Can not replicate Volume to the same Pool

replication -a start -i 0 -p 2 -s "name=test_thin"
Error (0x4100104): Incorrect parameters: Can not replicate Volume to the same Pool.

administrator@cli> 

Expect: name contain only alphanumeric characters and underscores

replication -a start -i 0 -p 1 -s "name="
Error (0x2013): Invalid setting parameters
name contain only alphanumeric characters and underscores

administrator@cli> 

Expect: name contain only alphanumeric characters and underscores

replication -a start -i 0 -p 1 -s "name=t*&"
Error (0x2013): Invalid setting parameters
name contain only alphanumeric characters and underscores

administrator@cli> 

Expect: should hint error when name shall not exceed 32 characters

replication -a start -i 0 -p 1 -s "name=test_test_test_test_test_test_033"
Error (0x2014): Setting parameters too long
name shall not exceed 32 characters

administrator@cli> 

Expect: should hint error when specify wrong sync mode

replication -a start -i 0 -p 1 -s "name=test,syncmode=test"
Error (0x2013): Invalid setting parameters
syncmode: invalid setting test (async|semi-sync|sync)

administrator@cli> 

Expect: Invalid setting parameters

replication -a stop -i test
Error (0x2013): Invalid setting parameters
-i: invalid setting test

administrator@cli> 

Expect: replication should not stop by destination volume

replication -a stop -i 9
Error (0x4100104): Incorrect parameters: Can not find meta device info by zp163267/ds462254 1.

administrator@cli> 

Fail: please check out zp254243d


Expect: Volume id=[20] is not existed

replication -a stop -i 20
Error (0x4100102): Empty query result, please check input parameters. Volume id=[20] is not existed.

administrator@cli> 

Expect: Invalid setting parameters

replication -a pause -i test
Error (0x2013): Invalid setting parameters
-i: invalid setting test

administrator@cli> 

Expect: replication should not pause by destination volume

replication -a pause -i 9
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Expect: Volume id=[20] is not existed

replication -a pause -i 20
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Expect: Invalid setting parameters

replication -a resume -i test
Error (0x2013): Invalid setting parameters
-i: invalid setting test

administrator@cli> 

Expect: should hint replication doesn't pause

replication -a resume -i 4
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Expect: Invalid setting parameters

replication -a resume -i 9
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Expect: Volume id=[20] is not existed

replication -a resume -i 20
Error (0x4100999): Fail to execute this method.

administrator@cli> 
'result': 'f'

Expect: Missing parameter

replication -a
Error (0x403): Missing parameter
-a: missing value

administrator@cli> 

Expect: Missing parameter

replication -a start
Error (0x403): Missing parameter
missing parameter '-s' for '-a start'

administrator@cli> 

Expect: Missing parameter

replication -a start -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 

Expect: Missing parameter

replication -a start -i 1 -p
Error (0x403): Missing parameter
-p: missing value

administrator@cli> 

Expect: Missing parameter

replication -a start -i 0 -p 2 -s
Error (0x403): Missing parameter
-s: missing value

administrator@cli> 

Expect: Missing parameter

replication -a stop
Error (0x403): Missing parameter
missing parameter '-i' for '-a stop'

administrator@cli> 

Expect: Missing parameter

replication -a stop -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 

Expect: Missing parameter

replication -a pause
Error (0x403): Missing parameter
missing parameter '-i' for '-a pause'

administrator@cli> 

Expect: Missing parameter

replication -a pause -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 

Expect: Missing parameter

replication -a resume
Error (0x403): Missing parameter
missing parameter '-i' for '-a resume'

administrator@cli> 

Expect: Missing parameter

replication -a resume -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 
'result': 'p'

Expect: migrate should be started by "syncmode=async"

migrate -a start -t local -i 2 -p 1 -s "syncmode=async"
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: migrate -a start -t local -i 2 -p 1 -s "syncmode=async"


Expect: migrate should be started by "syncmode=semi-sync"

migrate -a start -t local -i 3 -p 1 -s "syncmode=semi-sync"
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: migrate -a start -t local -i 3 -p 1 -s "syncmode=semi-sync"


Expect: migrate should be started by "syncmode=sync"

migrate -a start -t local -i 4 -p 0 -s "syncmode=sync"

administrator@cli> 
volume -i 8 -v
-------------------------------------------------------------------------------
Id: 8                                   Name: T_migrate_vol_4_migrate
PoolId: 0                               PoolName: T_migrate_0
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
PoolAvailableCapacity: 107.22 GB        UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-02 09:57:07
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Active                  AdvProtocol: Sync
AdvStatus: Warning                      AdvProgress: 0.0

administrator@cli> 

Fail: please check out AdvMode: Active-Passive


Fail: please check out AdvStatus: Syncing


Expect: migrate should be started by default volues

migrate -a start -t local -i 5 -p 0

administrator@cli> 
volume -i 5 -v
-------------------------------------------------------------------------------
Id: 5                                   Name: T_migrate_vol_5
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: -1
ExportedWWN: 22a20001558ecae2           OperationalStatus: OK, Synchronizing
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-02 09:56:56
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Source
AdvMode: Active-Active                  AdvProtocol: Sync
AdvStatus: Syncing                      AdvProgress: 0.9

administrator@cli> 

Fail: please check out AdvMode: Active-Passive

'result': 'f'

Expect: migrate should be started by "syncmode=async"

migrate -a start -t local -i 2 -p 1 -s "syncmode=async"
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: migrate -a start -t local -i 2 -p 1 -s "syncmode=async"


Expect: migrate should be started by "syncmode=semi-sync"

migrate -a start -t local -i 3 -p 1 -s "syncmode=semi-sync"
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: migrate -a start -t local -i 3 -p 1 -s "syncmode=semi-sync"


Expect: migrate should be started by "syncmode=sync"

migrate -a start -t local -i 4 -p 0 -s "syncmode=sync"

administrator@cli> 
volume -i 8 -v
-------------------------------------------------------------------------------
Id: 8                                   Name: T_migrate_vol_4_migrate
PoolId: 0                               PoolName: T_migrate_0
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
PoolAvailableCapacity: 107.22 GB        UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-02 10:04:23
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Active                  AdvProtocol: Sync
AdvStatus: Warning                      AdvProgress: 0.0

administrator@cli> 

Fail: please check out AdvMode: Active-Passive


Fail: please check out AdvStatus: Syncing


Expect: migrate should be started by default volues

migrate -a start -t local -i 5 -p 0

administrator@cli> 
volume -i 5 -v
-------------------------------------------------------------------------------
Id: 5                                   Name: T_migrate_vol_5
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: -1
ExportedWWN: 223b00015584b76c           OperationalStatus: OK, Synchronizing
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-02 10:04:07
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Source
AdvMode: Active-Active                  AdvProtocol: Sync
AdvStatus: Warning                      AdvProgress: 0.0

administrator@cli> 

Fail: please check out AdvMode: Active-Passive


Fail: please check out AdvStatus: Syncing

'result': 'f'

Expect: Missing parameter

migrate -a
Error (0x403): Missing parameter
-a: missing value

administrator@cli> 

Expect: Missing parameter

migrate -a start
Error (0x403): Missing parameter
-i source volumd ID is missed

administrator@cli> 

Expect: Missing parameter

migrate -a start -t
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Expect: Missing parameter

migrate -a start -t local
Error (0x403): Missing parameter
-i source volumd ID is missed

administrator@cli> 

Expect: Missing parameter

migrate -a start -t local -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 

Expect: Missing parameter

migrate -a start -t local -i 0 -p 2 -s
Error (0x403): Missing parameter
-s: missing value

administrator@cli> 

Expect: Missing parameter

migrate -a stop
Error (0x403): Missing parameter
-i source volumd ID is missed

administrator@cli> 

Expect: Missing parameter

migrate -a stop -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 
'result': 'p'

Expect: migrate should be started by "syncmode=async"

migrate -a start -t local -i 2 -p 1 -s "syncmode=async"
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: migrate -a start -t local -i 2 -p 1 -s "syncmode=async"


Expect: migrate should be started by "syncmode=semi-sync"

migrate -a start -t local -i 3 -p 1 -s "syncmode=semi-sync"
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: migrate -a start -t local -i 3 -p 1 -s "syncmode=semi-sync"


Expect: migrate should be started by "syncmode=sync"

migrate -a start -t local -i 4 -p 0 -s "syncmode=sync"

administrator@cli> 
volume -i 8 -v
-------------------------------------------------------------------------------
Id: 8                                   Name: T_migrate_vol_4_migrate
PoolId: 0                               PoolName: T_migrate_0
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
PoolAvailableCapacity: 107.22 GB        UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-02 10:40:57
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Active                  AdvProtocol: Sync
AdvStatus: Warning                      AdvProgress: 0.0

administrator@cli> 

Fail: please check out AdvMode: Active-Passive


Fail: please check out AdvStatus: Syncing


Expect: migrate should be started by default volues

migrate -a start -t local -i 5 -p 0

administrator@cli> 
volume -i 5 -v
-------------------------------------------------------------------------------
Id: 5                                   Name: T_migrate_vol_5
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: -1
ExportedWWN: 22b50001550e8c91           OperationalStatus: OK, Synchronizing
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-02 10:40:42
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Source
AdvMode: Active-Active                  AdvProtocol: Sync
AdvStatus: Syncing                      AdvProgress: 7.2

administrator@cli> 

Fail: please check out AdvMode: Active-Passive

'result': 'f'

Expect: migrate of remote type should be started by "syncmode=async"

migrate -a start -t remote -i 2 -p 0 -s "syncmode=async,srcip=10.84.2.164,dstip=10.84.2.115,password=password"
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: migrate -a start -t remote -i 2 -p 0 -s "syncmode=async,srcip=10.84.2.164,dstip=10.84.2.115,password=password"


Expect: migrate of remote type should be started by "syncmode=semi-sync"

migrate -a start -t remote -i 3 -p 0 -s "syncmode=semi-sync,srcip=10.84.2.164,dstip=10.84.2.115,password=password"
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: migrate -a start -t remote -i 3 -p 0 -s "syncmode=semi-sync,srcip=10.84.2.164,dstip=10.84.2.115,password=password"


Expect: migrate of remote type should be started by "syncmode=sync"

migrate -a start -t remote -i 4 -p 0 -s "syncmode=sync,srcip=10.84.2.164,dstip=10.84.2.115,password=password"
Error (0x4100104): Incorrect parameters: Only exported volume can be migrated.

administrator@cli> 

Fail: migrate -a start -t remote -i 4 -p 0 -s "syncmode=sync,srcip=10.84.2.164,dstip=10.84.2.115,password=password"


Expect: migrate of remote type should be started by default volues

migrate -a start -t remote -i 5 -p 0 -s "srcip=10.84.2.164,dstip=10.84.2.115,password=password"
Error (0x4100104): Incorrect parameters: Only exported volume can be migrated.

administrator@cli> 

Fail: migrate -a start -t remote -i 5 -p 0 -s "srcip=10.84.2.164,dstip=10.84.2.115,password=password"

'result': 'f'

Expect: migrate of remote type should be started by "syncmode=async"

migrate -a start -t remote -i 2 -p 0 -s "syncmode=async,srcip=10.84.2.164,dstip=10.84.2.115,password=password"
Error (0x4100104): Incorrect parameters: Can not find meta device info by zp479338/ds306670 1.

administrator@cli> 

Fail: migrate -a start -t remote -i 2 -p 0 -s "syncmode=async,srcip=10.84.2.164,dstip=10.84.2.115,password=password"


Expect: migrate of remote type should be started by "syncmode=semi-sync"

migrate -a start -t remote -i 3 -p 0 -s "syncmode=semi-sync,srcip=10.84.2.164,dstip=10.84.2.115,password=password"
Error (0x4100104): Incorrect parameters: Can not find meta device info by zp479338/ds850151 1.

administrator@cli> 

Fail: migrate -a start -t remote -i 3 -p 0 -s "syncmode=semi-sync,srcip=10.84.2.164,dstip=10.84.2.115,password=password"


Expect: migrate of remote type should be started by "syncmode=sync"

migrate -a start -t remote -i 4 -p 0 -s "syncmode=sync,srcip=10.84.2.164,dstip=10.84.2.115,password=password"

administrator@cli> 
volume -i 4 -v
-------------------------------------------------------------------------------
Id: 4                                   Name: T_migrate_vol_4
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: 10
ExportedWWN: 2223000155798ba1           OperationalStatus: OK, Synchronizing
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-02 10:40:42
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Remote                         AdvRole: Source
AdvMode: Active-Active                  AdvProtocol: Sync
AdvStatus: Warning                      AdvProgress: 0.0

administrator@cli> 

Fail: please check out AdvKind: Reomte


Fail: please check out AdvStatus: Syncing


Expect: migrate of remote type should be started by default volues

migrate -a start -t remote -i 5 -p 0 -s "srcip=10.84.2.164,dstip=10.84.2.115,password=password"

administrator@cli> 
volume -i 5 -v
-------------------------------------------------------------------------------
Id: 5                                   Name: T_migrate_vol_5
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: 11
ExportedWWN: 22b50001550e8c91           OperationalStatus: OK, Synchronizing
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-02 10:40:42
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Remote                         AdvRole: Source
AdvMode: Active-Active                  AdvProtocol: Sync
AdvStatus: Warning                      AdvProgress: 0.0

administrator@cli> 

Fail: please check out AdvKind: Reomte


Fail: please check out AdvStatus: Syncing

'result': 'f'

Expect: allowip should be set by "ip=1.0.0.0, permission=ro, squash=root"

allowip -a add -t nasshare -d 0 -s "ip=1.0.0.0, permission=ro, squash=root"

administrator@cli> 
allowip -t nasshare -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         1.0.0.0                                 RO          root_squash      

administrator@cli> 

Expect: allowip should be set by "ip=126.255.255.254, permission=rw, squash=all"

allowip -a add -t nasshare -d 0 -s "ip=126.255.255.254, permission=rw, squash=all"

administrator@cli> 
allowip -t nasshare -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         1.0.0.0                                 RO          root_squash      
1         126.255.255.254                         RW          all_squash       

administrator@cli> 

Expect: allowip should be set by "ip=128.0.0.0, permission=ro, squash=root"

allowip -a add -t snapshot -d 0 -s "ip=128.0.0.0, permission=ro, squash=root"

administrator@cli> 
allowip -t snapshot -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         128.0.0.0                               RO          root_squash      

administrator@cli> 

Expect: allowip should be set by "ip=191.255.255.254, permission=rw, squash=noroot"

allowip -a add -t snapshot -d 0 -s "ip=191.255.255.254, permission=ro, squash=noroot"

administrator@cli> 
allowip -t snapshot -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         128.0.0.0                               RO          root_squash      
1         191.255.255.254                         RO          no_root_squash   

administrator@cli> 

Expect: allowip should be set by "ip=192.0.0.0, permission=ro, squash=all"

allowip -a add -t clone -d 0 -s "ip=192.0.0.0, permission=ro, squash=all"

administrator@cli> 
allowip -t clone -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         192.0.0.0                               RO          all_squash       

administrator@cli> 

Expect: allowip should be set by "ip=223.255.255.254, permission=rw, squash=root"

allowip -a add -t clone -d 0 -s "ip=223.255.255.254, permission=rw, squash=root"

administrator@cli> 
allowip -t clone -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         192.0.0.0                               RO          all_squash       
1         223.255.255.254                         RW          root_squash      

administrator@cli> 
'result': 'p'

Expect: list allowip settings on nasshare 0

allowip -t nasshare -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         1.0.0.0                                 RO          root_squash      
1         126.255.255.254                         RW          all_squash       

administrator@cli> 

Expect: list allowip settings on snapshot 0

allowip -t snapshot -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         128.0.0.0                               RO          root_squash      
1         191.255.255.254                         RO          no_root_squash   

administrator@cli> 

Expect: list allowip settings of clone 0

allowip -t clone -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         192.0.0.0                               RO          all_squash       
1         223.255.255.254                         RW          root_squash      

administrator@cli> 

Expect: list allowip settings on nasshare 0

allowip
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         1.0.0.0                                 RO          root_squash      
1         126.255.255.254                         RW          all_squash       

administrator@cli> 
'result': 'p'

Expect: list allowip settings on nasshare 1 by verbose moed

allowip -v -t nasshare -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         1.0.0.0                                 RO          root_squash      
1         126.255.255.254                         RW          all_squash       

administrator@cli> 

Expect: list allowip settings on snapshot 1 by verbose moed

allowip -v -t snapshot -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         128.0.0.0                               RO          root_squash      
1         191.255.255.254                         RO          no_root_squash   

administrator@cli> 

Expect: list allowip settings of clone 1 by verbose moed

allowip -v -t clone -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         192.0.0.0                               RO          all_squash       
1         223.255.255.254                         RW          root_squash      

administrator@cli> 
'result': 'p'

Expect: allowip of nasshare type should be modified by "ip=10.84.2.1, permission=rw, squash=root"

allowip -a mod -t nasshare -d 0 -i 0 -s "ip=10.84.2.1, permission=rw, squash=root"

administrator@cli> 
allowip -t nasshare -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         10.84.2.1                               RW          root_squash      
1         126.255.255.254                         RW          all_squash       

administrator@cli> 

Expect: allowip of nasshare type should be modified by "ip=10.84.2.2, permission=ro, squash=all"

allowip -a mod -t nasshare -d 0 -i 0 -s "ip=10.84.2.2, permission=ro, squash=all"

administrator@cli> 
allowip -t nasshare -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         10.84.2.2                               RO          all_squash       
1         126.255.255.254                         RW          all_squash       

administrator@cli> 

Expect: allowip of nasshare type should be modified by "ip=10.84.2.3, permission=rw, squash=noroot"

allowip -a mod -t nasshare -d 0 -i 0 -s "ip=10.84.2.3, permission=rw, squash=noroot"

administrator@cli> 
allowip -t nasshare -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         10.84.2.3                               RW          no_root_squash   
1         126.255.255.254                         RW          all_squash       

administrator@cli> 

Expect: allowip of snapshot type should be modified by "ip=10.84.2.1, permission=rw, squash=root"

allowip -a mod -t snapshot -d 0 -i 0 -s "ip=10.84.2.1, permission=ro, squash=root"

administrator@cli> 
allowip -t snapshot -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         10.84.2.1                               RO          root_squash      
1         191.255.255.254                         RO          no_root_squash   

administrator@cli> 

Expect: allowip of snapshot type should be modified by "ip=10.84.2.2, permission=ro, squash=all"

allowip -a mod -t snapshot -d 0 -i 0 -s "ip=10.84.2.2, permission=ro, squash=all"

administrator@cli> 
allowip -t snapshot -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         10.84.2.2                               RO          all_squash       
1         191.255.255.254                         RO          no_root_squash   

administrator@cli> 

Expect: allowip of snapshot type should be modified by "ip=10.84.2.3, permission=rw, squash=noroot"

allowip -a mod -t snapshot -d 0 -i 0 -s "ip=10.84.2.3, permission=ro, squash=noroot"

administrator@cli> 
allowip -t snapshot -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         10.84.2.3                               RO          no_root_squash   
1         191.255.255.254                         RO          no_root_squash   

administrator@cli> 

Expect: allowip of clone type should be modified by "ip=10.84.2.1, permission=rw, squash=root"

allowip -a mod -t clone -d 0 -i 0 -s "ip=10.84.2.1, permission=rw, squash=root"

administrator@cli> 
allowip -t clone -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         10.84.2.1                               RW          root_squash      
1         223.255.255.254                         RW          root_squash      

administrator@cli> 

Expect: allowip of clone type should be modified by "ip=10.84.2.2, permission=ro, squash=all"

allowip -a mod -t clone -d 0 -i 0 -s "ip=10.84.2.2, permission=ro, squash=all"

administrator@cli> 
allowip -t clone -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         10.84.2.2                               RO          all_squash       
1         223.255.255.254                         RW          root_squash      

administrator@cli> 

Expect: allowip of clone type should be modified by "ip=10.84.2.3, permission=rw, squash=noroot"

allowip -a mod -t clone -d 0 -i 0 -s "ip=10.84.2.3, permission=rw, squash=noroot"

administrator@cli> 
allowip -t clone -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         10.84.2.3                               RW          no_root_squash   
1         223.255.255.254                         RW          root_squash      

administrator@cli> 
'result': 'p'

Expect: index 0 of allowip should be deleted on nasshare 0

allowip -a del -t nasshare -d 0 -i 0

administrator@cli> 
allowip -t nasshare -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         126.255.255.254                         RW          all_squash       

administrator@cli> 

Expect: index 0 of allowip should be deleted on snapshot 0

allowip -a del -t snapshot -d 0 -i 0

administrator@cli> 
allowip -t snapshot -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         191.255.255.254                         RO          no_root_squash   

administrator@cli> 

Expect: index 0 of allowip should be deleted on clone 0

allowip -a del -t clone -d 0 -i 0

administrator@cli> 
allowip -t clone -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         223.255.255.254                         RW          root_squash      

administrator@cli> 
'result': 'p'

Expect: Invalid setting parameters

allowip test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid setting parameters

allowip -a test
Error (0x2013): Invalid setting parameters
-a: invalid setting test (list|add|mod|del|clear)

administrator@cli> 

Expect: Invalid setting parameters

allowip -a add -t test
Error (0x2013): Invalid setting parameters
-t: invalid setting test (nasshare|snapshot|clone)

administrator@cli> 

Expect: Invalid setting parameters

allowip -a add -t nasshare -d test
Error (0x2013): Invalid setting parameters
-d: invalid setting test

administrator@cli> 

Expect: Invalid setting parameters

allowip -a add -t nasshare -d 0 -s test
Error (0x2013): Invalid setting parameters
invalid option: ['test']

administrator@cli> 

Expect: Invalid setting parameters

allowip -a add -t nasshare -d 0 -s ""
Error (0x2013): Invalid setting parameters
invalid comma: ','

administrator@cli> 

Expect: Invalid setting parameters

allowip -a add -t nasshare -d 0 -s "ip=test,permission=ro,squash=root"
Error (0x2013): Invalid setting parameters
invalid allow_ip: test

administrator@cli> 

Expect: Invalid setting parameters

allowip -a add -t nasshare -d 0 -s "ip=256.255.255.255,permission=ro,squash=root"
Error (0x2013): Invalid setting parameters
invalid allow_ip: 256.255.255.255

administrator@cli> 

Expect: Invalid setting parameters

allowip -a add -t nasshare -d 0 -s "ip=255.256.255.255,permission=ro,squash=root"
Error (0x2013): Invalid setting parameters
invalid allow_ip: 255.256.255.255

administrator@cli> 

Expect: Invalid setting parameters

allowip -a add -t nasshare -d 0 -s "ip=255.255.256.255,permission=ro,squash=root"
Error (0x2013): Invalid setting parameters
invalid allow_ip: 255.255.256.255

administrator@cli> 

Expect: Invalid setting parameters

allowip -a add -t nasshare -d 0 -s "ip=255.255.255.256,permission=ro,squash=root"
Error (0x2013): Invalid setting parameters
invalid allow_ip: 255.255.255.256

administrator@cli> 

Expect: Invalid setting parameters

allowip -a add -t nasshare -d 0 -s "ip=255.255.255.255,permission=test,squash=root"
Error (0x2013): Invalid setting parameters
permission: invalid setting test (ro|rw)

administrator@cli> 

Expect: Invalid setting parameters

allowip -a add -t nasshare -d 0 -s "ip=255.255.255.255,permission=ro,squash=test"
Error (0x2013): Invalid setting parameters
squash: invalid setting test (all|root|noroot)

administrator@cli> 

Expect: Invalid setting parameters

allowip -a mod test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid setting parameters

allowip -a mod -t nasshare -d test
Error (0x2013): Invalid setting parameters
-d: invalid setting test

administrator@cli> 

Expect: Invalid setting parameters

allowip -a mod -t nasshare -d 0 -s ""
Error (0x2013): Invalid setting parameters
invalid comma: ','

administrator@cli> 

Expect: Invalid setting parameters

allowip -a mod -t nasshare -d 0 -s "ip=256.255.255.255,permission=ro,squash=root" -i 0
Error (0x2013): Invalid setting parameters
invalid allow_ip: 256.255.255.255

administrator@cli> 

Expect: Invalid setting parameters

allowip -a del test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid setting parameters

allowip -a del -t test
Error (0x2013): Invalid setting parameters
-t: invalid setting test (nasshare|snapshot|clone)

administrator@cli> 

Expect: NAS Share id=[100] is not existed

allowip -a del -t nasshare -d 100 -i 0
Error (0x4100102): Empty query result, please check input parameters. NAS Share id=[100] is not existed.

administrator@cli> 

Expect: Invalid setting parameters

allowip -a del -t nasshare -d 0 -i 100
Error (0x2013): Invalid setting parameters
invalid index settings

administrator@cli> 
'result': 'p'

Expect: Invalid option for the command or the action

allowip -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

allowip -a add -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

allowip -a add -t nasshare -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

allowip -a add -t nasshare -d 0 -s "test=255.255.255.255,permission=ro,squash=root"
Error (0x2012): Invalid option for the command or the action
-s: invalid option: test

administrator@cli> 

Expect: Invalid option for the command or the action

allowip -a add -t nasshare -d 0 -s "ip=255.255.255.255,test=ro,squash=root"
Error (0x2012): Invalid option for the command or the action
-s: invalid option: test

administrator@cli> 

Expect: Invalid option for the command or the action

allowip -a add -t nasshare -d 0 -s "ip=255.255.255.255,permission=ro,test=root"
Error (0x2012): Invalid option for the command or the action
-s: invalid option: test

administrator@cli> 

Expect: Invalid option for the command or the action

allowip -a mod -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

allowip -a mod -t nasshare -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

allowip -a mod -t nasshare -d 0 -s "test=255.255.255.255,permission=ro,squash=root" -i 0
Error (0x2012): Invalid option for the command or the action
-s: invalid option: test

administrator@cli> 

Expect: Invalid option for the command or the action

allowip -a del -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 
'result': 'p'

Expect: Missing parameter

allowip -t
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Expect: Missing parameter

allowip -a
Error (0x403): Missing parameter
-a: missing value

administrator@cli> 

Expect: Missing parameter

allowip -a add -t
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Expect: Missing parameter

allowip -a add -t nasshare -d 
Error (0x403): Missing parameter
-d: missing value

administrator@cli> 

Expect: Missing parameter

allowip -a add -t nasshare -d 0 -s 
Error (0x403): Missing parameter
-s: missing value

administrator@cli> 

Expect: Missing parameter

allowip -a add -t nasshare -d 0 -s "permission=ro,squash=root"
Error (0x403): Missing parameter
missing parameter 'ip' for '-a add'

administrator@cli> 

Expect: Missing parameter

allowip -a add -t nasshare -d 0 -s "ip=0.0.0.0,permission=ro"
Error (0x403): Missing parameter
missing parameter 'squash' for '-a add'

administrator@cli> 

Expect: Missing parameter

allowip -a add -t nasshare -d 0 -s "ip=255.255.255.255,squash=root"
Error (0x403): Missing parameter
missing parameter 'permission' for '-a add'

administrator@cli> 

Expect: Missing parameter

allowip -a mod
Error (0x403): Missing parameter
missing parameter '-t' for '-a mod'

administrator@cli> 

Expect: Missing parameter

allowip -a mod -t nasshare -d
Error (0x403): Missing parameter
-d: missing value

administrator@cli> 

Expect: Missing parameter

allowip -a mod -t nasshare -d 0 -s
Error (0x403): Missing parameter
-s: missing value

administrator@cli> 

Expect: Missing parameter

allowip -a del
Error (0x403): Missing parameter
missing parameter '-t' for '-a del'

administrator@cli> 

Expect: Missing parameter

allowip -a del -t
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Expect: Missing parameter

allowip -a del -t nasshare -d
Error (0x403): Missing parameter
-d: missing value

administrator@cli> 

Expect: Missing parameter

allowip -a del -t nasshare -d 0 -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 
'result': 'p'

Expect: wcache should be created dedication for pool 0

wcache -a add -p 5,6 -i 0

administrator@cli> 
wcache
-------------------------------------------------------------------------------
Status: ONLINE
dedicate to pool: 0
 
Physical Drives in Cache
===============================================================================
PdId Model       Type     CfgCapacity Location      OpStatus   ConfigStatus    
===============================================================================
5    INTEL       SAS SSD  31 GB       Encl1 Slot5   OK         WriteCache      
6    SSD U110    SAS SSD  31 GB       Encl1 Slot6   OK         WriteCache      
     32GB                                                                      

administrator@cli> 
'result': 'p'

Expect: 1. wcache should be modified dedication for pool 1 and pd_list is 6,16

wcache -a mod -p 5,16 -i 1

administrator@cli> 
wcache
-------------------------------------------------------------------------------
Status: ONLINE
dedicate to pool: 1
 
Physical Drives in Cache
===============================================================================
PdId Model       Type     CfgCapacity Location      OpStatus   ConfigStatus    
===============================================================================
5    INTEL       SAS SSD  31 GB       Encl1 Slot5   OK         WriteCache      
16   SSDSA2SH032 SAS SSD  31 GB       Encl1 Slot16  OK         WriteCache      
     G1GN                                                                      

administrator@cli> 
'result': 'p'

Expect: wcache should be created

wcache -a add -p 5,6

administrator@cli> 
wcache
-------------------------------------------------------------------------------
Status: WAIT_ASSIGN
dedicate to pool: 
 
Physical Drives in Cache
===============================================================================
PdId Model       Type     CfgCapacity Location      OpStatus   ConfigStatus    
===============================================================================
5    INTEL       SAS SSD  31 GB       Encl1 Slot5   OK         WriteCache      
6    SSD U110    SAS SSD  31 GB       Encl1 Slot6   OK         WriteCache      
     32GB                                                                      

administrator@cli> 
'result': 'p'

Expect: wcache and pd informaiont should be listed

wcache
-------------------------------------------------------------------------------
Status: WAIT_ASSIGN
dedicate to pool: 
 
Physical Drives in Cache
===============================================================================
PdId Model       Type     CfgCapacity Location      OpStatus   ConfigStatus    
===============================================================================
5    INTEL       SAS SSD  31 GB       Encl1 Slot5   OK         WriteCache      
6    SSD U110    SAS SSD  31 GB       Encl1 Slot6   OK         WriteCache      
     32GB                                                                      

administrator@cli> 
'result': 'p'

Expect: wcache should be deleted

wcache -a del

administrator@cli> 
wcache
no cache in system

administrator@cli> 
'result': 'p'

Expect: Invalid setting parameters

wcache test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid setting parameters

wcache -a test
Error (0x2013): Invalid setting parameters
-a: invalid setting test (list|add|del|mod)

administrator@cli> 

Expect: Invalid setting parameters

wcache -a add test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid setting parameters

wcache -a add -p test
Error (0x2013): Invalid setting parameters
-p: invalid setting test

administrator@cli> 

Expect: Invalid setting parameters

wcache -a add -p 0
Error (0x2013): Invalid setting parameters
-p: invalid setting 0 (1,512)

administrator@cli> 

Expect: Invalid setting parameters

wcache -a add -p -1
Error (0x2013): Invalid setting parameters
-p: invalid setting -1

administrator@cli> 

Expect: Invalid setting parameters

wcache -a add -p 5,6 -i test
Error (0x2013): Invalid setting parameters
-i: invalid setting test

administrator@cli> 

Expect: Invalid setting parameters

wcache -a mod test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid setting parameters

wcache -a mod -i test
Error (0x2013): Invalid setting parameters
-i: invalid setting test

administrator@cli> 

Expect: Invalid setting parameters

wcache -a mod -i -1
Error (0x2013): Invalid setting parameters
-i: invalid setting -1

administrator@cli> 

Expect: Invalid physical drive type

wcache -a mod -p 1,2
Error (0x4027): Invalid physical drive type
only SSD type drive can be used

administrator@cli> 

Expect: Invalid setting parameters

wcache -a del test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid setting parameters

wcache -a del -p test
Error (0x2013): Invalid setting parameters
-p: invalid setting test

administrator@cli> 

Expect: Invalid setting parameters

wcache -a del -p 0
Error (0x2013): Invalid setting parameters
-p: invalid setting 0 (1,512)

administrator@cli> 
'result': 'p'

Expect: Invalid option for the command or the action

wcache -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

wcache -a add -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

wcache -a del -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

wcache -a mod -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 
'result': 'p'

Expect: Missing parameter

wcache -a 
Error (0x403): Missing parameter
-a: missing value

administrator@cli> 

Expect: Missing parameter

wcache -a add 
Error (0x403): Missing parameter
missing parameter '-p' for '-a add'

administrator@cli> 

Expect: Missing parameter

wcache -a add -p 
Error (0x403): Missing parameter
-p: missing value

administrator@cli> 

Expect: Invalid parameter

wcache -a mod
Error (0x402): Invalid parameter
Please specify the pool list or PD list.

administrator@cli> 

Expect: Missing parameter

wcache -a mod -i  
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 
'result': 'p'

Expect: rcache should be created by one pd

rcache -a add -p 5

administrator@cli> 
rcache
-------------------------------------------------------------------------------
Status: ONLINE
 
Physical Drives in Cache
===============================================================================
PdId Model       Type     CfgCapacity Location      OpStatus   ConfigStatus    
===============================================================================
5    INTEL       SAS SSD  31 GB       Encl1 Slot5   OK         ReadCache       

administrator@cli> 
'result': 'p'

Expect: rcache should be created by one pd

rcache -a add -p 5,6,16

administrator@cli> 
rcache
-------------------------------------------------------------------------------
Status: ONLINE
 
Physical Drives in Cache
===============================================================================
PdId Model       Type     CfgCapacity Location      OpStatus   ConfigStatus    
===============================================================================
5    INTEL       SAS SSD  31 GB       Encl1 Slot5   OK         ReadCache       
6    SSD U110    SAS SSD  31 GB       Encl1 Slot6   OK         ReadCache       
     32GB                                                                      
16   SSDSA2SH032 SAS SSD  31 GB       Encl1 Slot16  OK         ReadCache       
     G1GN                                                                      

administrator@cli> 
'result': 'p'

Expect: rcache and pd informaiont should be listed

rcache
-------------------------------------------------------------------------------
Status: ONLINE
 
Physical Drives in Cache
===============================================================================
PdId Model       Type     CfgCapacity Location      OpStatus   ConfigStatus    
===============================================================================
5    INTEL       SAS SSD  31 GB       Encl1 Slot5   OK         ReadCache       
6    SSD U110    SAS SSD  31 GB       Encl1 Slot6   OK         ReadCache       
     32GB                                                                      
16   SSDSA2SH032 SAS SSD  31 GB       Encl1 Slot16  OK         ReadCache       
     G1GN                                                                      

administrator@cli> 
'result': 'p'

Expect: rcache should minus two pd

rcache -a del -p 6,16

administrator@cli> 
rcache
-------------------------------------------------------------------------------
Status: ONLINE
 
Physical Drives in Cache
===============================================================================
PdId Model       Type     CfgCapacity Location      OpStatus   ConfigStatus    
===============================================================================
5    INTEL       SAS SSD  31 GB       Encl1 Slot5   OK         ReadCache       

administrator@cli> 

Expect: rcache should minus one pd

rcache -a del -p 5

administrator@cli> 
rcache
no cache in system

administrator@cli> 
'result': 'p'

Expect: Invalid setting parameters

rcache test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid setting parameters

rcache -a test
Error (0x2013): Invalid setting parameters
-a: invalid setting test (list|add|del)

administrator@cli> 

Expect: Invalid setting parameters

rcache -a add test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid setting parameters

rcache -a add -p test
Error (0x2013): Invalid setting parameters
-p: invalid setting test

administrator@cli> 

Expect: Invalid setting parameters

rcache -a add -p 0
Error (0x2013): Invalid setting parameters
-p: invalid setting 0 (1,512)

administrator@cli> 

Expect: Invalid setting parameters

rcache -a add -p -1
Error (0x2013): Invalid setting parameters
-p: invalid setting -1

administrator@cli> 

Expect: Invalid setting parameters

rcache -a del test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid setting parameters

rcache -a del -p test
Error (0x2013): Invalid setting parameters
-p: invalid setting test

administrator@cli> 

Expect: Invalid setting parameters

rcache -a del -p 0
Error (0x2013): Invalid setting parameters
-p: invalid setting 0 (1,512)

administrator@cli> 

Expect: Fail to delete Read Cache

rcache -a del -p 3
Error (0x4100107): Fail to delete Read Cache.

administrator@cli> 
'result': 'p'

Expect: Invalid option for the command or the action

rcache -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

rcache -a add -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

rcache -a del -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 
'result': 'p'

Expect: Missing parameter

rcache -a 
Error (0x403): Missing parameter
-a: missing value

administrator@cli> 

Expect: Missing parameter

rcache -a add 
Error (0x403): Missing parameter
missing parameter '-p' for '-a add'

administrator@cli> 

Expect: Missing parameter

rcache -a add -p 
Error (0x403): Missing parameter
-p: missing value

administrator@cli> 

Expect: Missing parameter

rcache -a del 
Error (0x403): Missing parameter
missing parameter '-p' for '-a del'

administrator@cli> 

Expect: Missing parameter

rcache -a del -p  
Error (0x403): Missing parameter
-p: missing value

administrator@cli> 
'result': 'p'

Expect: spare should be added

spare -a add -t g -r y -p 11

administrator@cli> 
spare
===============================================================================
Id    Status    PdId    Capacity    Revertible    Type      DedicatedToPool    
===============================================================================
0     OK        11      2 TB        Yes           Global    N/A                

administrator@cli> 

Expect: rebuild should start

phydrv -a offline -p 1

administrator@cli> 
rb
-------------------------------------------------------------------------------
PoolId: 0
===============================================================================
PdId                    Percentage                   Status                    
===============================================================================
11                      0                            Running                   

administrator@cli> 

Expect: clean up environment

phydrv -a clear -p 1 -t staleconfig

administrator@cli> 
phydrv -p 1
===============================================================================
PdId Model       Type     CfgCapacity Location      OpStatus   ConfigStatus    
===============================================================================
1    HUS723020AL SAS HDD  2 TB        Encl1 Slot1   OK         Unconfigured    
     S640                                                                      

administrator@cli> 
'result': 'p'

Expect: spare should be added

spare -a add -t d -d 0 -r n -p 12

administrator@cli> 
spare
===============================================================================
Id    Status    PdId    Capacity    Revertible   Type        DedicatedToPool   
===============================================================================
0     OK        12      4 TB        No           Dedicated   0                 

administrator@cli> 

Expect: rebuild should do not start

phydrv -a offline -p 4

administrator@cli> 
rb
This background activity is not running.
administrator@cli> 

Expect: rebuild should start

phydrv -a offline -p 1

administrator@cli> 
rb
-------------------------------------------------------------------------------
PoolId: 0
===============================================================================
PdId                    Percentage                   Status                    
===============================================================================
12                      0                            Running                   

administrator@cli> 

Expect: clean up environment

phydrv -a clear -p 1 -t staleconfig

administrator@cli> 
phydrv -p 1
===============================================================================
PdId Model       Type     CfgCapacity Location      OpStatus   ConfigStatus    
===============================================================================
1    HUS723020AL SAS HDD  2 TB        Encl1 Slot1   OK         Unconfigured    
     S640                                                                      

administrator@cli> 

Expect: delete pool 0

pool -a del -f -y -i 0

administrator@cli> 
spare
No spare drive exists

administrator@cli> 
'result': 'p'

Expect: all of spare drives should be listed

spare
===============================================================================
Id    Status    PdId    Capacity    Revertible   Type        DedicatedToPool   
===============================================================================
0     OK        4       4 TB        No           Global      N/A               
1     OK        9       4 TB        Yes          Dedicated   0                 

administrator@cli> 

Expect: spare 0 drives should be listed

spare -i 0
===============================================================================
Id    Status    PdId    Capacity    Revertible    Type      DedicatedToPool    
===============================================================================
0     OK        4       4 TB        No            Global    N/A                

administrator@cli> 

Expect: spare 1 spare drives should be listed

spare -i 1
===============================================================================
Id    Status    PdId    Capacity    Revertible   Type        DedicatedToPool   
===============================================================================
1     OK        9       4 TB        Yes          Dedicated   0                 

administrator@cli> 
'result': 'p'

Expect: all of spare drives should be listed by verbose mode

spare -v
-------------------------------------------------------------------------------
Id: 0                                   PdId: 4
Type: Global                            Revertible: No
PhysicalCapacity: 4 TB                  Status: OK
PoolList: N/A
-------------------------------------------------------------------------------
Id: 1                                   PdId: 9
Type: Dedicated                         Revertible: Yes
PhysicalCapacity: 4 TB                  Status: OK
PoolList: 0

administrator@cli> 

Expect: spare 0 drives should be listed by verbose mode

spare -v -i 0
-------------------------------------------------------------------------------
Id: 0                                   PdId: 4
Type: Global                            Revertible: No
PhysicalCapacity: 4 TB                  Status: OK
PoolList: N/A

administrator@cli> 

Expect: spare 1 spare drives should be listed by verbose mode

spare -v -i 1
-------------------------------------------------------------------------------
Id: 1                                   PdId: 9
Type: Dedicated                         Revertible: Yes
PhysicalCapacity: 4 TB                  Status: OK
PoolList: 0

administrator@cli> 
'result': 'p'

Expect: spare 0 should be deleted

spare -a del -i 0

administrator@cli> 
spare
===============================================================================
Id    Status    PdId    Capacity    Revertible   Type        DedicatedToPool   
===============================================================================
1     OK        9       4 TB        Yes          Dedicated   0                 

administrator@cli> 

Expect: spare 1 should be deleted

spare -a del -i 1

administrator@cli> 
spare
No spare drive exists

administrator@cli> 
'result': 'p'

Expect: Physical drive in use

spare -a add -t g -r n -p 1
Error (0x4021): Physical drive in use
Physical drive in use

administrator@cli> 

Expect: Invalid setting parameters

spare test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid setting parameters

spare -i 257
Error (0x2013): Invalid setting parameters
-i: invalid setting 257 (0,256)

administrator@cli> 

Expect: Invalid setting parameters

spare -a add -t test
Error (0x2013): Invalid setting parameters
-t: invalid setting test (g|d)

administrator@cli> 

Expect: Physical drive not found

spare -a add -t g -p 512
Error (0x4020): Physical drive not found
Physical drive not found

administrator@cli> 

Expect: Invalid setting parameters

spare -a add -t g -p 513
Error (0x2013): Invalid setting parameters
-p: invalid setting 513 (0,512)

administrator@cli> 

Expect: Invalid setting parameters

spare -a add -t d -d 31 -p 12
Error (0x2013): Invalid setting parameters
specified pool not found

administrator@cli> 

Expect: Invalid setting parameters

spare -a add -t d -d 32 -p 12
Error (0x2013): Invalid setting parameters
-d: invalid setting 32 (0,31)

administrator@cli> 

Expect: Invalid setting parameters

spare -a add -t d -d 33 -p 12
Error (0x2013): Invalid setting parameters
-d: invalid setting 33 (0,31)

administrator@cli> 

Expect: Invalid setting parameters

spare -a add -t g -r test
Error (0x2013): Invalid setting parameters
-r: invalid setting test (y|n)

administrator@cli> 

Expect: Invalid setting parameters

spare -a add -t g -d test
Error (0x2013): Invalid setting parameters
-d: invalid setting test

administrator@cli> 

Expect: Invalid setting parameters

spare -a del test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid spare id

spare -a del -i 256
Error (0x49840C02): Invalid disk array id or spare id
Invalid disk array id or spare id

administrator@cli> 

Fail: please check out Invalid spare id


Expect: Invalid setting parameters

spare -a del -i 257
Error (0x2013): Invalid setting parameters
-i: invalid setting 257 (0,256)

administrator@cli> 
'result': 'f'

Expect: invalid option: -test

spare -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: invalid option: -test

spare -a add -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: invalid option: -test

spare -a add -t g -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: invalid option: -test

spare -a add -t g -d 0 -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: invalid option: -test

spare -a del -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 
'result': 'p'

Expect: Missing parameter

spare -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 

Expect: Missing parameter

spare -d
Error (0x403): Missing parameter
-d: missing value

administrator@cli> 

Expect: Missing parameter

spare -a
Error (0x403): Missing parameter
-a: missing value

administrator@cli> 

Expect: Missing parameter

spare -v -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 

Expect: Missing parameter

spare -a add 
Error (0x403): Missing parameter
missing parameter '-p' for '-a add'

administrator@cli> 

Expect: Missing parameter

spare -a add -t
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Expect: Missing parameter

spare -a add -t g 
Error (0x403): Missing parameter
missing parameter '-p' for '-a add'

administrator@cli> 

Expect: Missing parameter

spare -a add -t g -r
Error (0x403): Missing parameter
-r: missing value

administrator@cli> 

Expect: Missing parameter

spare -a add -t g -r n
Error (0x403): Missing parameter
missing parameter '-p' for '-a add'

administrator@cli> 

Expect: Missing parameter

spare -a add -t g -r n -p
Error (0x403): Missing parameter
-p: missing value

administrator@cli> 

Expect: Missing parameter

spare -a add -t d -d
Error (0x403): Missing parameter
-d: missing value

administrator@cli> 

Expect: Missing parameter

spare -a add -t d -d 0
Error (0x403): Missing parameter
missing parameter '-p' for '-a add'

administrator@cli> 

Expect: Missing parameter

spare -a add -t d -d 0 -p
Error (0x403): Missing parameter
-p: missing value

administrator@cli> 

Expect: Missing parameter

spare -a del
Error (0x403): Missing parameter
missing parameter '-i' for '-a del'

administrator@cli> 

Expect: Missing parameter

spare -a del -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 
'result': 'p'

Expect: migrate should be started by "syncmode=async"

migrate -a start -t local -i 2 -p 1 -s "syncmode=async"
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: migrate -a start -t local -i 2 -p 1 -s "syncmode=async"


Expect: migrate should be started by "syncmode=semi-sync"

migrate -a start -t local -i 3 -p 1 -s "syncmode=semi-sync"
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: migrate -a start -t local -i 3 -p 1 -s "syncmode=semi-sync"


Expect: migrate should be started by "syncmode=sync"

migrate -a start -t local -i 4 -p 0 -s "syncmode=sync"

administrator@cli> 
volume -i 8 -v
-------------------------------------------------------------------------------
Id: 8                                   Name: T_migrate_vol_4_migrate
PoolId: 0                               PoolName: T_migrate_0
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
PoolAvailableCapacity: 107.22 GB        UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-02 19:31:01
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Active                  AdvProtocol: Sync
AdvStatus: Warning                      AdvProgress: 0.0

administrator@cli> 

Fail: please check out AdvStatus: Syncing


Expect: migrate should be started by default volues

migrate -a start -t local -i 5 -p 0

administrator@cli> 
volume -i 5 -v
-------------------------------------------------------------------------------
Id: 5                                   Name: T_migrate_vol_5
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: -1
ExportedWWN: 22a7000155423090           OperationalStatus: OK, Synchronizing
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-02 19:30:45
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Source
AdvMode: Active-Active                  AdvProtocol: Sync
AdvStatus: Warning                      AdvProgress: 0.0

administrator@cli> 

Fail: please check out AdvStatus: Syncing

'result': 'f'

Expect: migrate of remote type should be started by "syncmode=async"

migrate -a start -t remote -i 2 -p 0 -s "syncmode=async,srcip=10.84.2.164,dstip=10.84.2.115,password=password"
Error (0x4100104): Incorrect parameters: Can not find meta device info by zp250204/ds238902 1.

administrator@cli> 

Fail: migrate -a start -t remote -i 2 -p 0 -s "syncmode=async,srcip=10.84.2.164,dstip=10.84.2.115,password=password"


Expect: migrate of remote type should be started by "syncmode=semi-sync"

migrate -a start -t remote -i 3 -p 0 -s "syncmode=semi-sync,srcip=10.84.2.164,dstip=10.84.2.115,password=password"
Error (0x4100104): Incorrect parameters: Can not find meta device info by zp250204/ds799830 1.

administrator@cli> 

Fail: migrate -a start -t remote -i 3 -p 0 -s "syncmode=semi-sync,srcip=10.84.2.164,dstip=10.84.2.115,password=password"


Expect: migrate of remote type should be started by "syncmode=sync"

migrate -a start -t remote -i 4 -p 0 -s "syncmode=sync,srcip=10.84.2.164,dstip=10.84.2.115,password=password"
Error (0x4100102): Empty query result, please check input parameters. Volume id=[4] is not existed.

administrator@cli> 

Fail: migrate -a start -t remote -i 4 -p 0 -s "syncmode=sync,srcip=10.84.2.164,dstip=10.84.2.115,password=password"


Expect: migrate of remote type should be started by default volues

migrate -a start -t remote -i 5 -p 0 -s "srcip=10.84.2.164,dstip=10.84.2.115,password=password"
Error (0x4100104): Incorrect parameters: Only exported volume can be migrated.

administrator@cli> 

Fail: migrate -a start -t remote -i 5 -p 0 -s "srcip=10.84.2.164,dstip=10.84.2.115,password=password"

'result': 'f'

Expect: Invalid setting parameters

migrate test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid setting parameters

migrate -a test
Error (0x2013): Invalid setting parameters
-a: invalid setting test (start|stop)

administrator@cli> 

Expect: destination pool capacity should be more than soure volume

migrate -a start -t local -i 0 -p 3
Error (0x4100102): Empty query result, please check input parameters. Volume id=[0] is not existed.

administrator@cli> 

Fail: please check out Fail to execute this method


Expect: specify nonexistent source volume

migrate -a start -t local -i 100 -p 0
Error (0x4100102): Empty query result, please check input parameters. Volume id=[100] is not existed.

administrator@cli> 

Expect: specify nonexistent destination pool

migrate -a start -t local -i 0 -p 10
Error (0x4100102): Empty query result, please check input parameters. Volume id=[0] is not existed.

administrator@cli> 

Fail: please check out Pool id=[10] is not existed


Expect: thin provision volume cannot become source volume

migrate -a start -t local -i 1 -p 1
Error (0x4100102): Empty query result, please check input parameters. Volume id=[1] is not existed.

administrator@cli> 

Fail: please check out Volume is not full-provision


Expect: Can not migrate Volume to the same Pool

migrate -a start -t local -i 0 -p 2
Error (0x4100102): Empty query result, please check input parameters. Volume id=[0] is not existed.

administrator@cli> 

Fail: please check out Can not migrate Volume to the same Pool


Expect: should hint error when specify wrong sync mode

migrate -a start -t local -i 0 -p 1 -s "syncmode=test"
Error (0x2013): Invalid setting parameters
syncmode: invalid setting test (async|semi-sync|sync)

administrator@cli> 

Expect: should hint error when specify wrong sync mode

migrate -a start -t remote -i 0 -p 0 -s "syncmode=t,srcip=10.84.2.164,dstip=10.84.2.115, password=password"
Error (0x2013): Invalid setting parameters
syncmode: invalid setting t (async|semi-sync|sync)

administrator@cli> 

Fail: please check out invalid setting test (async|semi-sync|sync)


Expect: ip nonconformity

migrate -a start -t remote -i 0 -p 0 -s "srcip=256.0.0.1,dstip=10.0.0.2, password=password"
Error (0x4100102): Empty query result, please check input parameters. Volume id=[0] is not existed.

administrator@cli> 

Expect: ip nonconformity

migrate -a start -t remote -i 0 -p 0 -s "srcip=10.256.0.1,dstip=10.0.0.2, password=password"
Error (0x4100102): Empty query result, please check input parameters. Volume id=[0] is not existed.

administrator@cli> 

Expect: ip nonconformity

migrate -a start -t remote -i 0 -p 0 -s "srcip=10.0.256.1,dstip=10.0.0.2, password=password"
Error (0x4100102): Empty query result, please check input parameters. Volume id=[0] is not existed.

administrator@cli> 

Expect: ip nonconformity

migrate -a start -t remote -i 0 -p 0 -s "srcip=10.0.0.256,dstip=10.0.0.2, password=password"
Error (0x4100102): Empty query result, please check input parameters. Volume id=[0] is not existed.

administrator@cli> 

Expect: specify nonexistent destination host

migrate -a start -t remote -i 0 -p 0 -s "srcip=10.84.2.164,dstip=10.0.254.2, password=password"
Error (0x4100102): Empty query result, please check input parameters. Volume id=[0] is not existed.

administrator@cli> 

Expect: specify nonexistent source host

migrate -a start -t remote -i 0 -p 0 -s "srcip=10.84.254.164,dstip=10.84.1.115, password=password"
Error (0x4100102): Empty query result, please check input parameters. Volume id=[0] is not existed.

administrator@cli> 

Expect: Invalid setting parameters

migrate -a stop -i test
Error (0x2013): Invalid setting parameters
-i: invalid setting test

administrator@cli> 

Expect: migrate should not stop by destination volume

migrate -a stop -i 9
Error (0x4100102): Empty query result, please check input parameters. Volume id=[9] is not existed.

administrator@cli> 

Fail: please check out Incorrect parameters


Fail: please check out zp254243d


Expect: Volume id=[20] is not existed

migrate -a stop -i 20
Error (0x4100102): Empty query result, please check input parameters. Volume id=[20] is not existed.

administrator@cli> 
'result': 'f'

Expect: migrate should be started by "syncmode=async"

migrate -a start -t local -i 2 -p 1 -s "syncmode=async"
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: migrate -a start -t local -i 2 -p 1 -s "syncmode=async"


Expect: migrate should be started by "syncmode=semi-sync"

migrate -a start -t local -i 3 -p 1 -s "syncmode=semi-sync"
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: migrate -a start -t local -i 3 -p 1 -s "syncmode=semi-sync"


Expect: migrate should be started by "syncmode=sync"

migrate -a start -t local -i 4 -p 0 -s "syncmode=sync"

administrator@cli> 
volume -i 8 -v
-------------------------------------------------------------------------------
Id: 8                                   Name: T_migrate_vol_4_migrate
PoolId: 0                               PoolName: T_migrate_0
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
PoolAvailableCapacity: 107.22 GB        UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-03 15:00:22
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Active                  AdvProtocol: Sync
AdvStatus: Warning                      AdvProgress: 0.0

administrator@cli> 

Fail: please check out AdvStatus: Syncing


Expect: migrate should be started by default volues

migrate -a start -t local -i 5 -p 0

administrator@cli> 
volume -i 5 -v
-------------------------------------------------------------------------------
Id: 5                                   Name: T_migrate_vol_5
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: 5
ExportedWWN: 227c0001550b13e7           OperationalStatus: OK, Synchronizing
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-03 15:00:06
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Source
AdvMode: Active-Active                  AdvProtocol: Sync
AdvStatus: Syncing                      AdvProgress: 3.4

administrator@cli> 
'result': 'f'

Expect: migrate of remote type should be started by "syncmode=async"

migrate -a start -t remote -i 2 -p 0 -s "syncmode=async,srcip=10.84.2.164,dstip=10.84.2.115,password=password"
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: migrate -a start -t remote -i 2 -p 0 -s "syncmode=async,srcip=10.84.2.164,dstip=10.84.2.115,password=password"


Expect: migrate of remote type should be started by "syncmode=semi-sync"

migrate -a start -t remote -i 3 -p 0 -s "syncmode=semi-sync,srcip=10.84.2.164,dstip=10.84.2.115,password=password"
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: migrate -a start -t remote -i 3 -p 0 -s "syncmode=semi-sync,srcip=10.84.2.164,dstip=10.84.2.115,password=password"


Expect: migrate of remote type should be started by "syncmode=sync"

migrate -a start -t remote -i 4 -p 0 -s "syncmode=sync,srcip=10.84.2.164,dstip=10.84.2.115,password=password"

administrator@cli> 
volume -i 4 -v
-------------------------------------------------------------------------------
Id: 4                                   Name: T_migrate_vol_4
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: -1
ExportedWWN: 22aa000155456c7a           OperationalStatus: OK, Synchronizing
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
PoolAvailableCapacity: 7.27 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-03 15:00:05
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Remote                         AdvRole: Source
AdvMode: Active-Active                  AdvProtocol: Sync
AdvStatus: Warning                      AdvProgress: 0.0

administrator@cli> 

Fail: please check out AdvStatus: Syncing


Expect: migrate of remote type should be started by default volues

migrate -a start -t remote -i 5 -p 0 -s "srcip=10.84.2.164,dstip=10.84.2.115,password=password"

administrator@cli> 
volume -i 5 -v
-------------------------------------------------------------------------------
Id: 5                                   Name: T_migrate_vol_5
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: 7
ExportedWWN: 227c0001550b13e7           OperationalStatus: OK, Synchronizing
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
PoolAvailableCapacity: 7.27 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-03 15:00:06
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Remote                         AdvRole: Source
AdvMode: Active-Active                  AdvProtocol: Sync
AdvStatus: Syncing                      AdvProgress: 0.5

administrator@cli> 
'result': 'f'

Expect: migrate should be started by "syncmode=async"

migrate -a start -t local -i 2 -p 1 -s "syncmode=async"
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: migrate -a start -t local -i 2 -p 1 -s "syncmode=async"


Expect: migrate should be started by "syncmode=semi-sync"

migrate -a start -t local -i 3 -p 1 -s "syncmode=semi-sync"
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: migrate -a start -t local -i 3 -p 1 -s "syncmode=semi-sync"


Expect: migrate should be started by "syncmode=sync"

migrate -a start -t local -i 4 -p 0 -s "syncmode=sync"

administrator@cli> 
volume -i 8 -v
-------------------------------------------------------------------------------
Id: 8                                   Name: T_migrate_vol_4_migrate
PoolId: 0                               PoolName: T_migrate_0
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
PoolAvailableCapacity: 106.94 GB        UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-03 20:33:47
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Active                  AdvProtocol: Sync
AdvStatus: Syncing                      AdvProgress: 0.9

administrator@cli> 

Expect: migrate should be started by default volues

migrate -a start -t local -i 5 -p 0

administrator@cli> 
volume -i 5 -v
-------------------------------------------------------------------------------
Id: 5                                   Name: T_migrate_vol_5
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: 7
ExportedWWN: 2231000155cbb18a           OperationalStatus: OK, Synchronizing
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-03 20:32:37
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Source
AdvMode: Active-Active                  AdvProtocol: Sync
AdvStatus: Warning                      AdvProgress: 0.0

administrator@cli> 

Fail: please check out AdvStatus: Syncing

'result': 'f'

Expect: periodsnap of volume type should be added by "starthour=0, endhour=1, keepnum=1"

periodsnap -a add -t volume -d 0 -s "starthour=0, endhour=1, keepnum=1"
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: periodsnap -a add -t volume -d 0 -s "starthour=0, endhour=1, keepnum=1"


Expect: periodsnap of volume type should be added by "interval=5,starthour=1, endhour=2, keepnum=1"

periodsnap -a add -t volume -d 1 -s "interval=5,starthour=1, endhour=2, keepnum=1"
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: periodsnap -a add -t volume -d 1 -s "interval=5,starthour=1, endhour=2, keepnum=1"


Expect: periodsnap of volume type should be added by "interval=10,starthour=2, endhour=3, keepnum=2,status=disable,recurtype=daily"

periodsnap -a add -t volume -d 2 -s "interval=10,starthour=2, endhour=3, keepnum=2,status=disable,recurtype=daily"
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: periodsnap -a add -t volume -d 2 -s "interval=10,starthour=2, endhour=3, keepnum=2,status=disable,recurtype=daily"


Expect: periodsnap of volume type should be added by "interval=15,starthour=3, endhour=4, keepnum=127,status=enable,recurtype=daily"

periodsnap -a add -t volume -d 3 -s "interval=15,starthour=3, endhour=4, keepnum=127,status=enable,recurtype=daily"
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: periodsnap -a add -t volume -d 3 -s "interval=15,starthour=3, endhour=4, keepnum=127,status=enable,recurtype=daily"


Expect: periodsnap of volume type should be added by "interval=30,starthour=4, endhour=5, keepnum=128"

periodsnap -a add -t volume -d 4 -s "interval=30,starthour=4, endhour=5, keepnum=128"
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: periodsnap -a add -t volume -d 4 -s "interval=30,starthour=4, endhour=5, keepnum=128"


Expect: periodsnap of volume type should be added by "interval=60,starthour=5, endhour=6, keepnum=127"

periodsnap -a add -t volume -d 5 -s "interval=60,starthour=5, endhour=6, keepnum=127"
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: periodsnap -a add -t volume -d 5 -s "interval=60,starthour=5, endhour=6, keepnum=127"


Expect: periodsnap of volume type should be added by "interval=120,starthour=6, endhour=7, keepnum=128"

periodsnap -a add -t volume -d 6 -s "interval=120,starthour=6, endhour=7, keepnum=128"
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: periodsnap -a add -t volume -d 6 -s "interval=120,starthour=6, endhour=7, keepnum=128"


Expect: periodsnap of volume type should be added by "interval=240,starthour=7, endhour=8, keepnum=127"

periodsnap -a add -t volume -d 7 -s "interval=240,starthour=7, endhour=8, keepnum=127"
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: periodsnap -a add -t volume -d 7 -s "interval=240,starthour=7, endhour=8, keepnum=127"


Expect: periodsnap of volume type should be added by "interval=360,starthour=8, endhour=9, keepnum=128"

periodsnap -a add -t volume -d 8 -s "interval=360,starthour=8, endhour=9, keepnum=128"
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: periodsnap -a add -t volume -d 8 -s "interval=360,starthour=8, endhour=9, keepnum=128"


Expect: periodsnap of volume type should be added by "interval=480,starthour=9, endhour=10, keepnum=127"

periodsnap -a add -t volume -d 9 -s "interval=480,starthour=9, endhour=10, keepnum=127"
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: periodsnap -a add -t volume -d 9 -s "interval=480,starthour=9, endhour=10, keepnum=127"


Expect: periodsnap of volume type should be added by "starthour=0, endhour=12, keepnum=1"

periodsnap -a add -t nasshare -d 0 -s "starthour=0, endhour=12, keepnum=1"
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: periodsnap -a add -t nasshare -d 0 -s "starthour=0, endhour=12, keepnum=1"


Expect: periodsnap of volume type should be added by "interval=720,starthour=12, endhour=13, keepnum=2,status=disable,recurtype=daily"

periodsnap -a add -t nasshare -d 1 -s "interval=720,starthour=12, endhour=13, keepnum=2,status=disable,recurtype=daily"
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: periodsnap -a add -t nasshare -d 1 -s "interval=720,starthour=12, endhour=13, keepnum=2,status=disable,recurtype=daily"


Expect: periodsnap of volume type should be added by "interval=1400,starthour=18, endhour=19, keepnum=128"

periodsnap -a add -t nasshare -d 2 -s "interval=1440,starthour=18, endhour=19, keepnum=128,status=enable"
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: periodsnap -a add -t nasshare -d 2 -s "interval=1440,starthour=18, endhour=19, keepnum=128,status=enable"


Expect: periodsnap of volume type should be added by "starthour=0,keepnum=128,status=disable,recurtype=weekly,dow=sun"

periodsnap -a add -t volume -d 10 -s "starthour=0,keepnum=128,status=disable,recurtype=weekly,dow=sun"
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: periodsnap -a add -t volume -d 10 -s "starthour=0,keepnum=128,status=disable,recurtype=weekly,dow=sun"


Expect: periodsnap of volume type should be added by "starthour=1,keepnum=127,status=enable,recurtype=weekly,dow=mon"

periodsnap -a add -t volume -d 11 -s "starthour=1,keepnum=127,status=enable,recurtype=weekly,dow=mon"
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: periodsnap -a add -t volume -d 11 -s "starthour=1,keepnum=127,status=enable,recurtype=weekly,dow=mon"


Expect: periodsnap of volume type should be added by "starthour=2,keepnum=128,status=disable,recurtype=weekly,dow=tues"

periodsnap -a add -t volume -d 12 -s "starthour=2,keepnum=128,status=disable,recurtype=weekly,dow=tues"
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: periodsnap -a add -t volume -d 12 -s "starthour=2,keepnum=128,status=disable,recurtype=weekly,dow=tues"


Expect: periodsnap of volume type should be added by "starthour=20,keepnum=127,status=enable,recurtype=weekly,dow=wed"

periodsnap -a add -t nasshare -d 3 -s "starthour=20,keepnum=127,status=enable,recurtype=weekly,dow=wed"
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: periodsnap -a add -t nasshare -d 3 -s "starthour=20,keepnum=127,status=enable,recurtype=weekly,dow=wed"


Expect: periodsnap of volume type should be added by "starthour=21,keepnum=128,status=disable,recurtype=weekly,dow=thur"

periodsnap -a add -t nasshare -d 4 -s "starthour=21,keepnum=128,status=disable,recurtype=weekly,dow=thur"
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: periodsnap -a add -t nasshare -d 4 -s "starthour=21,keepnum=128,status=disable,recurtype=weekly,dow=thur"


Expect: periodsnap of volume type should be added by "starthour=22,keepnum=127,recurtype=weekly,dow=fri"

periodsnap -a add -t nasshare -d 5 -s "starthour=22,keepnum=127,recurtype=weekly,dow=fri"
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: periodsnap -a add -t nasshare -d 5 -s "starthour=22,keepnum=127,recurtype=weekly,dow=fri"


Expect: periodsnap of volume type should be added by "starthour=23,keepnum=128,,recurtype=weekly,dow=sat"

periodsnap -a add -t nasshare -d 6 -s "starthour=23,keepnum=128,recurtype=weekly,dow=sat fri"
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: periodsnap -a add -t nasshare -d 6 -s "starthour=23,keepnum=128,recurtype=weekly,dow=sat fri"


Expect: periodsnap of volume type should be added by "starthour=0,keepnum=128,,recurtype=weekly"

periodsnap -a add -t nasshare -d 7 -s "starthour=0,keepnum=128,recurtype=weekly"
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: periodsnap -a add -t nasshare -d 7 -s "starthour=0,keepnum=128,recurtype=weekly"

'result': 'f'

Expect: Missing parameter

periodsnap -t 
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Expect: Missing parameter

periodsnap -t nasshare -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 

Expect: Missing parameter

periodsnap -t volume -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 

Expect: Missing parameter

periodsnap -a add
Error (0x403): Missing parameter
missing parameter '-t' for '-a add'

administrator@cli> 

Expect: Missing parameter

periodsnap -a add -t 
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Expect: Missing parameter

periodsnap -a add -t nasshare 
Error (0x403): Missing parameter
missing parameter '-s' for '-a add'

administrator@cli> 

Expect: Missing parameter

periodsnap -a add -t nasshare -d 9 
Error (0x403): Missing parameter
missing parameter '-s' for '-a add'

administrator@cli> 

Expect: Missing parameter

periodsnap -a add -t nasshare -d 9 -s 
Error (0x403): Missing parameter
-s: missing value

administrator@cli> 

Expect: Missing parameter

periodsnap -a add -t volume -d 14 -s
Error (0x403): Missing parameter
-s: missing value

administrator@cli> 

Expect: Missing parameter

periodsnap -a mod
Error (0x403): Missing parameter
missing parameter '-s' for '-a mod'

administrator@cli> 

Expect: Missing parameter

periodsnap -a mod -i 
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 

Expect: Missing parameter

periodsnap -a mod -i 1 
Error (0x403): Missing parameter
missing parameter '-s' for '-a mod'

administrator@cli> 

Expect: Missing parameter

periodsnap -a mod -i 1 -s 
Error (0x403): Missing parameter
-s: missing value

administrator@cli> 

Expect: Missing parameter

periodsnap -a del
Error (0x403): Missing parameter
missing parameter '-i' for '-a del'

administrator@cli> 

Expect: Missing parameter

periodsnap -a del -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 
'result': 'p'

Expect: replication should be started by "name=T, syncmode=async"

replication -a start -i 2 -p 1 -s "name=T, syncmode=async"
Error (0x4100102): Empty query result, please check input parameters. Volume id=[2] is not existed.

administrator@cli> 

Fail: replication -a start -i 2 -p 1 -s "name=T, syncmode=async"


Expect: replication should be started by "name=t2, syncmode=semi-sync"


Expect: replication should be started by "name=T, syncmode=async"

replication -a start -i 3 -p 1 -s "name=t2, syncmode=semi-sync"

administrator@cli> 
replication -a start -i 2 -p 1 -s "name=T, syncmode=async"

administrator@cli> 

Expect: Missing parameter

replication -a
Error (0x403): Missing parameter
-a: missing value

administrator@cli> 

Expect: Missing parameter

replication -a start
Error (0x403): Missing parameter
missing parameter '-s' for '-a start'

administrator@cli> 

Expect: Missing parameter

replication -a start -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 

Expect: Missing parameter

replication -a start -i 1 -p
Error (0x403): Missing parameter
-p: missing value

administrator@cli> 

Expect: Missing parameter

replication -a start -i 0 -p 2 -s
Error (0x403): Missing parameter
-s: missing value

administrator@cli> 

Expect: Missing parameter

replication -a stop
Error (0x403): Missing parameter
missing parameter '-i' for '-a stop'

administrator@cli> 

Expect: Missing parameter

replication -a stop -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 

Expect: Missing parameter

replication -a pause
Error (0x403): Missing parameter
missing parameter '-i' for '-a pause'

administrator@cli> 

Expect: Missing parameter

replication -a pause -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 

Expect: Missing parameter

replication -a resume
Error (0x403): Missing parameter
missing parameter '-i' for '-a resume'

administrator@cli> 

Expect: Missing parameter

replication -a resume -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 
'result': 'p'

Expect: replication should be started by "name=T, syncmode=async"

replication -a start -i 2 -p 1 -s "name=T, syncmode=async"

administrator@cli> 
volume -i 6 -v
-------------------------------------------------------------------------------
Id: 6                                   Name: T
PoolId: 1                               PoolName: T_replication_1
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 4 GB                     UsedCapacity: 4 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-05 15:06:58
PreferCtrlId: 2                         AdvType: Replication
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Async
AdvStatus: Creating                     AdvProgress: 0.0

administrator@cli> 

Fail: please check out AdvStatus: Syncing


Expect: replication should be started by "name=t2, syncmode=semi-sync"

replication -a start -i 3 -p 1 -s "name=t2, syncmode=semi-sync"

administrator@cli> 
volume -i 7 -v
-------------------------------------------------------------------------------
Id: 7                                   Name: t2
PoolId: 1                               PoolName: T_replication_1
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 4 GB                     UsedCapacity: 4 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-05 15:07:02
PreferCtrlId: 2                         AdvType: Replication
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Semi-Sync
AdvStatus: Syncing                      AdvProgress: 0.3

administrator@cli> 

Expect: replication should be started by "name=test_Test_Test_Test_Test_Test31, syncmode=sync"

replication -a start -i 4 -p 0 -s "name=test_Test_Test_Test_Test_Test31, syncmode=sync"

administrator@cli> 
volume -i 8 -v
-------------------------------------------------------------------------------
Id: 8                                   Name: test_Test_Test_Test_Test_Test31
PoolId: 0                               PoolName: T_replication_0
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
PoolAvailableCapacity: 107.22 GB        UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-05 15:07:06
PreferCtrlId: 2                         AdvType: Replication
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Syncing                      AdvProgress: 5.1

administrator@cli> 

Expect: replication should be started by "name=test_Test_Test_Test_Test_Test_32"

replication -a start -i 5 -p 0 -s "name=test_Test_Test_Test_Test_Test_32"

administrator@cli> 
volume -i 5 -v
-------------------------------------------------------------------------------
Id: 5                                   Name: T_replication_vol_5
PoolId: 1                               PoolName: T_replication_1
Status: Exported                        ExportedId: 7
ExportedWWN: 22e1000155f76341           OperationalStatus: OK, Synchronizing
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-05 15:06:58
PreferCtrlId: 2                         AdvType: Replication
AdvKind: Local                          AdvRole: Source
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Syncing                      AdvProgress: 2.1

administrator@cli> 
'result': 'f'

Expect: Max 4 pairs of replication

replication -a start -i 0 -p 0 -s "name=firth_replica"
Error (0x4100104): Incorrect parameters: Support maximum 4 local replication!

administrator@cli> 

Expect: destination volume should not be exported

volume -a export -i 6
Error (0x4100104): Incorrect parameters: Destination volume of replication in Active_Passive mode cannot be exported.

administrator@cli> 

Expect: destination volume should not be expanded

volume -a mod -i 6 -s "capacity=6GB"
Error (0x4100104): Incorrect parameters: Volume is replication or migration Volume.

administrator@cli> 

Expect: destination volume should not be modified

volume -a mod -i 6 -s "name=no_way"
Error (0x4100104): Incorrect parameters: Volume is replication or migration Volume.

administrator@cli> 

Expect: destination volume should not create snapshot

snapshot -a add -t volume -d 6 -s "name=test_replica"
Error (0x4100104): Incorrect parameters: Destination volume of replication or migration cannot create snapshot.

administrator@cli> 

Expect: destination volume should not be added for lunmap

lunmap -a add -p volume -i 0 -l 6 -m 2
Error (0x402): Invalid parameter
The volume/snapshot/clone is un-exported

administrator@cli> 

Expect: destination volume should not be deleted

volume -a del -i 6
Error (0x4100104): Incorrect parameters: Volume is replication or migration Volume.

administrator@cli> 

Expect: source volume should not be expanded

volume -a mod -i 2 -s "capacity=5GB"
Error (0x4100104): Incorrect parameters: Volume is replication or migration Volume.

administrator@cli> 

Expect: source volume should not be deleted

volume -a del -i 2
Error (0x4100104): Incorrect parameters: Volume is replication or migration Volume.

administrator@cli> 

Expect: source pool should not be deleted

pool -a del -i 1 -f -y
Error (0x4100104): Incorrect parameters: There are replication or migration Volume in the Pool.

administrator@cli> 

Expect: destination pool should not be deleted

pool -a del -i 0 -f -y
Error (0x4100104): Incorrect parameters: There are replication or migration Volume in the Pool.

administrator@cli> 
'result': 'p'

Expect: all of replication should be listed

replication
===============================================================================
SrcVol         DestVol        Location  TotalCap  UsedCap   Status         
===============================================================================
T_replication_ test_Test_Test Local     1 GB      1 GB      Syncing            
vol_5          _Test_Test_Tes                                                  
               t_32                                                            
T_replication_ test_Test_Test Local     1 GB      1 GB      OK                 
vol_4          _Test_Test_Tes                                                  
               t31                                                             
T_replication_ t2             Local     4 GB      4 GB      Syncing            
vol_3                                                                          
T_replication_ T              Local     4 GB      4 GB      Syncing            
vol_2                                                                          

administrator@cli> 
'result': 'p'

Expect: all of replication should be listed by verbose mode

replication -a list -v
-------------------------------------------------------------------------------
Location: Local                         Role: Destination
Mode: Active-Passive                    SyncMode: Sync
Status: Syncing                         Description: Syncing.
Progress: 89.6                          SourceVolumeId: 5
SourceVolumeName: T_replication_vol_5   SourcePoolName: T_replication_1
SourcePortalIP: 10.128.0.2              DestinationVolumeId: 9
DestinationVolumeName: test_Test_Test_Test_Test_Test_32
DestinationPoolName: T_replication_0    DestinationPortalIP: 10.128.0.2
Enable: 1                               Period: 0
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
-------------------------------------------------------------------------------
Location: Local                         Role: Destination
Mode: Active-Passive                    SyncMode: Sync
Status: OK                              Description: Ready.
Progress: 100.0                         SourceVolumeId: 4
SourceVolumeName: T_replication_vol_4   SourcePoolName: T_replication_1
SourcePortalIP: 10.128.0.2              DestinationVolumeId: 8
DestinationVolumeName: test_Test_Test_Test_Test_Test31
DestinationPoolName: T_replication_0    DestinationPortalIP: 10.128.0.2
Enable: 1                               Period: 0
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
-------------------------------------------------------------------------------
Location: Local                         Role: Source
Mode: Active-Passive                    SyncMode: Semi-Sync
Status: Syncing                         Description: Syncing.
Progress: 42.5                          SourceVolumeId: 3
SourceVolumeName: T_replication_vol_3   SourcePoolName: T_replication_0
SourcePortalIP: 10.128.0.2              DestinationVolumeId: 7
DestinationVolumeName: t2               DestinationPoolName: T_replication_1
DestinationPortalIP: 10.128.0.2         Enable: 1
Period: 0                               TotalCapacity: 4 GB
UsedCapacity: 4 GB
-------------------------------------------------------------------------------
Location: Local                         Role: Source
Mode: Active-Passive                    SyncMode: Async
Status: Syncing                         Description: Syncing.
Progress: 49.1                          SourceVolumeId: 2
SourceVolumeName: T_replication_vol_2   SourcePoolName: T_replication_0
SourcePortalIP: 10.128.0.2              DestinationVolumeId: 6
DestinationVolumeName: T                DestinationPoolName: T_replication_1
DestinationPortalIP: 10.128.0.2         Enable: 1
Period: 0                               TotalCapacity: 4 GB
UsedCapacity: 4 GB

administrator@cli> 
'result': 'p'

Expect: specific replication should be stopped

replication -a stop -i 2

administrator@cli> 
volume -v -i 6
-------------------------------------------------------------------------------
Id: 6                                   Name: T
PoolId: 1                               PoolName: T_replication_1
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 4 GB                     UsedCapacity: 4 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-05 15:06:58
PreferCtrlId: 2                         AdvType: 

administrator@cli> 
'result': 'p'

Expect: replication should be paused by source volume

replication -a pause -i 3

administrator@cli> 
replication
===============================================================================
SrcVol         DestVol        Location  TotalCap  UsedCap   Status         
===============================================================================
T_replication_ test_Test_Test Local     1 GB      1 GB      OK                 
vol_5          _Test_Test_Tes                                                  
               t_32                                                            
T_replication_ test_Test_Test Local     1 GB      1 GB      OK                 
vol_4          _Test_Test_Tes                                                  
               t31                                                             
T_replication_ t2             Local     4 GB      4 GB      Pause              
vol_3                                                                          

administrator@cli> 
'result': 'p'

Expect: replication should be resumed

replication -a resume -i 3

administrator@cli> 
replication
===============================================================================
SrcVol         DestVol        Location  TotalCap  UsedCap   Status         
===============================================================================
T_replication_ test_Test_Test Local     1 GB      1 GB      OK                 
vol_5          _Test_Test_Tes                                                  
               t_32                                                            
T_replication_ test_Test_Test Local     1 GB      1 GB      OK                 
vol_4          _Test_Test_Tes                                                  
               t31                                                             
T_replication_ t2             Local     4 GB      4 GB      Creating           
vol_3                                                                          

administrator@cli> 
'result': 'p'

Expect: replication help document should be displayed

replication -h
replication

Usage:
   replication [-a <action>] [-i <ID>] [-p <pool ID>] [-s <settings>]

Summary:
   The replication command allows the user to replicate volume into another
   pool.
   Only with thin-provision disabled volume can be used to replicate. During
   replication in progress, source volume cannot be expanded or removed;
   destination volume disallowed to do any operations.

Options:

-a <action>           Which action to perform.
   list               (Default) Displays the replication status.
   start              Start a specific replication status.
   stop               Stop the replication
   pause              Pause the replication
   resume             Resume a paused replication

-i <ID>               Source volume ID.

-p <pool id>          Destination pool ID.
                      Only valid for -a add specified

-s "<option>=<value>"
                      Used to specify replication settings.
                      Only valid for -a add specified

   name=              Destination volume name

   syncmode=          sync mode method
     async
     semi-sync
     sync             (Default)

-v                    Verbose mode.  Used with -a list.

Examples:
   replication -a list
   replication -a start -i 1 -p 0 -s "name=test, syncmode=async"
   replication -a stop -i 2
   replication -a pause -i i
   replication -a resume -i 1
Type ' | grep "word1,word2,..."' at the end of each command, to display 
filtered info.

administrator@cli> 
'result': 'p'

Expect: Invalid setting parameters

replication test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid setting parameters

replication -a test
Error (0x2013): Invalid setting parameters
-a: invalid setting test (list|start|stop|pause|resume)

administrator@cli> 

Expect: destination pool capacity should be more than soure volume

replication -a start -i 0 -p 3 -s "name=test_capacity"
Error (0x4100104): Incorrect parameters: Destination Pool availiable size is not enough.

administrator@cli> 

Expect: specify nonexistent source volume

replication -a start -i 100 -p 0 -s "name=test_thin"
Error (0x4100102): Empty query result, please check input parameters. Volume id=[100] is not existed.

administrator@cli> 

Expect: specify nonexistent destination pool

replication -a start -i 0 -p 10 -s "name=test_thin"
Error (0x4100102): Empty query result, please check input parameters. Pool id=[10] is not existed.

administrator@cli> 

Expect: thin provision volume cannot become source volume

replication -a start -i 1 -p 0 -s "name=test_thin"
Error (0x4100104): Incorrect parameters: Volume is not full-provision.

administrator@cli> 

Expect: Can not replicate Volume to the same Pool

replication -a start -i 0 -p 2 -s "name=test_thin"
Error (0x4100104): Incorrect parameters: Can not replicate Volume to the same Pool.

administrator@cli> 

Expect: name contain only alphanumeric characters and underscores

replication -a start -i 0 -p 1 -s "name="
Error (0x2013): Invalid setting parameters
name contain only alphanumeric characters and underscores

administrator@cli> 

Expect: name contain only alphanumeric characters and underscores

replication -a start -i 0 -p 1 -s "name=t*&"
Error (0x2013): Invalid setting parameters
name contain only alphanumeric characters and underscores

administrator@cli> 

Expect: should hint error when name shall not exceed 32 characters

replication -a start -i 0 -p 1 -s "name=test_test_test_test_test_test_033"
Error (0x2014): Setting parameters too long
name shall not exceed 32 characters

administrator@cli> 

Expect: should hint error when specify wrong sync mode

replication -a start -i 0 -p 1 -s "name=test,syncmode=test"
Error (0x2013): Invalid setting parameters
syncmode: invalid setting test (async|semi-sync|sync)

administrator@cli> 

Expect: Invalid setting parameters

replication -a stop -i test
Error (0x2013): Invalid setting parameters
-i: invalid setting test

administrator@cli> 

Expect: replication should not stop by destination volume

replication -a stop -i 9
Error (0x4100104): Incorrect parameters: Can not find meta device info by zp949805/ds290036 1.

administrator@cli> 

Fail: please check out zp254243d


Expect: Volume id=[20] is not existed

replication -a stop -i 20
Error (0x4100102): Empty query result, please check input parameters. Volume id=[20] is not existed.

administrator@cli> 

Expect: Invalid setting parameters

replication -a pause -i test
Error (0x2013): Invalid setting parameters
-i: invalid setting test

administrator@cli> 

Expect: replication should not pause by destination volume

replication -a pause -i 9
Error (0x4100104): Incorrect parameters: Only source Volume can be paused.

administrator@cli> 

Expect: Volume id=[20] is not existed

replication -a pause -i 20
Error (0x4100102): Empty query result, please check input parameters. Volume id=[20] is not existed.

administrator@cli> 

Expect: Invalid setting parameters

replication -a resume -i test
Error (0x2013): Invalid setting parameters
-i: invalid setting test

administrator@cli> 

Expect: should hint replication doesn't pause

replication -a resume -i 4
Error (0x4100104): Incorrect parameters: This replication is not paused.

administrator@cli> 

Expect: Invalid setting parameters

replication -a resume -i 9
Error (0x4100104): Incorrect parameters: This replication is not paused.

administrator@cli> 

Expect: Volume id=[20] is not existed

replication -a resume -i 20
Error (0x4100102): Empty query result, please check input parameters. Volume id=[20] is not existed.

administrator@cli> 
'result': 'f'

Expect: invalid option: -test

replication -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: invalid option: -test

replication -a -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: invalid option: -test

replication -a start -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: invalid option: test

replication -a start -i 0 -p 1 -s "test=test,syncmode=test"
Error (0x2012): Invalid option for the command or the action
-s: invalid option: test

administrator@cli> 

Expect: invalid option: test

replication -a start -i 0 -p 1 -s "name=test,test=sync"
Error (0x2012): Invalid option for the command or the action
-s: invalid option: test

administrator@cli> 

Expect: invalid option: -test

replication -a stop -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: invalid option: -test

replication -a pause -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: invalid option: -test

replication -a resume -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 
'result': 'p'

Expect: Missing parameter

replication -a
Error (0x403): Missing parameter
-a: missing value

administrator@cli> 

Expect: Missing parameter

replication -a start
Error (0x403): Missing parameter
missing parameter '-s' for '-a start'

administrator@cli> 

Expect: Missing parameter

replication -a start -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 

Expect: Missing parameter

replication -a start -i 1 -p
Error (0x403): Missing parameter
-p: missing value

administrator@cli> 

Expect: Missing parameter

replication -a start -i 0 -p 2 -s
Error (0x403): Missing parameter
-s: missing value

administrator@cli> 

Expect: Missing parameter

replication -a stop
Error (0x403): Missing parameter
missing parameter '-i' for '-a stop'

administrator@cli> 

Expect: Missing parameter

replication -a stop -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 

Expect: Missing parameter

replication -a pause
Error (0x403): Missing parameter
missing parameter '-i' for '-a pause'

administrator@cli> 

Expect: Missing parameter

replication -a pause -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 

Expect: Missing parameter

replication -a resume
Error (0x403): Missing parameter
missing parameter '-i' for '-a resume'

administrator@cli> 

Expect: Missing parameter

replication -a resume -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 
'result': 'p'

Expect: allowip should be set by "ip=1.0.0.0, permission=ro, squash=root"

allowip -a add -t nasshare -d 0 -s "ip=1.0.0.0, permission=ro, squash=root"

administrator@cli> 
allowip -t nasshare -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         1.0.0.0                                 ro          root_squash      

administrator@cli> 

Expect: allowip should be set by "ip=126.255.255.254, permission=rw, squash=all"

allowip -a add -t nasshare -d 0 -s "ip=126.255.255.254, permission=rw, squash=all"

administrator@cli> 
allowip -t nasshare -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         1.0.0.0                                 ro          root_squash      
1         126.255.255.254                         rw          all_squash       

administrator@cli> 

Expect: allowip should be set by "ip=128.0.0.0, permission=ro, squash=root"

allowip -a add -t snapshot -d 0 -s "ip=128.0.0.0, permission=ro, squash=root"
Error (0x4100104): Incorrect parameters: Permission of snapshot should be Read-Only.

administrator@cli> 

Fail: allowip -a add -t snapshot -d 0 -s "ip=128.0.0.0, permission=ro, squash=root"


Expect: allowip should be set by "ip=191.255.255.254, permission=rw, squash=noroot"

allowip -a add -t snapshot -d 0 -s "ip=191.255.255.254, permission=ro, squash=noroot"
Error (0x4100104): Incorrect parameters: Permission of snapshot should be Read-Only.

administrator@cli> 

Fail: allowip -a add -t snapshot -d 0 -s "ip=191.255.255.254, permission=ro, squash=noroot"


Expect: allowip should be set by "ip=192.0.0.0, permission=ro, squash=all"

allowip -a add -t clone -d 0 -s "ip=192.0.0.0, permission=ro, squash=all"

administrator@cli> 
allowip -t clone -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         192.0.0.0                               ro          all_squash       

administrator@cli> 

Expect: allowip should be set by "ip=223.255.255.254, permission=rw, squash=root"

allowip -a add -t clone -d 0 -s "ip=223.255.255.254, permission=rw, squash=root"

administrator@cli> 
allowip -t clone -d 0
===============================================================================
Index     AllowIP                                 Permission  Squash         
===============================================================================
0         192.0.0.0                               ro          all_squash       
1         223.255.255.254                         rw          root_squash      

administrator@cli> 
'result': 'f'

Expect: Missing parameter

allowip -t
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Expect: Missing parameter

allowip -a
Error (0x403): Missing parameter
-a: missing value

administrator@cli> 

Expect: Missing parameter

allowip -a add -t
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Expect: Missing parameter

allowip -a add -t nasshare -d 
Error (0x403): Missing parameter
-d: missing value

administrator@cli> 

Expect: Missing parameter

allowip -a add -t nasshare -d 0 -s 
Error (0x403): Missing parameter
-s: missing value

administrator@cli> 

Expect: Missing parameter

allowip -a add -t nasshare -d 0 -s "permission=ro,squash=root"
Error (0x403): Missing parameter
missing parameter 'ip' for '-a add'

administrator@cli> 

Expect: Missing parameter

allowip -a add -t nasshare -d 0 -s "ip=0.0.0.0,permission=ro"
Error (0x403): Missing parameter
missing parameter 'squash' for '-a add'

administrator@cli> 

Expect: Missing parameter

allowip -a add -t nasshare -d 0 -s "ip=255.255.255.255,squash=root"
Error (0x403): Missing parameter
missing parameter 'permission' for '-a add'

administrator@cli> 

Expect: Missing parameter

allowip -a mod
Error (0x403): Missing parameter
missing parameter '-t' for '-a mod'

administrator@cli> 

Expect: Missing parameter

allowip -a mod -t nasshare -d
Error (0x403): Missing parameter
-d: missing value

administrator@cli> 

Expect: Missing parameter

allowip -a mod -t nasshare -d 0 -s
Error (0x403): Missing parameter
-s: missing value

administrator@cli> 

Expect: Missing parameter

allowip -a del
Error (0x403): Missing parameter
missing parameter '-t' for '-a del'

administrator@cli> 

Expect: Missing parameter

allowip -a del -t
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Expect: Missing parameter

allowip -a del -t nasshare -d
Error (0x403): Missing parameter
-d: missing value

administrator@cli> 

Expect: Missing parameter

allowip -a del -t nasshare -d 0 -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 
'result': 'p'

Expect: migrate should be started by "syncmode=async"

migrate -a start -t local -i 2 -p 1 -s "syncmode=async"
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: migrate -a start -t local -i 2 -p 1 -s "syncmode=async"


Expect: migrate should be started by "syncmode=semi-sync"

migrate -a start -t local -i 3 -p 1 -s "syncmode=semi-sync"
Error (0x4100999): Fail to execute this method.

administrator@cli> 

Fail: migrate -a start -t local -i 3 -p 1 -s "syncmode=semi-sync"


Expect: migrate should be started by "syncmode=sync"

migrate -a start -t local -i 4 -p 0 -s "syncmode=sync"

administrator@cli> 
volume -i 8 -v
-------------------------------------------------------------------------------
Id: 8                                   Name: T_migrate_vol_4_migrate
PoolId: 0                               PoolName: T_migrate_0
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 2 GB                     UsedCapacity: 2 GB
PoolAvailableCapacity: 112.10 GB        UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-08 16:23:14
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Active                  AdvProtocol: Sync
AdvStatus: Creating                     AdvProgress: 0.0

administrator@cli> 

Fail: please check out AdvStatus: Syncing


Expect: migrate should be started by default volues

migrate -a start -t local -i 5 -p 0

administrator@cli> 
volume -i 5 -v
-------------------------------------------------------------------------------
Id: 5                                   Name: T_migrate_vol_5
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: -1
ExportedWWN: 2259000155e420ba           OperationalStatus: OK, Synchronizing
TotalCapacity: 2 GB                     UsedCapacity: 2 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-08 16:22:43
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Source
AdvMode: Active-Active                  AdvProtocol: Sync
AdvStatus: Creating                     AdvProgress: 0

administrator@cli> 

Fail: please check out AdvStatus: Syncing


Expect: source volume should be delete

volume -i 2 -v
-------------------------------------------------------------------------------
Id: 2                                   Name: T_migrate_vol_2
PoolId: 0                               PoolName: T_migrate_0
Status: Exported                        ExportedId: 2
ExportedWWN: 22c0000155cd1db7           OperationalStatus: OK, Synchronizing
TotalCapacity: 999.95 MB                UsedCapacity: 999.95 MB
PoolAvailableCapacity: 110.03 GB        UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 0 Byte
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 1
MaxSnapshotCount: 1024                  CreateDate: 2018-01-08 16:22:41
PreferCtrlId: 2                         AdvType: 

administrator@cli> 
volume -i 2 -v
-------------------------------------------------------------------------------
Id: 2                                   Name: T_migrate_vol_2
PoolId: 0                               PoolName: T_migrate_0
Status: Exported                        ExportedId: 2
ExportedWWN: 22c0000155cd1db7           OperationalStatus: OK, Synchronizing
TotalCapacity: 999.95 MB                UsedCapacity: 999.95 MB
PoolAvailableCapacity: 110.03 GB        UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 0 Byte
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 1
MaxSnapshotCount: 1024                  CreateDate: 2018-01-08 16:22:41
PreferCtrlId: 2                         AdvType: 

administrator@cli> 

Fail: please check out No volume exists

'result': 'f'

Expect: migrate should be started by "syncmode=async"

migrate -a start -t local -i 2 -p 1 -s "syncmode=async"

administrator@cli> 
volume -i 6 -v
-------------------------------------------------------------------------------
Id: 6                                   Name: T_migrate_vol_2_migrate
PoolId: 1                               PoolName: T_migrate_1
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 999.95 MB                UsedCapacity: 999.95 MB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 16:44:30
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Async
AdvStatus: Creating                     AdvProgress: 0.0

administrator@cli> 

Fail: please check out AdvMode: Active-Active


Fail: please check out AdvStatus: Syncing


Expect: migrate should be started by "syncmode=semi-sync"

migrate -a start -t local -i 3 -p 1 -s "syncmode=semi-sync"

administrator@cli> 
volume -i 7 -v
-------------------------------------------------------------------------------
Id: 7                                   Name: T_migrate_vol_3_migrate
PoolId: 1                               PoolName: T_migrate_1
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 999.95 MB                UsedCapacity: 999.95 MB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 16:44:41
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Semi-Sync
AdvStatus: Creating                     AdvProgress: 0.0

administrator@cli> 

Fail: please check out AdvMode: Active-Active


Fail: please check out AdvStatus: Syncing


Expect: migrate should be started by "syncmode=sync"

migrate -a start -t local -i 4 -p 0 -s "syncmode=sync"

administrator@cli> 
volume -i 8 -v
-------------------------------------------------------------------------------
Id: 8                                   Name: T_migrate_vol_4_migrate
PoolId: 0                               PoolName: T_migrate_0
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 2 GB                     UsedCapacity: 2 GB
PoolAvailableCapacity: 112.10 GB        UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 16:44:53
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Creating                     AdvProgress: 0.0

administrator@cli> 

Fail: please check out AdvMode: Active-Active


Fail: please check out AdvStatus: Syncing


Expect: migrate should be started by default volues

migrate -a start -t local -i 5 -p 0

administrator@cli> 
volume -i 5 -v
-------------------------------------------------------------------------------
Id: 5                                   Name: T_migrate_vol_5
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: -1
ExportedWWN: 22bd0001556ee0f8           OperationalStatus: OK, Synchronizing
TotalCapacity: 2 GB                     UsedCapacity: 2 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 16:44:28
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Source
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Creating                     AdvProgress: 0

administrator@cli> 

Fail: please check out AdvMode: Active-Active


Fail: please check out AdvStatus: Syncing


Expect: source volume should be delete

volume -i 2 -v
-------------------------------------------------------------------------------
Id: 2                                   Name: T_migrate_vol_2
PoolId: 0                               PoolName: T_migrate_0
Status: Exported                        ExportedId: 2
ExportedWWN: 229e000155827537           OperationalStatus: OK, Synchronizing
TotalCapacity: 999.95 MB                UsedCapacity: 999.95 MB
PoolAvailableCapacity: 110.03 GB        UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 0 Byte
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 1
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 16:44:26
PreferCtrlId: 2                         AdvType: 

administrator@cli> 
volume -i 2 -v
-------------------------------------------------------------------------------
Id: 2                                   Name: T_migrate_vol_2
PoolId: 0                               PoolName: T_migrate_0
Status: Exported                        ExportedId: 2
ExportedWWN: 229e000155827537           OperationalStatus: OK, Synchronizing
TotalCapacity: 999.95 MB                UsedCapacity: 999.95 MB
PoolAvailableCapacity: 110.03 GB        UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 0 Byte
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 1
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 16:44:26
PreferCtrlId: 2                         AdvType: 

administrator@cli> 

Fail: please check out No volume exists

'result': 'f'

Expect: migrate of remote type should be started by "syncmode=async"

migrate -a start -t remote -i 2 -p 0 -s "syncmode=async,srcip=10.84.2.164,dstip=10.84.2.115,password=password"

administrator@cli> 
volume -i 2 -v
-------------------------------------------------------------------------------
Id: 2                                   Name: T_migrate_vol_2
PoolId: 0                               PoolName: T_migrate_0
Status: Exported                        ExportedId: 2
ExportedWWN: 229e000155827537           OperationalStatus: OK, Synchronizing
TotalCapacity: 999.95 MB                UsedCapacity: 999.95 MB
PoolAvailableCapacity: 110.03 GB        UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 0 Byte
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 2
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 16:44:26
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Remote                         AdvRole: Source
AdvMode: Active-Passive                 AdvProtocol: Async
AdvStatus: Creating                     AdvProgress: 0

administrator@cli> 

Fail: please check out AdvMode: Active-Active


Fail: please check out AdvStatus: Syncing


Expect: migrate of remote type should be started by "syncmode=semi-sync"

migrate -a start -t remote -i 3 -p 0 -s "syncmode=semi-sync,srcip=10.84.2.164,dstip=10.84.2.115,password=password"

administrator@cli> 
volume -i 3 -v
-------------------------------------------------------------------------------
Id: 3                                   Name: T_migrate_vol_3
PoolId: 0                               PoolName: T_migrate_0
Status: Exported                        ExportedId: 3
ExportedWWN: 22c8000155e25a63           OperationalStatus: OK, Synchronizing
TotalCapacity: 999.95 MB                UsedCapacity: 999.95 MB
PoolAvailableCapacity: 111.22 GB        UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 16:44:27
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Remote                         AdvRole: Source
AdvMode: Active-Passive                 AdvProtocol: Semi-Sync
AdvStatus: Creating                     AdvProgress: 0

administrator@cli> 

Fail: please check out AdvMode: Active-Active


Fail: please check out AdvStatus: Syncing


Expect: migrate of remote type should be started by "syncmode=sync"

migrate -a start -t remote -i 4 -p 0 -s "syncmode=sync,srcip=10.84.2.164,dstip=10.84.2.115,password=password"
Error (0x4100102): Empty query result, please check input parameters. Volume id=[4] is not existed.

administrator@cli> 

Fail: migrate -a start -t remote -i 4 -p 0 -s "syncmode=sync,srcip=10.84.2.164,dstip=10.84.2.115,password=password"


Expect: migrate of remote type should be started by default volues

migrate -a start -t remote -i 5 -p 0 -s "srcip=10.84.2.164,dstip=10.84.2.115,password=password"
Error (0x4100102): Empty query result, please check input parameters. Volume id=[5] is not existed.

administrator@cli> 

Fail: migrate -a start -t remote -i 5 -p 0 -s "srcip=10.84.2.164,dstip=10.84.2.115,password=password"


Expect: source volume should be delete

volume -i 2 -v
-i: specific volume not exists

administrator@cli> 
volume -i 2 -v
-i: specific volume not exists

administrator@cli> 

Fail: please check out No volume exists

'result': 'f'

Expect: migrate should be started by "syncmode=async"

migrate -a start -t local -i 2 -p 1 -s "syncmode=async"
Error (0x4100102): Empty query result, please check input parameters. Volume id=[2] is not existed.

administrator@cli> 

Fail: migrate -a start -t local -i 2 -p 1 -s "syncmode=async"


Expect: migrate should be started by "syncmode=semi-sync"

migrate -a start -t local -i 3 -p 1 -s "syncmode=semi-sync"
Error (0x4100102): Empty query result, please check input parameters. Volume id=[3] is not existed.

administrator@cli> 

Expect: migrate should be started by "syncmode=async"

migrate -a start -t local -i 2 -p 1 -s "syncmode=async"

administrator@cli> 
volume -i 10 -v
-------------------------------------------------------------------------------
Id: 10                                  Name: T_migrate_vol_2_migrate
PoolId: 1                               PoolName: T_migrate_1
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 999.95 MB                UsedCapacity: 999.95 MB
PoolAvailableCapacity: 7.25 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 17:07:24
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Async
AdvStatus: Creating                     AdvProgress: 0.0

administrator@cli> 

Expect: migrate should be started by "syncmode=semi-sync"

migrate -a start -t local -i 3 -p 1 -s "syncmode=semi-sync"

administrator@cli> 
volume -i 11 -v
-------------------------------------------------------------------------------
Id: 11                                  Name: T_migrate_vol_3_migrate
PoolId: 1                               PoolName: T_migrate_1
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 999.95 MB                UsedCapacity: 999.95 MB
PoolAvailableCapacity: 7.25 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 17:07:35
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Semi-Sync
AdvStatus: Creating                     AdvProgress: 0.0

administrator@cli> 

Expect: migrate should be started by "syncmode=sync"

migrate -a start -t local -i 4 -p 0 -s "syncmode=sync"

administrator@cli> 
volume -i 12 -v
-------------------------------------------------------------------------------
Id: 12                                  Name: T_migrate_vol_4_migrate
PoolId: 0                               PoolName: T_migrate_0
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 2 GB                     UsedCapacity: 2 GB
PoolAvailableCapacity: 112.10 GB        UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 17:07:47
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Creating                     AdvProgress: 0.0

administrator@cli> 

Expect: migrate should be started by default volues

migrate -a start -t local -i 5 -p 0

administrator@cli> 
volume -i 5 -v
-------------------------------------------------------------------------------
Id: 5                                   Name: T_migrate_vol_5
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: -1
ExportedWWN: 220600015593a546           OperationalStatus: OK, Synchronizing
TotalCapacity: 2 GB                     UsedCapacity: 2 GB
PoolAvailableCapacity: 7.25 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 17:07:20
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Source
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Creating                     AdvProgress: 0

administrator@cli> 

Expect: source volume should be delete

volume -i 2 -v
-------------------------------------------------------------------------------
Id: 2                                   Name: T_migrate_vol_2
PoolId: 0                               PoolName: T_migrate_0
Status: Exported                        ExportedId: 2
ExportedWWN: 2225000155c673af           OperationalStatus: OK, Synchronizing
TotalCapacity: 999.95 MB                UsedCapacity: 999.95 MB
PoolAvailableCapacity: 110.03 GB        UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 0 Byte
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 1
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 17:07:18
PreferCtrlId: 2                         AdvType: 

administrator@cli> 
volume -i 2 -v
-------------------------------------------------------------------------------
Id: 2                                   Name: T_migrate_vol_2
PoolId: 0                               PoolName: T_migrate_0
Status: Exported                        ExportedId: 2
ExportedWWN: 2225000155c673af           OperationalStatus: OK, Synchronizing
TotalCapacity: 999.95 MB                UsedCapacity: 999.95 MB
PoolAvailableCapacity: 110.03 GB        UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 0 Byte
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 1
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 17:07:18
PreferCtrlId: 2                         AdvType: 

administrator@cli> 

Fail: please check out No volume exists

'result': 'f'

Expect: migrate should be started by "syncmode=async"

migrate -a start -t local -i 2 -p 1 -s "syncmode=async"

administrator@cli> 
volume -i 10 -v
-------------------------------------------------------------------------------
Id: 10                                  Name: T_migrate_vol_2_migrate
PoolId: 1                               PoolName: T_migrate_1
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 999.95 MB                UsedCapacity: 999.95 MB
PoolAvailableCapacity: 7.25 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 18:16:20
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Async
AdvStatus: Creating                     AdvProgress: 0.0

administrator@cli> 

Expect: migrate should be started by "syncmode=semi-sync"

migrate -a start -t local -i 3 -p 1 -s "syncmode=semi-sync"

administrator@cli> 
volume -i 11 -v
-------------------------------------------------------------------------------
Id: 11                                  Name: T_migrate_vol_3_migrate
PoolId: 1                               PoolName: T_migrate_1
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 999.95 MB                UsedCapacity: 999.95 MB
PoolAvailableCapacity: 7.25 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 18:16:31
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Semi-Sync
AdvStatus: Syncing                      AdvProgress: 68.7

administrator@cli> 

Fail: please check out AdvStatus: Creating


Expect: migrate should be started by "syncmode=sync"

migrate -a start -t local -i 4 -p 0 -s "syncmode=sync"

administrator@cli> 
volume -i 12 -v
-------------------------------------------------------------------------------
Id: 12                                  Name: T_migrate_vol_4_migrate
PoolId: 0                               PoolName: T_migrate_0
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 2 GB                     UsedCapacity: 2 GB
PoolAvailableCapacity: 113.13 GB        UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 330.98 MB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 18:16:43
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Syncing                      AdvProgress: 32.3

administrator@cli> 

Fail: please check out AdvStatus: Creating


Expect: migrate should be started by default volues

migrate -a start -t local -i 5 -p 0

administrator@cli> 
volume -i 5 -v
-------------------------------------------------------------------------------
Id: 5                                   Name: T_migrate_vol_5
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: -1
ExportedWWN: 22aa000155ddfe22           OperationalStatus: OK, Synchronizing
TotalCapacity: 2 GB                     UsedCapacity: 2 GB
PoolAvailableCapacity: 7.25 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 18:16:16
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Source
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Syncing                      AdvProgress: 30.7

administrator@cli> 

Fail: please check out AdvStatus: Creating


Expect: source volume should be delete

volume -i 2 -v
-------------------------------------------------------------------------------
Id: 2                                   Name: T_migrate_vol_2
PoolId: 0                               PoolName: T_migrate_0
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 999.95 MB                UsedCapacity: 999.95 MB
PoolAvailableCapacity: 111.07 GB        UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 0 Byte
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 1
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 18:16:14
PreferCtrlId: 2                         AdvType: 

administrator@cli> 
volume -i 2 -v
-------------------------------------------------------------------------------
Id: 2                                   Name: T_migrate_vol_2
PoolId: 0                               PoolName: T_migrate_0
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 999.95 MB                UsedCapacity: 999.95 MB
PoolAvailableCapacity: 111.07 GB        UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 0 Byte
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 1
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 18:16:14
PreferCtrlId: 2                         AdvType: 

administrator@cli> 

Fail: please check out No volume exists

'result': 'f'

Expect: migrate of remote type should be started by "syncmode=async"

migrate -a start -t remote -i 6 -p 0 -s "syncmode=async,srcip=10.84.2.164,dstip=10.84.2.115,password=password"

administrator@cli> 
volume -i 6 -v
-------------------------------------------------------------------------------
Id: 6                                   Name: T_migrate_vol_6
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: 6
ExportedWWN: 221000015544f773           OperationalStatus: OK, Synchronizing
TotalCapacity: 2 GB                     UsedCapacity: 2 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 18:16:16
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Remote                         AdvRole: Source
AdvMode: Active-Passive                 AdvProtocol: Async
AdvStatus: Creating                     AdvProgress: 0

administrator@cli> 

Fail: please check out AdvProtocol: Sync


Expect: migrate of remote type should be started by "syncmode=semi-sync"

migrate -a start -t remote -i 7 -p 0 -s "syncmode=semi-sync,srcip=10.84.2.164,dstip=10.84.2.115,password=password"

administrator@cli> 
volume -i 7 -v
-------------------------------------------------------------------------------
Id: 7                                   Name: T_migrate_vol_7
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: -1
ExportedWWN: 224600015524d827           OperationalStatus: OK, Synchronizing
TotalCapacity: 2 GB                     UsedCapacity: 2 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 18:16:17
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Remote                         AdvRole: Source
AdvMode: Active-Passive                 AdvProtocol: Semi-Sync
AdvStatus: Creating                     AdvProgress: 0

administrator@cli> 

Fail: please check out AdvProtocol: Sync


Expect: migrate of remote type should be started by "syncmode=sync"

migrate -a start -t remote -i 8 -p 0 -s "syncmode=sync,srcip=10.84.2.164,dstip=10.84.2.115,password=password"

administrator@cli> 
volume -i 8 -v
-------------------------------------------------------------------------------
Id: 8                                   Name: T_migrate_vol_8
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: 8
ExportedWWN: 22970001558d1f97           OperationalStatus: OK, Synchronizing
TotalCapacity: 2 GB                     UsedCapacity: 2 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 18:16:18
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Remote                         AdvRole: Source
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Creating                     AdvProgress: 0

administrator@cli> 

Expect: migrate of remote type should be started by default volues

migrate -a start -t remote -i 9 -p 0 -s "srcip=10.84.2.164,dstip=10.84.2.115,password=password"

administrator@cli> 
volume -i 9 -v
-------------------------------------------------------------------------------
Id: 9                                   Name: T_migrate_vol_9
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: -1
ExportedWWN: 2201000155fa18a7           OperationalStatus: OK, Synchronizing
TotalCapacity: 2 GB                     UsedCapacity: 2 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 18:16:18
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Remote                         AdvRole: Source
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Creating                     AdvProgress: 0

administrator@cli> 

Expect: source volume should be delete

volume -i 6 -v
-i: specific volume not exists

administrator@cli> 
volume -i 6 -v
-i: specific volume not exists

administrator@cli> 

Fail: please check out No volume exists

'result': 'f'

Expect: migrate should be started by "syncmode=async"

migrate -a start -t local -i 2 -p 1 -s "syncmode=async"

administrator@cli> 
volume -i 10 -v
-------------------------------------------------------------------------------
Id: 10                                  Name: T_migrate_vol_2_migrate
PoolId: 1                               PoolName: T_migrate_1
Status: Un-Exported                     OperationalStatus: OK
TotalCapacity: 500 GB                   UsedCapacity: 500 GB
PoolAvailableCapacity: 99.40 GB         UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 21:50:50
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Async
AdvStatus: Creating                     AdvProgress: 0.0

administrator@cli> 

Expect: migrate should be started by "syncmode=semi-sync"

migrate -a start -t local -i 3 -p 1 -s "syncmode=semi-sync"
Error (0x4100104): Incorrect parameters: Destination Pool availiable size is not enough.

administrator@cli> 

Fail: migrate -a start -t local -i 3 -p 1 -s "syncmode=semi-sync"


Expect: migrate should be started by "syncmode=sync"


Expect: migrate should be started by "syncmode=async"

migrate -a start -t local -i 2 -p 1 -s "syncmode=async"

administrator@cli> 
volume -i 10 -v
-------------------------------------------------------------------------------
Id: 10                                  Name: T_migrate_vol_2_migrate
PoolId: 1                               PoolName: T_migrate_1
Status: Un-Exported                     OperationalStatus: OK
TotalCapacity: 100 GB                   UsedCapacity: 100 GB
PoolAvailableCapacity: 2.90 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 21:53:11
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Async
AdvStatus: Creating                     AdvProgress: 0.0

administrator@cli> 

Expect: migrate should be started by "syncmode=semi-sync"

migrate -a start -t local -i 3 -p 1 -s "syncmode=semi-sync"

administrator@cli> 
volume -i 11 -v
-------------------------------------------------------------------------------
Id: 11                                  Name: T_migrate_vol_3_migrate
PoolId: 1                               PoolName: T_migrate_1
Status: Un-Exported                     OperationalStatus: OK
TotalCapacity: 100 GB                   UsedCapacity: 100 GB
PoolAvailableCapacity: 2.80 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 21:53:17
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Semi-Sync
AdvStatus: Creating                     AdvProgress: 0.0

administrator@cli> 

Expect: migrate should be started by "syncmode=sync"

migrate -a start -t local -i 4 -p 0 -s "syncmode=sync"

administrator@cli> 
volume -i 12 -v
-------------------------------------------------------------------------------
Id: 12                                  Name: T_migrate_vol_4_migrate
PoolId: 0                               PoolName: T_migrate_0
Status: Un-Exported                     OperationalStatus: OK
TotalCapacity: 100 GB                   UsedCapacity: 100 GB
PoolAvailableCapacity: 3.42 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 21:53:30
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Creating                     AdvProgress: 0.0

administrator@cli> 

Expect: migrate should be started by default volues

migrate -a start -t local -i 5 -p 0

administrator@cli> 
volume -i 5 -v
-------------------------------------------------------------------------------
Id: 5                                   Name: T_migrate_vol_5
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: 5
ExportedWWN: 22920001556a5c07           OperationalStatus: OK
TotalCapacity: 100 GB                   UsedCapacity: 100 GB
PoolAvailableCapacity: 2.90 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 21:53:07
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Source
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Syncing                      AdvProgress: 0.1

administrator@cli> 

Expect: source volume should be delete

volume -i 2 -v
-------------------------------------------------------------------------------
Id: 2                                   Name: T_migrate_vol_2
PoolId: 0                               PoolName: T_migrate_0
Status: Un-Exported                     OperationalStatus: OK
TotalCapacity: 100 GB                   UsedCapacity: 100 GB
PoolAvailableCapacity: 3.32 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 0 Byte
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 1
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 21:53:05
PreferCtrlId: 2                         AdvType: 

administrator@cli> 
volume -i 2 -v
-------------------------------------------------------------------------------
Id: 2                                   Name: T_migrate_vol_2
PoolId: 0                               PoolName: T_migrate_0
Status: Un-Exported                     OperationalStatus: OK
TotalCapacity: 100 GB                   UsedCapacity: 100 GB
PoolAvailableCapacity: 3.32 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 0 Byte
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 1
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 21:53:05
PreferCtrlId: 2                         AdvType: 

administrator@cli> 

Fail: please check out No volume exists

'result': 'f'

Expect: destination volume should not be exported

volume -a export -i 12
Error (0x4100104): Incorrect parameters: Volume is already exported.

administrator@cli> 

Expect: destination volume should not be expanded

volume -a mod -i 12 -s "capacity=6GB"
Error (0x4100104): Incorrect parameters: The parameter [capacity] is smaller than original capacity

administrator@cli> 

Expect: destination volume should not be modified

volume -a mod -i 12 -s "name=no_way"

administrator@cli> 

Fail: volume -a mod -i 12 -s "name=no_way"


Expect: destination volume should not create snapshot

snapshot -a add -t volume -d 12 -s "name=test_replica"

administrator@cli> 

Fail: snapshot -a add -t volume -d 12 -s "name=test_replica"


Expect: destination volume should not be added for lunmap

lunmap -a add -p volume -i 0 -l 12 -m 2

administrator@cli> 

Fail: lunmap -a add -p volume -i 0 -l 12 -m 2


Expect: destination volume should not be deleted

volume -a del -i 12
Error (0x4100104): Incorrect parameters: Can't delete Volume due to there exists derivatives.

administrator@cli> 

Expect: source volume should not be expanded

volume -a mod -i 4 -s "capacity=5GB"
Error (0x4100102): Empty query result, please check input parameters. Volume id=[4] is not existed.

administrator@cli> 

Expect: source volume should not be deleted

volume -a del -i 4
Error (0x4100102): Empty query result, please check input parameters. Volume id=[4] is not existed.

administrator@cli> 

Expect: source pool should not be deleted

pool -a del -i 1 -f -y
Error (0x4100104): Incorrect parameters: There are replication or migration Volume in the Pool.

administrator@cli> 

Expect: destination pool should not be deleted

pool -a del -i 0 -f -y
Error (0x4100104): Incorrect parameters: There are replication or migration Volume in the Pool.

administrator@cli> 
'result': 'f'

Expect: migrate should be started by "syncmode=async"

migrate -a start -t local -i 2 -p 1 -s "syncmode=async"

administrator@cli> 
volume -i 10 -v
-------------------------------------------------------------------------------
Id: 10                                  Name: T_migrate_vol_2_migrate
PoolId: 1                               PoolName: T_migrate_1
Status: Un-Exported                     OperationalStatus: OK
TotalCapacity: 100 GB                   UsedCapacity: 100 GB
PoolAvailableCapacity: 2.90 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 21:57:44
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Async
AdvStatus: Creating                     AdvProgress: 0.0

administrator@cli> 

Expect: migrate should be started by "syncmode=semi-sync"

migrate -a start -t local -i 3 -p 1 -s "syncmode=semi-sync"

administrator@cli> 
volume -i 11 -v
-------------------------------------------------------------------------------
Id: 11                                  Name: T_migrate_vol_3_migrate
PoolId: 1                               PoolName: T_migrate_1
Status: Un-Exported                     OperationalStatus: OK
TotalCapacity: 100 GB                   UsedCapacity: 100 GB
PoolAvailableCapacity: 2.80 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 21:57:50
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Semi-Sync
AdvStatus: Creating                     AdvProgress: 0.0

administrator@cli> 

Expect: migrate should be started by "syncmode=sync"

migrate -a start -t local -i 4 -p 0 -s "syncmode=sync"

administrator@cli> 
volume -i 12 -v
-------------------------------------------------------------------------------
Id: 12                                  Name: T_migrate_vol_4_migrate
PoolId: 0                               PoolName: T_migrate_0
Status: Un-Exported                     OperationalStatus: OK
TotalCapacity: 100 GB                   UsedCapacity: 100 GB
PoolAvailableCapacity: 3.42 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 21:58:05
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Creating                     AdvProgress: 0.0

administrator@cli> 

Expect: migrate should be started by default volues

migrate -a start -t local -i 5 -p 0

administrator@cli> 
volume -i 5 -v
-------------------------------------------------------------------------------
Id: 5                                   Name: T_migrate_vol_5
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: 5
ExportedWWN: 224d0001555c71ce           OperationalStatus: OK
TotalCapacity: 100 GB                   UsedCapacity: 100 GB
PoolAvailableCapacity: 2.90 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 21:57:39
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Source
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Creating                     AdvProgress: 0.0

administrator@cli> 

Expect: source volume should be delete

volume -i 2 -v
-------------------------------------------------------------------------------
Id: 2                                   Name: T_migrate_vol_2
PoolId: 0                               PoolName: T_migrate_0
Status: Un-Exported                     OperationalStatus: OK
TotalCapacity: 100 GB                   UsedCapacity: 100 GB
PoolAvailableCapacity: 3.32 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 0 Byte
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 1
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 21:57:38
PreferCtrlId: 2                         AdvType: 

administrator@cli> 
volume -i 2 -v
-------------------------------------------------------------------------------
Id: 2                                   Name: T_migrate_vol_2
PoolId: 0                               PoolName: T_migrate_0
Status: Un-Exported                     OperationalStatus: OK
TotalCapacity: 100 GB                   UsedCapacity: 100 GB
PoolAvailableCapacity: 3.32 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 0 Byte
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 1
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 21:57:38
PreferCtrlId: 2                         AdvType: 

administrator@cli> 

Fail: please check out No volume exists

'result': 'f'

Expect: destination volume should not be exported

volume -a export -i 12
Error (0x4100104): Incorrect parameters: Volume is already exported.

administrator@cli> 

Expect: destination volume should not be expanded

volume -a mod -i 12 -s "capacity=102GB"

administrator@cli> 

Fail: volume -a mod -i 12 -s "capacity=102GB"


Expect: destination volume should not be modified

volume -a mod -i 12 -s "name=no_way"

administrator@cli> 

Fail: volume -a mod -i 12 -s "name=no_way"


Expect: destination volume should not create snapshot

snapshot -a add -t volume -d 12 -s "name=test_replica"

administrator@cli> 

Fail: snapshot -a add -t volume -d 12 -s "name=test_replica"


Expect: destination volume should not be added for lunmap

lunmap -a add -p volume -i 0 -l 12 -m 2
Error (0x498B5902): The specified LUN map table already exists. Try adding LD to LUN map instead

administrator@cli> 

Expect: destination volume should not be deleted

volume -a del -i 12
Error (0x4100104): Incorrect parameters: Can't delete Volume due to there exists derivatives.

administrator@cli> 

Expect: source volume should not be expanded

volume -a mod -i 4 -s "capacity=102GB"
Error (0x4100102): Empty query result, please check input parameters. Volume id=[4] is not existed.

administrator@cli> 

Expect: source volume should not be deleted

volume -a del -i 4
Error (0x4100102): Empty query result, please check input parameters. Volume id=[4] is not existed.

administrator@cli> 

Expect: source pool should not be deleted

pool -a del -i 1 -f -y

administrator@cli> 

Fail: pool -a del -i 1 -f -y


Expect: destination pool should not be deleted

pool -a del -i 0 -f -y

administrator@cli> 

Fail: pool -a del -i 0 -f -y

'result': 'f'

Expect: migrate should be started by "syncmode=async"

migrate -a start -t local -i 2 -p 1 -s "syncmode=async"

administrator@cli> 
volume -i 10 -v
-------------------------------------------------------------------------------
Id: 10                                  Name: T_migrate_vol_2_migrate
PoolId: 1                               PoolName: T_migrate_1
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 999.95 MB                UsedCapacity: 999.95 MB
PoolAvailableCapacity: 7.25 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 22:43:29
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Async
AdvStatus: Syncing                      AdvProgress: 74.1

administrator@cli> 

Expect: migrate should be started by "syncmode=semi-sync"

migrate -a start -t local -i 3 -p 1 -s "syncmode=semi-sync"

administrator@cli> 
volume -i 11 -v
-------------------------------------------------------------------------------
Id: 11                                  Name: T_migrate_vol_3_migrate
PoolId: 1                               PoolName: T_migrate_1
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 999.95 MB                UsedCapacity: 999.95 MB
PoolAvailableCapacity: 7.25 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 22:43:40
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Semi-Sync
AdvStatus: Syncing                      AdvProgress: 77.0

administrator@cli> 

Expect: migrate should be started by "syncmode=sync"

migrate -a start -t local -i 4 -p 0 -s "syncmode=sync"

administrator@cli> 
volume -i 12 -v
-------------------------------------------------------------------------------
Id: 12                                  Name: T_migrate_vol_4_migrate
PoolId: 0                               PoolName: T_migrate_0
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 2 GB                     UsedCapacity: 2 GB
PoolAvailableCapacity: 113.13 GB        UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 202.80 MB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 22:43:51
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Syncing                      AdvProgress: 34.0

administrator@cli> 

Expect: migrate should be started by default volues

migrate -a start -t local -i 5 -p 0

administrator@cli> 
volume -i 5 -v
-------------------------------------------------------------------------------
Id: 5                                   Name: T_migrate_vol_5
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: 5
ExportedWWN: 22080001556327bb           OperationalStatus: OK, Synchronizing
TotalCapacity: 2 GB                     UsedCapacity: 2 GB
PoolAvailableCapacity: 7.25 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 22:43:25
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Source
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Syncing                      AdvProgress: 29.2

administrator@cli> 

Expect: source volume should be delete

volume -i 2 -v
-------------------------------------------------------------------------------
Id: 2                                   Name: T_migrate_vol_2
PoolId: 0                               PoolName: T_migrate_0
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 999.95 MB                UsedCapacity: 999.95 MB
PoolAvailableCapacity: 111.07 GB        UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 0 Byte
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 1
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 22:43:23
PreferCtrlId: 2                         AdvType: 

administrator@cli> 
volume -i 2 -v
-------------------------------------------------------------------------------
Id: 2                                   Name: T_migrate_vol_2
PoolId: 0                               PoolName: T_migrate_0
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 999.95 MB                UsedCapacity: 999.95 MB
PoolAvailableCapacity: 111.07 GB        UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 0 Byte
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 1
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 22:43:23
PreferCtrlId: 2                         AdvType: 

administrator@cli> 

Fail: please check out No volume exists

'result': 'f'

Expect: migrate of remote type should be started by "syncmode=async"

migrate -a start -t remote -i 6 -p 0 -s "syncmode=async,srcip=10.84.2.164,dstip=10.84.2.115,password=password"

administrator@cli> 
volume -i 6 -v
-------------------------------------------------------------------------------
Id: 6                                   Name: T_migrate_vol_6
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: -1
ExportedWWN: 22b2000155fa2eea           OperationalStatus: OK, Synchronizing
TotalCapacity: 2 GB                     UsedCapacity: 2 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 22:43:25
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Remote                         AdvRole: Source
AdvMode: Active-Passive                 AdvProtocol: Async
AdvStatus: Syncing                      AdvProgress: 4.7

administrator@cli> 

Fail: please check out AdvProtocol: Sync


Expect: migrate of remote type should be started by "syncmode=semi-sync"

migrate -a start -t remote -i 7 -p 0 -s "syncmode=semi-sync,srcip=10.84.2.164,dstip=10.84.2.115,password=password"

administrator@cli> 
volume -i 7 -v
-------------------------------------------------------------------------------
Id: 7                                   Name: T_migrate_vol_7
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: 8
ExportedWWN: 22f500015524ee6a           OperationalStatus: OK, Synchronizing
TotalCapacity: 2 GB                     UsedCapacity: 2 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 22:43:26
PreferCtrlId: 2                         AdvType: 

administrator@cli> 

Fail: please check out AdvType: Migration


Fail: please check out AdvKind: Remote


Fail: please check out AdvRole: Source


Fail: please check out AdvMode: Active-Passive


Fail: please check out AdvProtocol: Sync


Expect: migrate of remote type should be started by "syncmode=sync"

migrate -a start -t remote -i 8 -p 0 -s "syncmode=sync,srcip=10.84.2.164,dstip=10.84.2.115,password=password"

administrator@cli> 
volume -i 8 -v
-------------------------------------------------------------------------------
Id: 8                                   Name: T_migrate_vol_8
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: 10
ExportedWWN: 2219000155ddc86f           OperationalStatus: OK, Synchronizing
TotalCapacity: 2 GB                     UsedCapacity: 2 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 22:43:27
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Remote                         AdvRole: Source
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Syncing                      AdvProgress: 1.9

administrator@cli> 

Expect: migrate of remote type should be started by default volues

migrate -a start -t remote -i 9 -p 0 -s "srcip=10.84.2.164,dstip=10.84.2.115,password=password"

administrator@cli> 
volume -i 9 -v
-------------------------------------------------------------------------------
Id: 9                                   Name: T_migrate_vol_9
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: 11
ExportedWWN: 228f000155aacf5f           OperationalStatus: OK, Synchronizing
TotalCapacity: 2 GB                     UsedCapacity: 2 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 22:43:27
PreferCtrlId: 2                         AdvType: 

administrator@cli> 

Fail: please check out AdvType: Migration


Fail: please check out AdvKind: Remote


Fail: please check out AdvRole: Source


Fail: please check out AdvMode: Active-Passive


Fail: please check out AdvProtocol: Sync


Expect: source volume should be delete

volume -i 6 -v
-------------------------------------------------------------------------------
Id: 6                                   Name: T_migrate_vol_6
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: -1
ExportedWWN: 22b2000155fa2eea           OperationalStatus: OK, Synchronizing
TotalCapacity: 2 GB                     UsedCapacity: 2 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 22:43:25
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Remote                         AdvRole: Source
AdvMode: Active-Passive                 AdvProtocol: Async
AdvStatus: Syncing                      AdvProgress: 26.3

administrator@cli> 
volume -i 6 -v
-------------------------------------------------------------------------------
Id: 6                                   Name: T_migrate_vol_6
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: -1
ExportedWWN: 22b2000155fa2eea           OperationalStatus: OK, Synchronizing
TotalCapacity: 2 GB                     UsedCapacity: 2 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 22:43:25
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Remote                         AdvRole: Source
AdvMode: Active-Passive                 AdvProtocol: Async
AdvStatus: Syncing                      AdvProgress: 27.7

administrator@cli> 

Fail: please check out specific volume not exists

'result': 'f'

Expect: migrate should be started by "syncmode=async"

migrate -a start -t local -i 2 -p 1 -s "syncmode=async"
Error (0x4100104): Incorrect parameters: Can not migrate Volume to the same Pool.

administrator@cli> 

Fail: migrate -a start -t local -i 2 -p 1 -s "syncmode=async"


Expect: migrate should be started by "syncmode=semi-sync"

migrate -a start -t local -i 3 -p 1 -s "syncmode=semi-sync"
Error (0x4100104): Incorrect parameters: Can not migrate Volume to the same Pool.

administrator@cli> 

Fail: migrate -a start -t local -i 3 -p 1 -s "syncmode=semi-sync"


Expect: migrate should be started by "syncmode=sync"

migrate -a start -t local -i 4 -p 0 -s "syncmode=sync"

administrator@cli> 
volume -i 12 -v
-i: specific volume not exists

administrator@cli> 

Fail: please check out Block: 8 KB


Fail: please check out Sector: 512 Bytes


Fail: please check out SyncMode: standard


Fail: please check out Logbias: latency


Fail: please check out Compress: off


Fail: please check out AdvType: Migration


Fail: please check out AdvKind: Local


Fail: please check out AdvRole: Destination


Fail: please check out AdvMode: Active-Passive


Fail: please check out AdvProtocol: Sync


Expect: migrate should be started by default volues

migrate -a start -t local -i 5 -p 0

administrator@cli> 
volume -i 5 -v
-------------------------------------------------------------------------------
Id: 5                                   Name: T_migrate_vol_9
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: -1
ExportedWWN: 221500015577c46d           OperationalStatus: OK, Synchronizing
TotalCapacity: 10 GB                    UsedCapacity: 10 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 22:48:15
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Source
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Creating                     AdvProgress: 0.0

administrator@cli> 

Expect: source volume should be delete

volume -i 2 -v
-------------------------------------------------------------------------------
Id: 2                                   Name: T_migrate_vol_4
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: 4
ExportedWWN: 22c4000155de03dd           OperationalStatus: OK, Synchronizing
TotalCapacity: 10 GB                    UsedCapacity: 10 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 0 Byte
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 1
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 22:48:12
PreferCtrlId: 2                         AdvType: 

administrator@cli> 
volume -i 2 -v
-------------------------------------------------------------------------------
Id: 2                                   Name: T_migrate_vol_4
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: 4
ExportedWWN: 22c4000155de03dd           OperationalStatus: OK, Synchronizing
TotalCapacity: 10 GB                    UsedCapacity: 10 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 0 Byte
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 1
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 22:48:12
PreferCtrlId: 2                         AdvType: 

administrator@cli> 

Fail: please check out No volume exists

'result': 'f'

Expect: migrate of remote type should be started by "syncmode=async"

migrate -a start -t remote -i 6 -p 0 -s "syncmode=async,srcip=10.84.2.164,dstip=10.84.2.115,password=password"
Error (0x4100104): Incorrect parameters: There is existing replication or migration pair to this Volume.

administrator@cli> 

Fail: migrate -a start -t remote -i 6 -p 0 -s "syncmode=async,srcip=10.84.2.164,dstip=10.84.2.115,password=password"


Expect: migrate of remote type should be started by "syncmode=semi-sync"

migrate -a start -t remote -i 7 -p 0 -s "syncmode=semi-sync,srcip=10.84.2.164,dstip=10.84.2.115,password=password"
Error (0x4100104): Incorrect parameters: Can not find meta device info by zp409076/ds350523 1.

administrator@cli> 

Fail: migrate -a start -t remote -i 7 -p 0 -s "syncmode=semi-sync,srcip=10.84.2.164,dstip=10.84.2.115,password=password"


Expect: migrate of remote type should be started by "syncmode=sync"

migrate -a start -t remote -i 8 -p 0 -s "syncmode=sync,srcip=10.84.2.164,dstip=10.84.2.115,password=password"
Error (0x4100104): Incorrect parameters: There is existing replication or migration pair to this Volume.

administrator@cli> 

Fail: migrate -a start -t remote -i 8 -p 0 -s "syncmode=sync,srcip=10.84.2.164,dstip=10.84.2.115,password=password"


Expect: migrate of remote type should be started by default volues

migrate -a start -t remote -i 9 -p 0 -s "srcip=10.84.2.164,dstip=10.84.2.115,password=password"
Error (0x4100104): Incorrect parameters: Can not find meta device info by zp409076/ds359066 1.

administrator@cli> 

Fail: migrate -a start -t remote -i 9 -p 0 -s "srcip=10.84.2.164,dstip=10.84.2.115,password=password"


Expect: source volume should be delete

volume -i 6 -v
-------------------------------------------------------------------------------
Id: 6                                   Name: T_migrate_vol_6
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: 6
ExportedWWN: 22b2000155fa2eea           OperationalStatus: OK, Synchronizing
TotalCapacity: 2 GB                     UsedCapacity: 2 GB
PoolAvailableCapacity: 7.27 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 22:43:25
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Remote                         AdvRole: Source
AdvMode: Active-Passive                 AdvProtocol: Async
AdvStatus: Creating                     AdvProgress: 0

administrator@cli> 
volume -i 6 -v
-------------------------------------------------------------------------------
Id: 6                                   Name: T_migrate_vol_6
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: 6
ExportedWWN: 22b2000155fa2eea           OperationalStatus: OK, Synchronizing
TotalCapacity: 2 GB                     UsedCapacity: 2 GB
PoolAvailableCapacity: 7.27 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 22:43:25
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Remote                         AdvRole: Source
AdvMode: Active-Passive                 AdvProtocol: Async
AdvStatus: Creating                     AdvProgress: 0

administrator@cli> 

Fail: please check out specific volume not exists

'result': 'f'

Expect: migrate should be started by "syncmode=async"

migrate -a start -t local -i 2 -p 1 -s "syncmode=async"

administrator@cli> 
volume -i 10 -v
-------------------------------------------------------------------------------
Id: 10                                  Name: T_migrate_vol_2_migrate
PoolId: 1                               PoolName: T_migrate_1
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 999.95 MB                UsedCapacity: 999.95 MB
PoolAvailableCapacity: 7.21 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 23:12:01
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Async
AdvStatus: Creating                     AdvProgress: 0.0

administrator@cli> 

Expect: migrate should be started by "syncmode=semi-sync"

migrate -a start -t local -i 3 -p 1 -s "syncmode=semi-sync"

administrator@cli> 
volume -i 11 -v
-------------------------------------------------------------------------------
Id: 11                                  Name: T_migrate_vol_3_migrate
PoolId: 1                               PoolName: T_migrate_1
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 999.95 MB                UsedCapacity: 999.95 MB
PoolAvailableCapacity: 7.21 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 23:12:06
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Semi-Sync
AdvStatus: Creating                     AdvProgress: 0.0

administrator@cli> 

Expect: migrate should be started by "syncmode=sync"

migrate -a start -t local -i 4 -p 0 -s "syncmode=sync"

administrator@cli> 
volume -i 12 -v
-------------------------------------------------------------------------------
Id: 12                                  Name: T_migrate_vol_4_migrate
PoolId: 0                               PoolName: T_migrate_0
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 10 GB                    UsedCapacity: 10 GB
PoolAvailableCapacity: 104.88 GB        UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 23:12:19
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Creating                     AdvProgress: 0.0

administrator@cli> 

Expect: migrate should be started by default volues

migrate -a start -t local -i 5 -p 0

administrator@cli> 
volume -i 5 -v
-------------------------------------------------------------------------------
Id: 5                                   Name: T_migrate_vol_5
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: -1
ExportedWWN: 22da000155ae0b87           OperationalStatus: OK, Synchronizing
TotalCapacity: 10 GB                    UsedCapacity: 10 GB
PoolAvailableCapacity: 7.22 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 23:11:57
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Source
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Creating                     AdvProgress: 0.0

administrator@cli> 

Expect: source volume should be delete

volume -i 2 -v
-------------------------------------------------------------------------------
Id: 2                                   Name: T_migrate_vol_2
PoolId: 0                               PoolName: T_migrate_0
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 999.95 MB                UsedCapacity: 999.95 MB
PoolAvailableCapacity: 94.56 GB         UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 0 Byte
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 1
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 23:11:55
PreferCtrlId: 2                         AdvType: 

administrator@cli> 
volume -i 2 -v
-------------------------------------------------------------------------------
Id: 2                                   Name: T_migrate_vol_2
PoolId: 0                               PoolName: T_migrate_0
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 999.95 MB                UsedCapacity: 999.95 MB
PoolAvailableCapacity: 94.56 GB         UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 0 Byte
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 1
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 23:11:55
PreferCtrlId: 2                         AdvType: 

administrator@cli> 

Fail: please check out No volume exists

'result': 'f'

Expect: migrate of remote type should be started by "syncmode=async"

migrate -a start -t remote -i 6 -p 0 -s "syncmode=async,srcip=10.84.2.164,dstip=10.84.2.115,password=password"

administrator@cli> 
volume -i 6 -v
-------------------------------------------------------------------------------
Id: 6                                   Name: T_migrate_vol_6
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: 6
ExportedWWN: 22600001553702d6           OperationalStatus: OK, Synchronizing
TotalCapacity: 10 GB                    UsedCapacity: 10 GB
PoolAvailableCapacity: 7.23 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 23:11:57
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Remote                         AdvRole: Source
AdvMode: Active-Passive                 AdvProtocol: Async
AdvStatus: Creating                     AdvProgress: 0.0

administrator@cli> 

Fail: please check out AdvProtocol: Sync


Expect: migrate of remote type should be started by "syncmode=semi-sync"

migrate -a start -t remote -i 7 -p 0 -s "syncmode=semi-sync,srcip=10.84.2.164,dstip=10.84.2.115,password=password"

administrator@cli> 
volume -i 7 -v
-------------------------------------------------------------------------------
Id: 7                                   Name: T_migrate_vol_7
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: -1
ExportedWWN: 22b6000155797d4b           OperationalStatus: OK, Synchronizing
TotalCapacity: 10 GB                    UsedCapacity: 10 GB
PoolAvailableCapacity: 7.24 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 23:11:58
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Remote                         AdvRole: Source
AdvMode: Active-Passive                 AdvProtocol: Semi-Sync
AdvStatus: Syncing                      AdvProgress: 0.1

administrator@cli> 

Fail: please check out AdvProtocol: Sync


Expect: migrate of remote type should be started by "syncmode=sync"

migrate -a start -t remote -i 8 -p 0 -s "syncmode=sync,srcip=10.84.2.164,dstip=10.84.2.115,password=password"

administrator@cli> 
volume -i 8 -v
-------------------------------------------------------------------------------
Id: 8                                   Name: T_migrate_vol_8
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: 8
ExportedWWN: 22e7000155feea32           OperationalStatus: OK, Synchronizing
TotalCapacity: 10 GB                    UsedCapacity: 10 GB
PoolAvailableCapacity: 7.24 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 23:11:59
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Remote                         AdvRole: Source
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Creating                     AdvProgress: 0.0

administrator@cli> 

Expect: migrate of remote type should be started by default volues

migrate -a start -t remote -i 9 -p 0 -s "srcip=10.84.2.164,dstip=10.84.2.115,password=password"

administrator@cli> 
volume -i 9 -v
-------------------------------------------------------------------------------
Id: 9                                   Name: T_migrate_vol_9
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: -1
ExportedWWN: 227100015589ed02           OperationalStatus: OK, Synchronizing
TotalCapacity: 10 GB                    UsedCapacity: 10 GB
PoolAvailableCapacity: 7.25 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2018-01-09 23:11:59
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Remote                         AdvRole: Source
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Syncing                      AdvProgress: 0.1

administrator@cli> 

Expect: source volume should be delete

volume -i 6 -v
-i: specific volume not exists

administrator@cli> 
volume -i 6 -v
-i: specific volume not exists

administrator@cli> 
'result': 'f'

Expect: specific migrate should be stopped

migrate -a stop -i 2
Error (0x2013): Invalid setting parameters
specified source volume not in migration status

administrator@cli> 

Fail: migrate -a stop -i 2

'result': 'f'

Expect: specific migrate should be stopped

migrate -a stop -i 7
Error (0x4100104): Incorrect parameters: The parameter [password] is empty.

administrator@cli> 

Fail: migrate -a stop -i 7

'result': 'f'

Expect: migrate help document should be displayed

migrate -h
migrate

Usage:
   migrate [-a <action>] [-i <ID>] [-t <location>] [-p <pool ID>]
           [-s <settings>]

Summary:
   The migrate command allows the user to migrate volume into another pool
   which located in same subsystem (Local) or other subsystem (Remote).
   As well as to stop a specified migration.
   Only with thin-provision disabled volume can be used to migrate. During
   migration in progress, source volume cannot be expanded or removed;
   destination volume disallowed to do any operations.

Options:

-a <action>           Which action to perform.
   start              (Default) Start a specific migration progress.
   stop               Stop the migration

-i <ID>               Source volume ID.

-t <location>         Destination location.
   local              (Default)
   remote

-p <pool ID>          Destination pool ID.

-s "<option>=<value>"
                      Used to specify migration settings
   syncmode=          Sync mode method
     async
     semi-sync
     sync             (Default)

   srcip=             Source portal IP
                      Only valid for -t remote specified.

   dstip=             Destination portal IP of remote subsystem.
                      Only valid for -t remote specified.

   password=          Password of administrator of remote subsystem.
                      Only valid for -t remote specified.

Examples:
   migrate -a start -i 1 -t local -p 0 -s "syncmode=async"
   migrate -a start -i 2 -t remote -p 0 -s "srcip=10.0.0.1,
     dstip=10.0.0.2, password=test"
Type ' | grep "word1,word2,..."' at the end of each command, to display 
filtered info.

administrator@cli> 
'result': 'p'

Expect: Invalid setting parameters

migrate test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid setting parameters

migrate -a test
Error (0x2013): Invalid setting parameters
-a: invalid setting test (start|stop)

administrator@cli> 

Expect: destination pool capacity should be more than soure volume

migrate -a start -t local -i 0 -p 3
Error (0x4100104): Incorrect parameters: Destination Pool availiable size is not enough.

administrator@cli> 

Fail: please check out Fail to execute this method


Expect: specify nonexistent source volume

migrate -a start -t local -i 100 -p 0
Error (0x4100102): Empty query result, please check input parameters. Volume id=[100] is not existed.

administrator@cli> 

Expect: specify nonexistent destination pool

migrate -a start -t local -i 0 -p 10
Error (0x4100102): Empty query result, please check input parameters. Pool id=[10] is not existed.

administrator@cli> 

Expect: thin provision volume cannot become source volume

migrate -a start -t local -i 1 -p 1
Error (0x4100104): Incorrect parameters: Volume is not full-provision.

administrator@cli> 

Expect: Can not migrate Volume to the same Pool

migrate -a start -t local -i 0 -p 2
Error (0x4100104): Incorrect parameters: Can not migrate Volume to the same Pool.

administrator@cli> 

Expect: should hint error when specify wrong sync mode

migrate -a start -t local -i 0 -p 1 -s "syncmode=test"
Error (0x2013): Invalid setting parameters
syncmode: invalid setting test (async|semi-sync|sync)

administrator@cli> 

Expect: should hint error when specify wrong sync mode

migrate -a start -t remote -i 0 -p 0 -s "syncmode=t,srcip=10.84.2.164,dstip=10.84.2.115, password=password"
Error (0x2013): Invalid setting parameters
syncmode: invalid setting t (async|semi-sync|sync)

administrator@cli> 

Fail: please check out invalid setting test (async|semi-sync|sync)


Expect: ip nonconformity

migrate -a start -t remote -i 0 -p 0 -s "srcip=256.0.0.1,dstip=10.0.0.2, password=password"
Error (0x4100104): Incorrect parameters: Can not find meta device info by zp912782/ds588912 1.

administrator@cli> 

Expect: ip nonconformity

migrate -a start -t remote -i 0 -p 0 -s "srcip=10.256.0.1,dstip=10.0.0.2, password=password"
Error (0x4100104): Incorrect parameters: There is existing replication or migration pair to this Volume.

administrator@cli> 

Expect: ip nonconformity

migrate -a start -t remote -i 0 -p 0 -s "srcip=10.0.256.1,dstip=10.0.0.2, password=password"
Error (0x4100104): Incorrect parameters: There is existing replication or migration pair to this Volume.

administrator@cli> 

Expect: ip nonconformity

migrate -a start -t remote -i 0 -p 0 -s "srcip=10.0.0.256,dstip=10.0.0.2, password=password"
Error (0x4100104): Incorrect parameters: There is existing replication or migration pair to this Volume.

administrator@cli> 

Expect: specify nonexistent destination host

migrate -a start -t remote -i 0 -p 0 -s "srcip=10.84.2.164,dstip=10.0.254.2, password=password"
Error (0x4100104): Incorrect parameters: There is existing replication or migration pair to this Volume.

administrator@cli> 

Expect: specify nonexistent source host

migrate -a start -t remote -i 0 -p 0 -s "srcip=10.84.254.164,dstip=10.84.1.115, password=password"
Error (0x4100104): Incorrect parameters: There is existing replication or migration pair to this Volume.

administrator@cli> 

Expect: Invalid setting parameters

migrate -a stop -i test
Error (0x2013): Invalid setting parameters
-i: invalid setting test

administrator@cli> 

Expect: migrate should not stop by destination volume

migrate -a stop -i 9
Error (0x4100104): Incorrect parameters: The parameter [password] is empty.

administrator@cli> 

Fail: please check out zp254243d


Expect: Volume id=[20] is not existed

migrate -a stop -i 20
Error (0x4100102): Empty query result, please check input parameters. Volume id=[20] is not existed.

administrator@cli> 
'result': 'f'

Expect: invalid option: -test

migrate -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: invalid option: -test

migrate -a -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: invalid option: -test

migrate -a start -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: invalid option: test

migrate -a start -i 0 -p 1 -s "test=sync"
Error (0x2012): Invalid option for the command or the action
-s: invalid option: test

administrator@cli> 

Expect: invalid option: -test

migrate -a stop -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 
'result': 'p'

Expect: Invalid setting parameters

migrate test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid setting parameters

migrate -a test
Error (0x2013): Invalid setting parameters
-a: invalid setting test (start|stop)

administrator@cli> 

Expect: destination pool capacity should be more than soure volume

migrate -a start -t local -i 0 -p 3
Error (0x4100104): Incorrect parameters: There is existing replication or migration pair to this Volume.

administrator@cli> 

Fail: please check out Destination Pool availiable size is not enough


Expect: specify nonexistent source volume

migrate -a start -t local -i 100 -p 0
Error (0x4100102): Empty query result, please check input parameters. Volume id=[100] is not existed.

administrator@cli> 

Expect: specify nonexistent destination pool

migrate -a start -t local -i 0 -p 10
Error (0x4100104): Incorrect parameters: There is existing replication or migration pair to this Volume.

administrator@cli> 

Fail: please check out Pool id=[10] is not existed


Expect: thin provision volume cannot become source volume

migrate -a start -t local -i 1 -p 1
Error (0x4100104): Incorrect parameters: Volume is not full-provision.

administrator@cli> 

Expect: Can not migrate Volume to the same Pool

migrate -a start -t local -i 0 -p 2
Error (0x4100104): Incorrect parameters: Can not migrate Volume to the same Pool.

administrator@cli> 

Expect: should hint error when specify wrong sync mode

migrate -a start -t local -i 0 -p 1 -s "syncmode=test"
Error (0x2013): Invalid setting parameters
syncmode: invalid setting test (async|semi-sync|sync)

administrator@cli> 

Expect: should hint error when specify wrong sync mode

migrate -a start -t remote -i 0 -p 0 -s "syncmode=t,srcip=10.84.2.164,dstip=10.84.2.115, password=password"
Error (0x2013): Invalid setting parameters
syncmode: invalid setting t (async|semi-sync|sync)

administrator@cli> 

Expect: ip nonconformity

migrate -a start -t remote -i 0 -p 0 -s "srcip=256.0.0.1,dstip=10.0.0.2, password=password"
Error (0x4100104): Incorrect parameters: There is existing replication or migration pair to this Volume.

administrator@cli> 

Expect: ip nonconformity

migrate -a start -t remote -i 0 -p 0 -s "srcip=10.256.0.1,dstip=10.0.0.2, password=password"
Error (0x4100104): Incorrect parameters: There is existing replication or migration pair to this Volume.

administrator@cli> 

Expect: ip nonconformity

migrate -a start -t remote -i 0 -p 0 -s "srcip=10.0.256.1,dstip=10.0.0.2, password=password"
Error (0x4100104): Incorrect parameters: There is existing replication or migration pair to this Volume.

administrator@cli> 

Expect: ip nonconformity

migrate -a start -t remote -i 0 -p 0 -s "srcip=10.0.0.256,dstip=10.0.0.2, password=password"
Error (0x4100104): Incorrect parameters: There is existing replication or migration pair to this Volume.

administrator@cli> 

Expect: specify nonexistent destination host

migrate -a start -t remote -i 0 -p 0 -s "srcip=10.84.2.164,dstip=10.0.254.2, password=password"
Error (0x4100104): Incorrect parameters: There is existing replication or migration pair to this Volume.

administrator@cli> 

Expect: specify nonexistent source host

migrate -a start -t remote -i 0 -p 0 -s "srcip=10.84.254.164,dstip=10.84.1.115, password=password"
Error (0x4100104): Incorrect parameters: There is existing replication or migration pair to this Volume.

administrator@cli> 

Expect: Invalid setting parameters

migrate -a stop -i test
Error (0x2013): Invalid setting parameters
-i: invalid setting test

administrator@cli> 

Expect: Volume id=[20] is not existed

migrate -a stop -i 20
Error (0x4100102): Empty query result, please check input parameters. Volume id=[20] is not existed.

administrator@cli> 
'result': 'f'

Expect: Missing parameter

migrate -a
Error (0x403): Missing parameter
-a: missing value

administrator@cli> 

Expect: Missing parameter

migrate -a start
Error (0x403): Missing parameter
-i source volumd ID is missed

administrator@cli> 

Expect: Missing parameter

migrate -a start -t
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Expect: Missing parameter

migrate -a start -t local
Error (0x403): Missing parameter
-i source volumd ID is missed

administrator@cli> 

Expect: Missing parameter

migrate -a start -t local -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 

Expect: Missing parameter

migrate -a start -t local -i 0 -p 2 -s
Error (0x403): Missing parameter
-s: missing value

administrator@cli> 

Expect: Missing parameter

migrate -a stop
Error (0x403): Missing parameter
-i source volumd ID is missed

administrator@cli> 

Expect: Missing parameter

migrate -a stop -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 
'result': 'p'
<b>Verify: fc -t node</b>
fc -t node
-------------------------------------------------------------------------------
WWNN: 25-01-00-01-55-5b-3d-29           SupportedFCClass: Class Of Service 3
MaxFrameSize: 2048                      SpeedSupported: 16Gb/s, 8Gb/s, 4Gb/s

administrator@cli> 
<b>Verify: fc -t port</b>
fc -t port
===============================================================================
CtrlId Port   State     WWPN                          
===============================================================================
2      1      Offline   26-07-00-01-55-5b-3d-29                                
2      2      Offline   26-06-00-01-55-5b-3d-29                                
2      3      Offline   26-05-00-01-55-5b-3d-29                                
2      4      Online    26-04-00-01-55-5b-3d-29                                

administrator@cli> 
<b>Verify: fc -t SFP</b>
fc -t SFP
-------------------------------------------------------------------------------
Controller 2 Port 1 : No SFP found

-------------------------------------------------------------------------------
Controller 2 Port 2 : No SFP found

-------------------------------------------------------------------------------
Controller 2 Port 3 : No SFP found

-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 4
Transceiver: SFP                        Connector: LC
TransCode: 00-00-00-00-40-40-04-70      SerialEncoding: 64B66B
BitRate: 14.0 Gb/s                      ManufacturingDateCode: 170518
LinkLength_9/125um: 0 m                 LinkLength_50/125um: 30 m
LinkLength_62.5/125um: 0 m              VendorName: BROCADE
VendorOUI: 00-05-1e                     VendorPartNum: 57-0000088-01
VendorRevision: A                       VendorSerialNum: HAF317200000J34

administrator@cli> 
<b>Verify: fc -t stats</b>
fc -t stats
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 1
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 2
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 3
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 4
LinkFailureCount: 1                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0

administrator@cli> 
<b>Verify: fc -t device</b>
fc -t device
Error (0x2013): Invalid setting parameters
-t: invalid setting device (node|port|stats|sfp|loggedininitiators|loggedintargets|allinitiators)

administrator@cli> 
<font color="red">Fail: fc -t device</font>
<b>Verify: fc -t fabricdevices</b>
fc -t fabricdevices
Error (0x2013): Invalid setting parameters
-t: invalid setting fabricdevices (node|port|stats|sfp|loggedininitiators|loggedintargets|allinitiators)

administrator@cli> 
<font color="red">Fail: fc -t fabricdevices</font>
<b>Verify: fc</b>
fc
===============================================================================
CtrlId Port   State     WWPN                          
===============================================================================
2      1      Offline   26-07-00-01-55-5b-3d-29                                
2      2      Offline   26-06-00-01-55-5b-3d-29                                
2      3      Offline   26-05-00-01-55-5b-3d-29                                
2      4      Online    26-04-00-01-55-5b-3d-29                                

administrator@cli> 
<b>Verify: fc -t port -p 3</b>
fc -t port -p 3
===============================================================================
CtrlId Port   State     WWPN                          
===============================================================================
2      3      Offline   26-05-00-01-55-5b-3d-29                                

administrator@cli> 

<font color="red">Fail: Verify fc </font>
'result': 'f'
<b>Verify: fc -a list -t node</b>
fc -a list -t node
-------------------------------------------------------------------------------
WWNN: 25-01-00-01-55-5b-3d-29           SupportedFCClass: Class Of Service 3
MaxFrameSize: 2048                      SpeedSupported: 16Gb/s, 8Gb/s, 4Gb/s

administrator@cli> 
<b>Verify: fc -a list -t port</b>
fc -a list -t port
===============================================================================
CtrlId Port   State     WWPN                          
===============================================================================
2      1      Offline   26-07-00-01-55-5b-3d-29                                
2      2      Offline   26-06-00-01-55-5b-3d-29                                
2      3      Offline   26-05-00-01-55-5b-3d-29                                
2      4      Online    26-04-00-01-55-5b-3d-29                                

administrator@cli> 
<b>Verify: fc -a list -t SFP</b>
fc -a list -t SFP
-------------------------------------------------------------------------------
Controller 2 Port 1 : No SFP found

-------------------------------------------------------------------------------
Controller 2 Port 2 : No SFP found

-------------------------------------------------------------------------------
Controller 2 Port 3 : No SFP found

-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 4
Transceiver: SFP                        Connector: LC
TransCode: 00-00-00-00-40-40-04-70      SerialEncoding: 64B66B
BitRate: 14.0 Gb/s                      ManufacturingDateCode: 170518
LinkLength_9/125um: 0 m                 LinkLength_50/125um: 30 m
LinkLength_62.5/125um: 0 m              VendorName: BROCADE
VendorOUI: 00-05-1e                     VendorPartNum: 57-0000088-01
VendorRevision: A                       VendorSerialNum: HAF317200000J34

administrator@cli> 
<b>Verify: fc -a list -t stats</b>
fc -a list -t stats
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 1
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 2
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 3
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 4
LinkFailureCount: 1                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0

administrator@cli> 
<b>Verify: fc -a list -t device</b>
fc -a list -t device
Error (0x2013): Invalid setting parameters
-t: invalid setting device (node|port|stats|sfp|loggedininitiators|loggedintargets|allinitiators)

administrator@cli> 
<font color="red">Fail: fc -a list -t device</font>
<b>Verify: fc -a list -t fabricdevices</b>
fc -a list -t fabricdevices
Error (0x2013): Invalid setting parameters
-t: invalid setting fabricdevices (node|port|stats|sfp|loggedininitiators|loggedintargets|allinitiators)

administrator@cli> 
<font color="red">Fail: fc -a list -t fabricdevices</font>
<b>Verify: fc -a list</b>
fc -a list
===============================================================================
CtrlId Port   State     WWPN                          
===============================================================================
2      1      Offline   26-07-00-01-55-5b-3d-29                                
2      2      Offline   26-06-00-01-55-5b-3d-29                                
2      3      Offline   26-05-00-01-55-5b-3d-29                                
2      4      Online    26-04-00-01-55-5b-3d-29                                

administrator@cli> 
<b>Verify: fc -a list -t port -p 3</b>
fc -a list -t port -p 3
===============================================================================
CtrlId Port   State     WWPN                          
===============================================================================
2      3      Offline   26-05-00-01-55-5b-3d-29                                

administrator@cli> 

<font color="red">Fail: Verify fc -a list</font>
'result': 'f'
<b>Verify: fc -a list -t node -v</b>
fc -a list -t node -v
-------------------------------------------------------------------------------
WWNN: 25-01-00-01-55-5b-3d-29           SupportedFCClass: Class Of Service 3
MaxFrameSize: 2048                      SpeedSupported: 16Gb/s, 8Gb/s, 4Gb/s

administrator@cli> 
<b>Verify: fc -a list -t port -v</b>
fc -a list -t port -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 1
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-07-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: Auto               ConfiguredTopology: Auto
HardALPA: 255
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 2
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-06-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: Auto               ConfiguredTopology: Auto
HardALPA: 255
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 3
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-05-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: Auto               ConfiguredTopology: Auto
HardALPA: 255
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 4
State: Online                           PortIdentifier: 0x010700
TopologyAttached: N-Port (Fabric Direct)
WWPN: 26-04-00-01-55-5b-3d-29           AliasWWPN: N/A
NumCurrentAlias: 0                      FabricWWNN: 10-00-c4-f5-7c-e2-70-a6
FabricWWPN: 20-07-c4-f5-7c-e2-70-a6     CurrentSpeed: 16Gb/s
LinkType: Laser Short Wave              ConfiguredLinkSpeed: Auto
ConfiguredTopology: Auto                HardALPA: 255

administrator@cli> 
<b>Verify: fc -a list -t SFP -v</b>
fc -a list -t SFP -v
-------------------------------------------------------------------------------
Controller 2 Port 1 : No SFP found

-------------------------------------------------------------------------------
Controller 2 Port 2 : No SFP found

-------------------------------------------------------------------------------
Controller 2 Port 3 : No SFP found

-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 4
Transceiver: SFP                        Connector: LC
TransCode: 00-00-00-00-40-40-04-70      SerialEncoding: 64B66B
BitRate: 14.0 Gb/s                      ManufacturingDateCode: 170518
LinkLength_9/125um: 0 m                 LinkLength_50/125um: 30 m
LinkLength_62.5/125um: 0 m              VendorName: BROCADE
VendorOUI: 00-05-1e                     VendorPartNum: 57-0000088-01
VendorRevision: A                       VendorSerialNum: HAF317200000J34

administrator@cli> 
<b>Verify: fc -a list -t stats -v</b>
fc -a list -t stats -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 1
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 2
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 3
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 4
LinkFailureCount: 1                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0

administrator@cli> 
<b>Verify: fc -a list -t device -v</b>
fc -a list -t device -v
Error (0x2013): Invalid setting parameters
-t: invalid setting device (node|port|stats|sfp|loggedininitiators|loggedintargets|allinitiators)

administrator@cli> 
<font color="red">Fail: fc -a list -t device -v</font>
<b>Verify: fc -a list -t fabricdevices -v</b>
fc -a list -t fabricdevices -v
Error (0x2013): Invalid setting parameters
-t: invalid setting fabricdevices (node|port|stats|sfp|loggedininitiators|loggedintargets|allinitiators)

administrator@cli> 
<font color="red">Fail: fc -a list -t fabricdevices -v</font>
<b>Verify: fc -a list -v</b>
fc -a list -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 1
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-07-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: Auto               ConfiguredTopology: Auto
HardALPA: 255
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 2
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-06-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: Auto               ConfiguredTopology: Auto
HardALPA: 255
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 3
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-05-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: Auto               ConfiguredTopology: Auto
HardALPA: 255
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 4
State: Online                           PortIdentifier: 0x010700
TopologyAttached: N-Port (Fabric Direct)
WWPN: 26-04-00-01-55-5b-3d-29           AliasWWPN: N/A
NumCurrentAlias: 0                      FabricWWNN: 10-00-c4-f5-7c-e2-70-a6
FabricWWPN: 20-07-c4-f5-7c-e2-70-a6     CurrentSpeed: 16Gb/s
LinkType: Laser Short Wave              ConfiguredLinkSpeed: Auto
ConfiguredTopology: Auto                HardALPA: 255

administrator@cli> 
<b>Verify: fc -a list -t port -p 3 -v</b>
fc -a list -t port -p 3 -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 3
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-05-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: Auto               ConfiguredTopology: Auto
HardALPA: 255

administrator@cli> 

<font color="red">Fail: Verify fc -a list -v</font>
'result': 'f'
<b> Verify fc -a mod -i 2 -t port -p 1 -s "linkspeed=4gb,topology=nlport,hardalpa=0"</b>
fc -a mod -i 2 -t port -p 1 -s "linkspeed=4gb,topology=nlport,hardalpa=0"

administrator@cli> 
fc -t port -i 2 -t port -p 1 -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 1
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-07-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: 4 Gb/s             ConfiguredTopology: NL-Port
HardALPA: 0

administrator@cli> 
<b> Verify fc -a mod -i 2 -t port -p 1 -s "linkspeed=16gb,topology=nport,hardalpa=126"</b>
fc -a mod -i 2 -t port -p 1 -s "linkspeed=16gb,topology=nport,hardalpa=126"

administrator@cli> 
fc -t port -i 2 -t port -p 1 -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 1
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-07-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: 16 Gb/s            ConfiguredTopology: N-Port
HardALPA: 126

administrator@cli> 
<b> Verify fc -a mod -i 2 -t port -p 1 -s "linkspeed=auto,topology=auto,hardalpa=255"</b>
fc -a mod -i 2 -t port -p 1 -s "linkspeed=auto,topology=auto,hardalpa=255"

administrator@cli> 
fc -t port -i 2 -t port -p 1 -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 1
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-07-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: Auto               ConfiguredTopology: Auto
HardALPA: 255

administrator@cli> 
<b> Verify fc -a mod -i 2 -t port -p 2 -s "linkspeed=4gb,topology=nlport,hardalpa=0"</b>
fc -a mod -i 2 -t port -p 2 -s "linkspeed=4gb,topology=nlport,hardalpa=0"

administrator@cli> 
fc -t port -i 2 -t port -p 2 -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 2
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-06-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: 4 Gb/s             ConfiguredTopology: NL-Port
HardALPA: 0

administrator@cli> 
<b> Verify fc -a mod -i 2 -t port -p 2 -s "linkspeed=16gb,topology=nport,hardalpa=126"</b>
fc -a mod -i 2 -t port -p 2 -s "linkspeed=16gb,topology=nport,hardalpa=126"

administrator@cli> 
fc -t port -i 2 -t port -p 2 -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 2
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-06-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: 16 Gb/s            ConfiguredTopology: N-Port
HardALPA: 126

administrator@cli> 
<b> Verify fc -a mod -i 2 -t port -p 2 -s "linkspeed=auto,topology=auto,hardalpa=255"</b>
fc -a mod -i 2 -t port -p 2 -s "linkspeed=auto,topology=auto,hardalpa=255"

administrator@cli> 
fc -t port -i 2 -t port -p 2 -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 2
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-06-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: Auto               ConfiguredTopology: Auto
HardALPA: 255

administrator@cli> 
<b> Verify fc -a mod -i 2 -t port -p 3 -s "linkspeed=4gb,topology=nlport,hardalpa=0"</b>
fc -a mod -i 2 -t port -p 3 -s "linkspeed=4gb,topology=nlport,hardalpa=0"

administrator@cli> 
fc -t port -i 2 -t port -p 3 -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 3
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-05-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: 4 Gb/s             ConfiguredTopology: NL-Port
HardALPA: 0

administrator@cli> 
<b> Verify fc -a mod -i 2 -t port -p 3 -s "linkspeed=16gb,topology=nport,hardalpa=126"</b>
fc -a mod -i 2 -t port -p 3 -s "linkspeed=16gb,topology=nport,hardalpa=126"

administrator@cli> 
fc -t port -i 2 -t port -p 3 -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 3
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-05-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: 16 Gb/s            ConfiguredTopology: N-Port
HardALPA: 126

administrator@cli> 
<b> Verify fc -a mod -i 2 -t port -p 3 -s "linkspeed=auto,topology=auto,hardalpa=255"</b>
fc -a mod -i 2 -t port -p 3 -s "linkspeed=auto,topology=auto,hardalpa=255"

administrator@cli> 
fc -t port -i 2 -t port -p 3 -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 3
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-05-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: Auto               ConfiguredTopology: Auto
HardALPA: 255

administrator@cli> 
<b> Verify fc -a mod -i 2 -t port -p 4 -s "linkspeed=4gb,topology=nlport,hardalpa=0"</b>
fc -a mod -i 2 -t port -p 4 -s "linkspeed=4gb,topology=nlport,hardalpa=0"

administrator@cli> 
fc -t port -i 2 -t port -p 4 -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 4
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-04-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: 4 Gb/s             ConfiguredTopology: NL-Port
HardALPA: 0

administrator@cli> 
<b> Verify fc -a mod -i 2 -t port -p 4 -s "linkspeed=16gb,topology=nport,hardalpa=126"</b>
fc -a mod -i 2 -t port -p 4 -s "linkspeed=16gb,topology=nport,hardalpa=126"

administrator@cli> 
fc -t port -i 2 -t port -p 4 -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 4
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-04-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: 16 Gb/s            ConfiguredTopology: N-Port
HardALPA: 126

administrator@cli> 
<b> Verify fc -a mod -i 2 -t port -p 4 -s "linkspeed=auto,topology=auto,hardalpa=255"</b>
fc -a mod -i 2 -t port -p 4 -s "linkspeed=auto,topology=auto,hardalpa=255"

administrator@cli> 
fc -t port -i 2 -t port -p 4 -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 4
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-04-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: Auto               ConfiguredTopology: Auto
HardALPA: 255

administrator@cli> 

<font color="green">Pass</font>
'result': 'p'
<b>Verify: fc -a reset -i 2 -p 1</b>
fc -a reset -i 2 -p 1

administrator@cli> 
fc -v -t port -i 2 -p 1
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 1
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-07-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: Auto               ConfiguredTopology: Auto
HardALPA: 255

administrator@cli> 
<b>Verify: fc -a reset -i 2 -p 2</b>
fc -a reset -i 2 -p 2

administrator@cli> 
fc -v -t port -i 2 -p 2
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 2
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-06-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: Auto               ConfiguredTopology: Auto
HardALPA: 255

administrator@cli> 
<b>Verify: fc -a reset -i 2 -p 3</b>
fc -a reset -i 2 -p 3

administrator@cli> 
fc -v -t port -i 2 -p 3
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 3
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-05-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: Auto               ConfiguredTopology: Auto
HardALPA: 255

administrator@cli> 
<b>Verify: fc -a reset -i 2 -p 4</b>
fc -a reset -i 2 -p 4

administrator@cli> 
fc -v -t port -i 2 -p 4
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 4
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-04-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: Auto               ConfiguredTopology: Auto
HardALPA: 255

administrator@cli> 

<font color="green">Pass</font>
'result': 'p'
<b>Verify: fc -a clear -i 2 -p 1</b>
fc -a clear -i 2 -p 1

administrator@cli> 
fc -v -t stats -i 2 -p 1
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 1
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0

administrator@cli> 
<b>Verify: fc -a clear -i 2 -p 2</b>
fc -a clear -i 2 -p 2

administrator@cli> 
fc -v -t stats -i 2 -p 2
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 2
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0

administrator@cli> 
<b>Verify: fc -a clear -i 2 -p 3</b>
fc -a clear -i 2 -p 3

administrator@cli> 
fc -v -t stats -i 2 -p 3
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 3
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0

administrator@cli> 
<b>Verify: fc -a clear -i 2 -p 4</b>
fc -a clear -i 2 -p 4

administrator@cli> 
fc -v -t stats -i 2 -p 4
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 4
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0

administrator@cli> 

<font color="green">Pass</font>
'result': 'p'
<b>Verify fc invalid option</b>
<b> Verify fc -x</b>
fc -x
Error (0x2012): Invalid option for the command or the action
invalid option: -x

administrator@cli> 
<b> Verify fc -a list -x</b>
fc -a list -x
Error (0x2012): Invalid option for the command or the action
invalid option: -x

administrator@cli> 
<b> Verify fc -a mod -x</b>
fc -a mod -x
Error (0x2012): Invalid option for the command or the action
invalid option: -x

administrator@cli> 
<b> Verify fc -a reset -x</b>
fc -a reset -x
Error (0x2012): Invalid option for the command or the action
invalid option: -x

administrator@cli> 
<b> Verify fc -a clear -x</b>
fc -a clear -x
Error (0x2012): Invalid option for the command or the action
invalid option: -x

administrator@cli> 

<font color="green">Pass</font>
'result': 'p'
<b>Verify fc invalid parameters</b>
<b> Verify fc test</b>
fc test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 
<b> Verify fc -a list test</b>
fc -a list test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 
<b> Verify fc -a mod test</b>
fc -a mod test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 
<b> Verify fc -a reset test</b>
fc -a reset test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 
<b> Verify fc -a clear test</b>
fc -a clear test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 
<b> Verify fc -i 3 -t port</b>
fc -i 3 -t port
Error (0x2013): Invalid setting parameters
-i: invalid setting 3 (1,2)

administrator@cli> 
<b> Verify fc -i 2 -t port -p 5</b>
fc -i 2 -t port -p 5
Error (0x2013): Invalid setting parameters
-p: invalid setting 5 (1,4)

administrator@cli> 

<font color="green">Pass</font>
'result': 'p'
<b>Verify fc missing parameters</b>
<b> Verify fc -a list -p</b>
fc -a list -p
Error (0x403): Missing parameter
-p: missing value

administrator@cli> 
<b> Verify fc -a mod -i</b>
fc -a mod -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 
<b> Verify fc -a reset -i</b>
fc -a reset -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 
<b> Verify fc -a clear -p</b>
fc -a clear -p
Error (0x403): Missing parameter
-p: missing value

administrator@cli> 

<font color="green">Pass</font>
'result': 'p'

Expect: all of fc info should be displayed

fc
===============================================================================
CtrlId Port   State     WWPN                          
===============================================================================
2      1      Offline   26-07-00-01-55-5b-3d-29                                
2      2      Offline   26-06-00-01-55-5b-3d-29                                
2      3      Offline   26-05-00-01-55-5b-3d-29                                
2      4      Online    26-04-00-01-55-5b-3d-29                                

administrator@cli> 

Expect: Display fc node information

fc -t node
-------------------------------------------------------------------------------
WWNN: 25-01-00-01-55-5b-3d-29           SupportedFCClass: Class Of Service 3
MaxFrameSize: 2048                      SpeedSupported: 16Gb/s, 8Gb/s, 4Gb/s

administrator@cli> 

Expect: Specifies fc port as the device type to display or modify information

fc -t port
===============================================================================
CtrlId Port   State     WWPN                          
===============================================================================
2      1      Offline   26-07-00-01-55-5b-3d-29                                
2      2      Offline   26-06-00-01-55-5b-3d-29                                
2      3      Offline   26-05-00-01-55-5b-3d-29                                
2      4      Online    26-04-00-01-55-5b-3d-29                                

administrator@cli> 

Expect: Display port SFP information

fc -t sfp
-------------------------------------------------------------------------------
Controller 2 Port 1 : No SFP found

-------------------------------------------------------------------------------
Controller 2 Port 2 : No SFP found

-------------------------------------------------------------------------------
Controller 2 Port 3 : No SFP found

-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 4
Transceiver: SFP                        Connector: LC
TransCode: 00-00-00-00-40-40-04-70      SerialEncoding: 64B66B
BitRate: 14.0 Gb/s                      ManufacturingDateCode: 170518
LinkLength_9/125um: 0 m                 LinkLength_50/125um: 30 m
LinkLength_62.5/125um: 0 m              VendorName: BROCADE
VendorOUI: 00-05-1e                     VendorPartNum: 57-0000088-01
VendorRevision: A                       VendorSerialNum: HAF317200000J34

administrator@cli> 

Expect: Display port statistics information

fc -t stats
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 1
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 2
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 3
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 4
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0

administrator@cli> 

Expect: Display port logged in initiator information

fc -t loggedininitiators
-------------------------------------------------------------------------------
No devices logged in

administrator@cli> 

Expect: Display port logged in target information

fc -t loggedintargets
-------------------------------------------------------------------------------
No targets logged in

administrator@cli> 

Expect: Display initiator list from fibre switch

fc -t allinitiators
===============================================================================
Index   CtrlId  PortId  WWPN                          
===============================================================================
1       2       4       26-05-00-01-55-5b-3c-fc                                
2       2       4       26-04-00-01-55-5b-3d-29                                
3       2       4       26-01-00-01-55-00-00-00                                
4       2       4       26-02-00-01-55-00-00-00                                

administrator@cli> 

Expect: 

fc -t 
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Fail: fc -t 


Expect: 

fc -t 
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Fail: fc -t 


Expect: 

fc -t 
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Fail: fc -t 


Expect: 

fc -t 
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Fail: fc -t 


Expect: 

fc -t 
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Fail: fc -t 


Expect: 

fc -t 
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Fail: fc -t 


Expect: 

fc -t 
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Fail: fc -t 

'result': 'f'

Expect: all of fc info should be displayed

fc
===============================================================================
CtrlId Port   State     WWPN                          
===============================================================================
2      1      Offline   26-07-00-01-55-5b-3d-29                                
2      2      Offline   26-06-00-01-55-5b-3d-29                                
2      3      Offline   26-05-00-01-55-5b-3d-29                                
2      4      Online    26-04-00-01-55-5b-3d-29                                

administrator@cli> 

Expect: Display fc node information

fc -t node
-------------------------------------------------------------------------------
WWNN: 25-01-00-01-55-5b-3d-29           SupportedFCClass: Class Of Service 3
MaxFrameSize: 2048                      SpeedSupported: 16Gb/s, 8Gb/s, 4Gb/s

administrator@cli> 

Expect: Specifies fc port as the device type to display or modify information

fc -t port
===============================================================================
CtrlId Port   State     WWPN                          
===============================================================================
2      1      Offline   26-07-00-01-55-5b-3d-29                                
2      2      Offline   26-06-00-01-55-5b-3d-29                                
2      3      Offline   26-05-00-01-55-5b-3d-29                                
2      4      Online    26-04-00-01-55-5b-3d-29                                

administrator@cli> 

Expect: Display port SFP information

fc -t sfp
-------------------------------------------------------------------------------
Controller 2 Port 1 : No SFP found

-------------------------------------------------------------------------------
Controller 2 Port 2 : No SFP found

-------------------------------------------------------------------------------
Controller 2 Port 3 : No SFP found

-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 4
Transceiver: SFP                        Connector: LC
TransCode: 00-00-00-00-40-40-04-70      SerialEncoding: 64B66B
BitRate: 14.0 Gb/s                      ManufacturingDateCode: 170518
LinkLength_9/125um: 0 m                 LinkLength_50/125um: 30 m
LinkLength_62.5/125um: 0 m              VendorName: BROCADE
VendorOUI: 00-05-1e                     VendorPartNum: 57-0000088-01
VendorRevision: A                       VendorSerialNum: HAF317200000J34

administrator@cli> 

Expect: Display port statistics information

fc -t stats
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 1
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 2
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 3
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 4
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0

administrator@cli> 

Expect: Display port logged in initiator information

fc -t loggedininitiators
-------------------------------------------------------------------------------
No devices logged in

administrator@cli> 

Expect: Display port logged in target information

fc -t loggedintargets
-------------------------------------------------------------------------------
No targets logged in

administrator@cli> 

Expect: Display initiator list from fibre switch

fc -t allinitiators
===============================================================================
Index   CtrlId  PortId  WWPN                          
===============================================================================
1       2       4       26-05-00-01-55-5b-3c-fc                                
2       2       4       26-04-00-01-55-5b-3d-29                                
3       2       4       26-01-00-01-55-00-00-00                                
4       2       4       26-02-00-01-55-00-00-00                                

administrator@cli> 

Expect: 

fc -t 
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Fail: fc -t 


Expect: 

fc -t 
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Fail: fc -t 


Expect: 

fc -t 
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Fail: fc -t 


Expect: 

fc -t 
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Fail: fc -t 


Expect: 

fc -t 
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Fail: fc -t 


Expect: 

fc -t 
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Fail: fc -t 


Expect: 

fc -t 
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Fail: fc -t 

'result': 'f'

Expect: all of fc info should be displayed

fc
===============================================================================
CtrlId Port   State     WWPN                          
===============================================================================
2      1      Offline   26-07-00-01-55-5b-3d-29                                
2      2      Offline   26-06-00-01-55-5b-3d-29                                
2      3      Offline   26-05-00-01-55-5b-3d-29                                
2      4      Online    26-04-00-01-55-5b-3d-29                                

administrator@cli> 

Expect: Display fc node information

fc -t node
-------------------------------------------------------------------------------
WWNN: 25-01-00-01-55-5b-3d-29           SupportedFCClass: Class Of Service 3
MaxFrameSize: 2048                      SpeedSupported: 16Gb/s, 8Gb/s, 4Gb/s

administrator@cli> 

Expect: Specifies fc port as the device type to display or modify information

fc -t port
===============================================================================
CtrlId Port   State     WWPN                          
===============================================================================
2      1      Offline   26-07-00-01-55-5b-3d-29                                
2      2      Offline   26-06-00-01-55-5b-3d-29                                
2      3      Offline   26-05-00-01-55-5b-3d-29                                
2      4      Online    26-04-00-01-55-5b-3d-29                                

administrator@cli> 

Expect: Display port SFP information

fc -t sfp
-------------------------------------------------------------------------------
Controller 2 Port 1 : No SFP found

-------------------------------------------------------------------------------
Controller 2 Port 2 : No SFP found

-------------------------------------------------------------------------------
Controller 2 Port 3 : No SFP found

-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 4
Transceiver: SFP                        Connector: LC
TransCode: 00-00-00-00-40-40-04-70      SerialEncoding: 64B66B
BitRate: 14.0 Gb/s                      ManufacturingDateCode: 170518
LinkLength_9/125um: 0 m                 LinkLength_50/125um: 30 m
LinkLength_62.5/125um: 0 m              VendorName: BROCADE
VendorOUI: 00-05-1e                     VendorPartNum: 57-0000088-01
VendorRevision: A                       VendorSerialNum: HAF317200000J34

administrator@cli> 

Expect: Display port statistics information

fc -t stats
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 1
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 2
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 3
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 4
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0

administrator@cli> 

Expect: Display port logged in initiator information

fc -t loggedininitiators
-------------------------------------------------------------------------------
No devices logged in

administrator@cli> 

Expect: Display port logged in target information

fc -t loggedintargets
-------------------------------------------------------------------------------
No targets logged in

administrator@cli> 

Expect: Display initiator list from fibre switch

fc -t allinitiators
===============================================================================
Index   CtrlId  PortId  WWPN                          
===============================================================================
1       2       4       26-05-00-01-55-5b-3c-fc                                
2       2       4       26-04-00-01-55-5b-3d-29                                
3       2       4       26-01-00-01-55-00-00-00                                
4       2       4       26-02-00-01-55-00-00-00                                

administrator@cli> 

Expect: port 1 info should be listed on ctrl 2

fc -i 2 -t port -p 1 
===============================================================================
CtrlId Port   State     WWPN                          
===============================================================================
2      1      Offline   26-07-00-01-55-5b-3d-29                                

administrator@cli> 

Expect: port 2 info should be listed on ctrl 2

fc -i 2 -t port -p 2
===============================================================================
CtrlId Port   State     WWPN                          
===============================================================================
2      2      Offline   26-06-00-01-55-5b-3d-29                                

administrator@cli> 

Expect: port 3 info should be listed on ctrl 2

fc -i 2 -t port -p 3
===============================================================================
CtrlId Port   State     WWPN                          
===============================================================================
2      3      Offline   26-05-00-01-55-5b-3d-29                                

administrator@cli> 

Expect: port 4 info should be listed on ctrl 2

fc -i 2 -t port -p 4
===============================================================================
CtrlId Port   State     WWPN                          
===============================================================================
2      4      Online    26-04-00-01-55-5b-3d-29                                

administrator@cli> 
'result': 'p'

Expect: all of fc info should be displayed by verbose mode

fc -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 1
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-07-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: Auto               ConfiguredTopology: Auto
HardALPA: 255
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 2
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-06-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: Auto               ConfiguredTopology: Auto
HardALPA: 255
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 3
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-05-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: Auto               ConfiguredTopology: Auto
HardALPA: 255
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 4
State: Online                           PortIdentifier: 0x010700
TopologyAttached: N-Port (Fabric Direct)
WWPN: 26-04-00-01-55-5b-3d-29           AliasWWPN: N/A
NumCurrentAlias: 0                      FabricWWNN: 10-00-c4-f5-7c-e2-70-a6
FabricWWPN: 20-07-c4-f5-7c-e2-70-a6     CurrentSpeed: 16Gb/s
LinkType: Laser Short Wave              ConfiguredLinkSpeed: Auto
ConfiguredTopology: Auto                HardALPA: 255

administrator@cli> 

Expect: Display fc node information by verbose mode

fc -t node -v
-------------------------------------------------------------------------------
WWNN: 25-01-00-01-55-5b-3d-29           SupportedFCClass: Class Of Service 3
MaxFrameSize: 2048                      SpeedSupported: 16Gb/s, 8Gb/s, 4Gb/s

administrator@cli> 

Expect: Specifies fc port as the device type to display or modify information by verbose mode

fc -t port -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 1
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-07-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: Auto               ConfiguredTopology: Auto
HardALPA: 255
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 2
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-06-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: Auto               ConfiguredTopology: Auto
HardALPA: 255
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 3
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-05-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: Auto               ConfiguredTopology: Auto
HardALPA: 255
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 4
State: Online                           PortIdentifier: 0x010700
TopologyAttached: N-Port (Fabric Direct)
WWPN: 26-04-00-01-55-5b-3d-29           AliasWWPN: N/A
NumCurrentAlias: 0                      FabricWWNN: 10-00-c4-f5-7c-e2-70-a6
FabricWWPN: 20-07-c4-f5-7c-e2-70-a6     CurrentSpeed: 16Gb/s
LinkType: Laser Short Wave              ConfiguredLinkSpeed: Auto
ConfiguredTopology: Auto                HardALPA: 255

administrator@cli> 

Expect: Display port SFP information by verbose mode

fc -t sfp -v
-------------------------------------------------------------------------------
Controller 2 Port 1 : No SFP found

-------------------------------------------------------------------------------
Controller 2 Port 2 : No SFP found

-------------------------------------------------------------------------------
Controller 2 Port 3 : No SFP found

-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 4
Transceiver: SFP                        Connector: LC
TransCode: 00-00-00-00-40-40-04-70      SerialEncoding: 64B66B
BitRate: 14.0 Gb/s                      ManufacturingDateCode: 170518
LinkLength_9/125um: 0 m                 LinkLength_50/125um: 30 m
LinkLength_62.5/125um: 0 m              VendorName: BROCADE
VendorOUI: 00-05-1e                     VendorPartNum: 57-0000088-01
VendorRevision: A                       VendorSerialNum: HAF317200000J34

administrator@cli> 

Expect: Display port statistics information by verbose mode

fc -t stats -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 1
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 2
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 3
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 4
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0

administrator@cli> 

Expect: Display port logged in initiator information by verbose mode

fc -t loggedininitiators -v
-------------------------------------------------------------------------------
No devices logged in

administrator@cli> 

Expect: Display port logged in target information by verbose mode

fc -t loggedintargets -v
-------------------------------------------------------------------------------
No targets logged in

administrator@cli> 

Expect: Display initiator list from fibre switch by verbose mode

fc -t allinitiators -v
-------------------------------------------------------------------------------
Index: 1                                CtrlId: 2
PortId: 4                               WWPN: 26-05-00-01-55-5b-3c-fc
WWNN: 25-01-00-01-55-5b-3c-fc           NPortId: 0x010100
SymbolicName: Promise VTrak 16G FC product
-------------------------------------------------------------------------------
Index: 2                                CtrlId: 2
PortId: 4                               WWPN: 26-04-00-01-55-5b-3d-29
WWNN: 25-01-00-01-55-5b-3d-29           NPortId: 0x010700
SymbolicName: Promise VTrak 16G FC product
-------------------------------------------------------------------------------
Index: 3                                CtrlId: 2
PortId: 4                               WWPN: 26-01-00-01-55-00-00-00
WWNN: 25-00-00-01-55-00-00-00           NPortId: 0x010a00
SymbolicName: Promise VTrak 16G FC product
-------------------------------------------------------------------------------
Index: 4                                CtrlId: 2
PortId: 4                               WWPN: 26-02-00-01-55-00-00-00
WWNN: 25-00-00-01-55-00-00-00           NPortId: 0x010b00
SymbolicName: Promise VTrak 16G FC product

administrator@cli> 

Expect: port 1 info should be listed on ctrl 2 by verbose mode

fc -i 2 -t port -p 1 -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 1
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-07-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: Auto               ConfiguredTopology: Auto
HardALPA: 255

administrator@cli> 

Expect: port 2 info should be listed on ctrl 2 by verbose mode

fc -i 2 -t port -p 2 -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 2
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-06-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: Auto               ConfiguredTopology: Auto
HardALPA: 255

administrator@cli> 

Expect: port 3 info should be listed on ctrl 2 by verbose mode

fc -i 2 -t port -p 3 -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 3
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-05-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: Auto               ConfiguredTopology: Auto
HardALPA: 255

administrator@cli> 

Expect: port 4 info should be listed on ctrl 2 by verbose mode

fc -i 2 -t port -p 4 -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 4
State: Online                           PortIdentifier: 0x010700
TopologyAttached: N-Port (Fabric Direct)
WWPN: 26-04-00-01-55-5b-3d-29           AliasWWPN: N/A
NumCurrentAlias: 0                      FabricWWNN: 10-00-c4-f5-7c-e2-70-a6
FabricWWPN: 20-07-c4-f5-7c-e2-70-a6     CurrentSpeed: 16Gb/s
LinkType: Laser Short Wave              ConfiguredLinkSpeed: Auto
ConfiguredTopology: Auto                HardALPA: 255

administrator@cli> 
'result': 'p'

Expect: all of fc info should be displayed by verbose mode

fc -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 1
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-07-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: Auto               ConfiguredTopology: Auto
HardALPA: 255
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 2
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-06-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: Auto               ConfiguredTopology: Auto
HardALPA: 255
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 3
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-05-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: Auto               ConfiguredTopology: Auto
HardALPA: 255
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 4
State: Online                           PortIdentifier: 0x010700
TopologyAttached: N-Port (Fabric Direct)
WWPN: 26-04-00-01-55-5b-3d-29           AliasWWPN: N/A
NumCurrentAlias: 0                      FabricWWNN: 10-00-c4-f5-7c-e2-70-a6
FabricWWPN: 20-07-c4-f5-7c-e2-70-a6     CurrentSpeed: 16Gb/s
LinkType: Laser Short Wave              ConfiguredLinkSpeed: Auto
ConfiguredTopology: Auto                HardALPA: 255

administrator@cli> 

Expect: Display fc node information by verbose mode

fc -t node -v
-------------------------------------------------------------------------------
WWNN: 25-01-00-01-55-5b-3d-29           SupportedFCClass: Class Of Service 3
MaxFrameSize: 2048                      SpeedSupported: 16Gb/s, 8Gb/s, 4Gb/s

administrator@cli> 

Expect: Specifies fc port as the device type to display or modify information by verbose mode

fc -t port -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 1
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-07-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: Auto               ConfiguredTopology: Auto
HardALPA: 255
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 2
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-06-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: Auto               ConfiguredTopology: Auto
HardALPA: 255
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 3
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-05-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: Auto               ConfiguredTopology: Auto
HardALPA: 255
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 4
State: Online                           PortIdentifier: 0x010700
TopologyAttached: N-Port (Fabric Direct)
WWPN: 26-04-00-01-55-5b-3d-29           AliasWWPN: N/A
NumCurrentAlias: 0                      FabricWWNN: 10-00-c4-f5-7c-e2-70-a6
FabricWWPN: 20-07-c4-f5-7c-e2-70-a6     CurrentSpeed: 16Gb/s
LinkType: Laser Short Wave              ConfiguredLinkSpeed: Auto
ConfiguredTopology: Auto                HardALPA: 255

administrator@cli> 

Expect: Display port SFP information by verbose mode

fc -t sfp -v
-------------------------------------------------------------------------------
Controller 2 Port 1 : No SFP found

-------------------------------------------------------------------------------
Controller 2 Port 2 : No SFP found

-------------------------------------------------------------------------------
Controller 2 Port 3 : No SFP found

-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 4
Transceiver: SFP                        Connector: LC
TransCode: 00-00-00-00-40-40-04-70      SerialEncoding: 64B66B
BitRate: 14.0 Gb/s                      ManufacturingDateCode: 170518
LinkLength_9/125um: 0 m                 LinkLength_50/125um: 30 m
LinkLength_62.5/125um: 0 m              VendorName: BROCADE
VendorOUI: 00-05-1e                     VendorPartNum: 57-0000088-01
VendorRevision: A                       VendorSerialNum: HAF317200000J34

administrator@cli> 

Expect: Display port statistics information by verbose mode

fc -t stats -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 1
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 2
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 3
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 4
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0

administrator@cli> 

Expect: Display port logged in initiator information by verbose mode

fc -t loggedininitiators -v
-------------------------------------------------------------------------------
No devices logged in

administrator@cli> 

Expect: Display port logged in target information by verbose mode

fc -t loggedintargets -v
-------------------------------------------------------------------------------
No targets logged in

administrator@cli> 

Expect: Display initiator list from fibre switch by verbose mode

fc -t allinitiators -v
-------------------------------------------------------------------------------
Index: 1                                CtrlId: 2
PortId: 4                               WWPN: 26-05-00-01-55-5b-3c-fc
WWNN: 25-01-00-01-55-5b-3c-fc           NPortId: 0x010100
SymbolicName: Promise VTrak 16G FC product
-------------------------------------------------------------------------------
Index: 2                                CtrlId: 2
PortId: 4                               WWPN: 26-04-00-01-55-5b-3d-29
WWNN: 25-01-00-01-55-5b-3d-29           NPortId: 0x010700
SymbolicName: Promise VTrak 16G FC product
-------------------------------------------------------------------------------
Index: 3                                CtrlId: 2
PortId: 4                               WWPN: 26-01-00-01-55-00-00-00
WWNN: 25-00-00-01-55-00-00-00           NPortId: 0x010a00
SymbolicName: Promise VTrak 16G FC product
-------------------------------------------------------------------------------
Index: 4                                CtrlId: 2
PortId: 4                               WWPN: 26-02-00-01-55-00-00-00
WWNN: 25-00-00-01-55-00-00-00           NPortId: 0x010b00
SymbolicName: Promise VTrak 16G FC product

administrator@cli> 

Expect: port 1 info should be listed on ctrl 2 by verbose mode

fc -i 2 -t port -p 1 -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 1
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-07-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: Auto               ConfiguredTopology: Auto
HardALPA: 255

administrator@cli> 

Expect: port 2 info should be listed on ctrl 2 by verbose mode

fc -i 2 -t port -p 2 -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 2
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-06-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: Auto               ConfiguredTopology: Auto
HardALPA: 255

administrator@cli> 

Expect: port 3 info should be listed on ctrl 2 by verbose mode

fc -i 2 -t port -p 3 -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 3
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-05-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: Auto               ConfiguredTopology: Auto
HardALPA: 255

administrator@cli> 

Expect: port 4 info should be listed on ctrl 2 by verbose mode

fc -i 2 -t port -p 4 -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 4
State: Online                           PortIdentifier: 0x010700
TopologyAttached: N-Port (Fabric Direct)
WWPN: 26-04-00-01-55-5b-3d-29           AliasWWPN: N/A
NumCurrentAlias: 0                      FabricWWNN: 10-00-c4-f5-7c-e2-70-a6
FabricWWPN: 20-07-c4-f5-7c-e2-70-a6     CurrentSpeed: 16Gb/s
LinkType: Laser Short Wave              ConfiguredLinkSpeed: Auto
ConfiguredTopology: Auto                HardALPA: 255

administrator@cli> 
'result': 'p'

Expect: port 1 should be modified by "linkspeed=4gb,topology=nlport,hardalpa=0"

fc -a mod -t port -p 1 -s "linkspeed=4gb,topology=nlport,hardalpa=0"

administrator@cli> 
fc -t port -p 1 
===============================================================================
CtrlId Port   State     WWPN                          
===============================================================================
2      1      Offline   26-07-00-01-55-5b-3d-29                                

administrator@cli> 

Expect: port 2 should be modified by "linkspeed=8gb,topology=nport,hardalpa=1"

fc -a mod -t port -p 2 -s "linkspeed=8gb,topology=nport,hardalpa=1"

administrator@cli> 
fc -t port -p 2
===============================================================================
CtrlId Port   State     WWPN                          
===============================================================================
2      2      Offline   26-06-00-01-55-5b-3d-29                                

administrator@cli> 

Expect: port 3 should be modified by "linkspeed=16gb,topology=auto,hardalpa=254"

fc -a mod -t port -p 3 -s "linkspeed=16gb,topology=auto,hardalpa=254"

administrator@cli> 
fc -t port -p 3
===============================================================================
CtrlId Port   State     WWPN                          
===============================================================================
2      3      Offline   26-05-00-01-55-5b-3d-29                                

administrator@cli> 

Expect: port 4 should be modified by "linkspeed=auto,hardalpa=255"

fc -a mod -i 2 -t port -p 4 -s "linkspeed=auto,hardalpa=255"

administrator@cli> 
fc -i 2 -t port -p 4
===============================================================================
CtrlId Port   State     WWPN                          
===============================================================================
2      4      Online    26-04-00-01-55-5b-3d-29                                

administrator@cli> 
'result': 'p'

Expect: port 1 should be modified by "linkspeed=4gb,topology=nlport,hardalpa=0"

fc -a mod -t port -p 1 -s "linkspeed=4gb,topology=nlport,hardalpa=0"

administrator@cli> 
fc -t port -p 1 -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 1
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-07-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: 4 Gb/s             ConfiguredTopology: NL-Port
HardALPA: 0

administrator@cli> 

Expect: port 2 should be modified by "linkspeed=8gb,topology=nport,hardalpa=1"

fc -a mod -t port -p 2 -s "linkspeed=8gb,topology=nport,hardalpa=1"

administrator@cli> 
fc -t port -p 2 -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 2
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-06-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: 8 Gb/s             ConfiguredTopology: N-Port
HardALPA: 1

administrator@cli> 

Expect: port 3 should be modified by "linkspeed=16gb,topology=auto,hardalpa=254"

fc -a mod -t port -p 3 -s "linkspeed=16gb,topology=auto,hardalpa=254"

administrator@cli> 
fc -t port -p 3 -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 3
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-05-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: 16 Gb/s            ConfiguredTopology: Auto
HardALPA: 254

administrator@cli> 

Expect: port 4 should be modified by "linkspeed=auto,hardalpa=255"

fc -a mod -i 2 -t port -p 4 -s "linkspeed=auto,hardalpa=255"

administrator@cli> 
fc -i 2 -t port -p 4 -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 4
State: Online                           PortIdentifier: 0x010700
TopologyAttached: N-Port (Fabric Direct)
WWPN: 26-04-00-01-55-5b-3d-29           AliasWWPN: N/A
NumCurrentAlias: 0                      FabricWWNN: 10-00-c4-f5-7c-e2-70-a6
FabricWWPN: 20-07-c4-f5-7c-e2-70-a6     CurrentSpeed: 16Gb/s
LinkType: Laser Short Wave              ConfiguredLinkSpeed: Auto
ConfiguredTopology: Auto                HardALPA: 255

administrator@cli> 
'result': 'p'

Expect: port 1 should be modified by "linkspeed=4gb,topology=nlport,hardalpa=0"

fc -a mod -t port -p 1 -s "linkspeed=4gb,topology=nlport,hardalpa=0"

administrator@cli> 
fc -t port -p 1 -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 1
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-07-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: 4 Gb/s             ConfiguredTopology: NL-Port
HardALPA: 0

administrator@cli> 

Expect: port 2 should be modified by "linkspeed=8gb,topology=nport,hardalpa=1"

fc -a mod -t port -p 2 -s "linkspeed=8gb,topology=nport,hardalpa=1"

administrator@cli> 
fc -t port -p 2 -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 2
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-06-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: 8 Gb/s             ConfiguredTopology: N-Port
HardALPA: 1

administrator@cli> 

Expect: port 3 should be modified by "linkspeed=16gb,topology=auto,hardalpa=254"

fc -a mod -t port -p 3 -s "linkspeed=16gb,topology=auto,hardalpa=254"

administrator@cli> 
fc -t port -p 3 -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 3
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-05-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: 16 Gb/s            ConfiguredTopology: Auto
HardALPA: 254

administrator@cli> 

Expect: port 4 should be modified by "linkspeed=auto,hardalpa=255"

fc -a mod -i 2 -t port -p 4 -s "linkspeed=auto,hardalpa=255"

administrator@cli> 
fc -i 2 -t port -p 4 -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 4
State: Online                           PortIdentifier: 0x010700
TopologyAttached: N-Port (Fabric Direct)
WWPN: 26-04-00-01-55-5b-3d-29           AliasWWPN: N/A
NumCurrentAlias: 0                      FabricWWNN: 10-00-c4-f5-7c-e2-70-a6
FabricWWPN: 20-07-c4-f5-7c-e2-70-a6     CurrentSpeed: 16Gb/s
LinkType: Laser Short Wave              ConfiguredLinkSpeed: Auto
ConfiguredTopology: Auto                HardALPA: 255

administrator@cli> 
'result': 'p'

Expect: port 1 should be reset

fc -a reset -i 2 -p 1

administrator@cli> 

Expect: port 2 should be reset

fc -a reset -i 2 -p 2

administrator@cli> 

Expect: port 3 should be reset

fc -a reset -i 2 -p 3

administrator@cli> 

Expect: port 4 should be reset

fc -a reset -p 4
Error (0x403): Missing parameter
missing parameter '-i' for '-a reset'

administrator@cli> 

Fail: fc -a reset -p 4

'result': 'f'

Expect: port 1 should be reset

fc -a reset -i 2 -p 1

administrator@cli> 

Expect: port 2 should be reset

fc -a reset -i 2 -p 2

administrator@cli> 

Expect: port 3 should be reset

fc -a reset -i 2 -p 3

administrator@cli> 

Expect: port 4 should be reset

fc -a reset -i 2 -p 4

administrator@cli> 
'result': 'p'

Expect: port 1 should be reset

fc -a reset -i 2 -p 1

administrator@cli> 

Expect: port 2 should be reset

fc -a reset -i 2 -p 2

administrator@cli> 

Expect: port 3 should be reset

fc -a reset -i 2 -p 3

administrator@cli> 

Expect: port 4 should be reset

fc -a reset -i 2 -p 4

administrator@cli> 
'result': 'p'

Expect: port 1 should be cleared

fc -a clear -i 2 -p 1

administrator@cli> 

Expect: port 2 should be cleared

fc -a clear -i 2 -p 2

administrator@cli> 

Expect: port 3 should be cleared

fc -a clear -i 2 -p 3

administrator@cli> 

Expect: port 4 should be cleared

fc -a clear -i 2 -p 4

administrator@cli> 
'result': 'p'

Expect: Invalid setting parameters

ctrl test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid setting parameters

fc test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid setting parameters

fc -t test
Error (0x2013): Invalid setting parameters
-t: invalid setting test (node|port|stats|sfp|loggedininitiators|loggedintargets|allinitiators)

administrator@cli> 

Expect: Invalid setting parameters

fc -t 1
Error (0x2013): Invalid setting parameters
-t: invalid setting 1 (node|port|stats|sfp|loggedininitiators|loggedintargets|allinitiators)

administrator@cli> 

Expect: Invalid setting parameters

fc -i 2 -t port -p 5 
Error (0x2013): Invalid setting parameters
-p: invalid setting 5 (1,4)

administrator@cli> 

Expect: Invalid setting parameters

fc -i 3 -t port -p 2
Error (0x2013): Invalid setting parameters
-i: invalid setting 3 (1,2)

administrator@cli> 

Expect: Invalid setting parameters

fc -i test -t port -p 3
Error (0x2013): Invalid setting parameters
-i: invalid setting test

administrator@cli> 

Expect: Invalid setting parameters

fc -i 2 -t port -p test
Error (0x2013): Invalid setting parameters
-p: invalid setting test

administrator@cli> 
'result': 'p'

Expect: Invalid setting parameters

fc test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid type setting parameters

fc -t test
Error (0x2013): Invalid setting parameters
-t: invalid setting test (node|port|stats|sfp|loggedininitiators|loggedintargets|allinitiators)

administrator@cli> 

Expect: Invalid type setting parameters

fc -t 1
Error (0x2013): Invalid setting parameters
-t: invalid setting 1 (node|port|stats|sfp|loggedininitiators|loggedintargets|allinitiators)

administrator@cli> 

Expect: Invalid port id

fc -i 2 -t port -p 5 
Error (0x2013): Invalid setting parameters
-p: invalid setting 5 (1,4)

administrator@cli> 

Expect: Invalid ctrl id

fc -i 3 -t port -p 2
Error (0x2013): Invalid setting parameters
-i: invalid setting 3 (1,2)

administrator@cli> 

Expect: Invalid setting parameters of ctrl id

fc -i test -t port -p 3
Error (0x2013): Invalid setting parameters
-i: invalid setting test

administrator@cli> 

Expect: Invalid setting parameters of port id

fc -i 2 -t port -p test
Error (0x2013): Invalid setting parameters
-p: invalid setting test

administrator@cli> 
'result': 'p'

Expect: Invalid setting parameters when executes list

fc test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid type setting parameters

fc -t test
Error (0x2013): Invalid setting parameters
-t: invalid setting test (node|port|stats|sfp|loggedininitiators|loggedintargets|allinitiators)

administrator@cli> 

Expect: Invalid type setting parameters

fc -t 1
Error (0x2013): Invalid setting parameters
-t: invalid setting 1 (node|port|stats|sfp|loggedininitiators|loggedintargets|allinitiators)

administrator@cli> 

Expect: Invalid port id

fc -i 2 -t port -p 5 
Error (0x2013): Invalid setting parameters
-p: invalid setting 5 (1,4)

administrator@cli> 

Expect: Invalid ctrl id

fc -i 3 -t port -p 2
Error (0x2013): Invalid setting parameters
-i: invalid setting 3 (1,2)

administrator@cli> 

Expect: Invalid setting parameters of ctrl id

fc -i test -t port -p 3
Error (0x2013): Invalid setting parameters
-i: invalid setting test

administrator@cli> 

Expect: Invalid setting parameters of port id

fc -i 2 -t port -p test
Error (0x2013): Invalid setting parameters
-p: invalid setting test

administrator@cli> 

Expect: Invalid setting parameters when executes modification

fc -a mod test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid type setting parameters when executes modification

fc -a mod -t test
Error (0x2013): Invalid setting parameters
-t: invalid setting test (node|port|stats|sfp|loggedininitiators|loggedintargets|allinitiators)

administrator@cli> 

Expect: Invalid port id when executes modification

fc -a mod -t port -p 5 -s "linkspeed=4gb,topology=nlport,hardalpa=0"
Error (0x2013): Invalid setting parameters
-p: invalid setting 5 (1,4)

administrator@cli> 

Expect: Invalid type of linkspeed setting parameters

fc -a mod -t port -p 2 -s "linkspeed=test"
Error (0x2013): Invalid setting parameters
linkspeed: invalid setting test (auto|4gb|8gb|16gb)

administrator@cli> 

Expect: Invalid type of topology setting parameters

fc -a mod -t port -p 3 -s "topology=test"
Error (0x2013): Invalid setting parameters
topology: invalid setting test (auto|nlport|nport)

administrator@cli> 

Expect: Invalid type of hardalpa setting parameters

fc -a mod -i 2 -t port -p 4 -s "hardalpa=256"
Error (0x2013): Invalid setting parameters
hardalpa: invalid setting 256 (0,255)

administrator@cli> 

Expect: Invalid type of hardalpa setting parameters

fc -a mod -i 2 -t port -p 4 -s "hardalpa=test"
Error (0x2013): Invalid setting parameters
hardalpa: invalid setting test

administrator@cli> 

Expect: Invalid ctrl id when executes modification

fc -a mod -i 3 -t port -p 4 -s "hardalpa=1"
Error (0x2013): Invalid setting parameters
-i: invalid setting 3 (1,2)

administrator@cli> 

Expect: Invalid setting parameters when executes reseting

fc -a reset test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid ctrl id when executes reseting

fc -a reset -i 3 -p 2
Error (0x2013): Invalid setting parameters
-i: invalid setting 3 (1,2)

administrator@cli> 

Expect: Invalid port id when executes reseting

fc -a reset -i 2 -p 5
Error (0x2013): Invalid setting parameters
-p: invalid setting 5 (1,4)

administrator@cli> 

Expect: Invalid setting parameters when executes clearing

fc -a clear test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid ctrl id when executes clearing

fc -a clear -i 3 -p 2
Error (0x2013): Invalid setting parameters
-i: invalid setting 3 (1,2)

administrator@cli> 

Expect: Invalid port id when executes clearing

fc -a clear -i 2 -p 5
Error (0x2013): Invalid setting parameters
-p: invalid setting 5 (1,4)

administrator@cli> 
'result': 'p'

Expect: Invalid setting parameters when executes list

fc test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid type setting parameters

fc -t test
Error (0x2013): Invalid setting parameters
-t: invalid setting test (node|port|stats|sfp|loggedininitiators|loggedintargets|allinitiators)

administrator@cli> 

Expect: Invalid type setting parameters

fc -t 1
Error (0x2013): Invalid setting parameters
-t: invalid setting 1 (node|port|stats|sfp|loggedininitiators|loggedintargets|allinitiators)

administrator@cli> 

Expect: Invalid port id

fc -i 2 -t port -p 5 
Error (0x2013): Invalid setting parameters
-p: invalid setting 5 (1,4)

administrator@cli> 

Expect: Invalid ctrl id

fc -i 3 -t port -p 2
Error (0x2013): Invalid setting parameters
-i: invalid setting 3 (1,2)

administrator@cli> 

Expect: Invalid setting parameters of ctrl id

fc -i test -t port -p 3
Error (0x2013): Invalid setting parameters
-i: invalid setting test

administrator@cli> 

Expect: Invalid setting parameters of port id

fc -i 2 -t port -p test
Error (0x2013): Invalid setting parameters
-p: invalid setting test

administrator@cli> 

Expect: Invalid setting parameters when executes modification

fc -a mod test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid type setting parameters when executes modification

fc -a mod -t test
Error (0x2013): Invalid setting parameters
-t: invalid setting test (node|port|stats|sfp|loggedininitiators|loggedintargets|allinitiators)

administrator@cli> 

Expect: Invalid port id when executes modification

fc -a mod -t port -p 5 -s "linkspeed=4gb,topology=nlport,hardalpa=0"
Error (0x2013): Invalid setting parameters
-p: invalid setting 5 (1,4)

administrator@cli> 

Expect: Invalid type of linkspeed setting parameters

fc -a mod -t port -p 2 -s "linkspeed=test"
Error (0x2013): Invalid setting parameters
linkspeed: invalid setting test (auto|4gb|8gb|16gb)

administrator@cli> 

Expect: Invalid type of topology setting parameters

fc -a mod -t port -p 3 -s "topology=test"
Error (0x2013): Invalid setting parameters
topology: invalid setting test (auto|nlport|nport)

administrator@cli> 

Expect: Invalid type of hardalpa setting parameters

fc -a mod -i 2 -t port -p 4 -s "hardalpa=256"
Error (0x2013): Invalid setting parameters
hardalpa: invalid setting 256 (0,255)

administrator@cli> 

Expect: Invalid type of hardalpa setting parameters

fc -a mod -i 2 -t port -p 4 -s "hardalpa=test"
Error (0x2013): Invalid setting parameters
hardalpa: invalid setting test

administrator@cli> 

Expect: Invalid ctrl id when executes modification

fc -a mod -i 3 -t port -p 4 -s "hardalpa=1"
Error (0x2013): Invalid setting parameters
-i: invalid setting 3 (1,2)

administrator@cli> 

Expect: Invalid setting parameters when executes reseting

fc -a reset test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid ctrl id when executes reseting

fc -a reset -i 3 -p 2
Error (0x2013): Invalid setting parameters
-i: invalid setting 3 (1,2)

administrator@cli> 

Expect: Invalid port id when executes reseting

fc -a reset -i 2 -p 5
Error (0x2013): Invalid setting parameters
-p: invalid setting 5 (1,4)

administrator@cli> 

Expect: Invalid setting parameters when executes clearing

fc -a clear test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid ctrl id when executes clearing

fc -a clear -i 3 -p 2
Error (0x2013): Invalid setting parameters
-i: invalid setting 3 (1,2)

administrator@cli> 

Expect: Invalid port id when executes clearing

fc -a clear -i 2 -p 5
Error (0x2013): Invalid setting parameters
-p: invalid setting 5 (1,4)

administrator@cli> 
'result': 'p'

Expect: Invalid setting parameters when executes list

fc test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid type setting parameters

fc -t test
Error (0x2013): Invalid setting parameters
-t: invalid setting test (node|port|stats|sfp|loggedininitiators|loggedintargets|allinitiators)

administrator@cli> 

Expect: Invalid type setting parameters

fc -t 1
Error (0x2013): Invalid setting parameters
-t: invalid setting 1 (node|port|stats|sfp|loggedininitiators|loggedintargets|allinitiators)

administrator@cli> 

Expect: Invalid port id

fc -i 2 -t port -p 5 
Error (0x2013): Invalid setting parameters
-p: invalid setting 5 (1,4)

administrator@cli> 

Expect: Invalid ctrl id

fc -i 3 -t port -p 2
Error (0x2013): Invalid setting parameters
-i: invalid setting 3 (1,2)

administrator@cli> 

Expect: Invalid setting parameters of ctrl id

fc -i test -t port -p 3
Error (0x2013): Invalid setting parameters
-i: invalid setting test

administrator@cli> 

Expect: Invalid setting parameters of port id

fc -i 2 -t port -p test
Error (0x2013): Invalid setting parameters
-p: invalid setting test

administrator@cli> 

Expect: Invalid setting parameters when executes modification

fc -a mod test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid type setting parameters when executes modification

fc -a mod -t test
Error (0x2013): Invalid setting parameters
-t: invalid setting test (node|port|stats|sfp|loggedininitiators|loggedintargets|allinitiators)

administrator@cli> 

Expect: Invalid port id when executes modification

fc -a mod -t port -p 5 -s "linkspeed=4gb,topology=nlport,hardalpa=0"
Error (0x2013): Invalid setting parameters
-p: invalid setting 5 (1,4)

administrator@cli> 

Expect: Invalid type of linkspeed setting parameters

fc -a mod -t port -p 2 -s "linkspeed=test"
Error (0x2013): Invalid setting parameters
linkspeed: invalid setting test (auto|4gb|8gb|16gb)

administrator@cli> 

Expect: Invalid type of topology setting parameters

fc -a mod -t port -p 3 -s "topology=test"
Error (0x2013): Invalid setting parameters
topology: invalid setting test (auto|nlport|nport)

administrator@cli> 

Expect: Invalid type of hardalpa setting parameters

fc -a mod -i 2 -t port -p 4 -s "hardalpa=256"
Error (0x2013): Invalid setting parameters
hardalpa: invalid setting 256 (0,255)

administrator@cli> 

Expect: Invalid type of hardalpa setting parameters

fc -a mod -i 2 -t port -p 4 -s "hardalpa=test"
Error (0x2013): Invalid setting parameters
hardalpa: invalid setting test

administrator@cli> 

Expect: Invalid ctrl id when executes modification

fc -a mod -i 3 -t port -p 4 -s "hardalpa=1"
Error (0x2013): Invalid setting parameters
-i: invalid setting 3 (1,2)

administrator@cli> 

Expect: invalid fc setting type

fc -a mod -t node -p 2 -s "linkspeed=4gb"
Error (0x402): Invalid parameter
invalid fc setting type

administrator@cli> 

Expect: Invalid setting parameters when executes reseting

fc -a reset test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid ctrl id when executes reseting

fc -a reset -i 3 -p 2
Error (0x2013): Invalid setting parameters
-i: invalid setting 3 (1,2)

administrator@cli> 

Expect: Invalid port id when executes reseting

fc -a reset -i 2 -p 5
Error (0x2013): Invalid setting parameters
-p: invalid setting 5 (1,4)

administrator@cli> 

Expect: Invalid setting parameters when executes clearing

fc -a clear test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid ctrl id when executes clearing

fc -a clear -i 3 -p 2
Error (0x2013): Invalid setting parameters
-i: invalid setting 3 (1,2)

administrator@cli> 

Expect: Invalid port id when executes clearing

fc -a clear -i 2 -p 5
Error (0x2013): Invalid setting parameters
-p: invalid setting 5 (1,4)

administrator@cli> 
'result': 'p'

Expect: Invalid setting parameters when executes list

fc test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid type setting parameters

fc -1
Error (0x2013): Invalid setting parameters
invalid setting: -1

administrator@cli> 

Fail: please check out Invalid type setting parameters


Expect: Invalid type setting parameters

fc -t test
Error (0x2013): Invalid setting parameters
-t: invalid setting test (node|port|stats|sfp|loggedininitiators|loggedintargets|allinitiators)

administrator@cli> 

Expect: Invalid type setting parameters

fc -t 1
Error (0x2013): Invalid setting parameters
-t: invalid setting 1 (node|port|stats|sfp|loggedininitiators|loggedintargets|allinitiators)

administrator@cli> 

Expect: Invalid port id

fc -i 2 -t port -p 5 
Error (0x2013): Invalid setting parameters
-p: invalid setting 5 (1,4)

administrator@cli> 

Expect: Invalid ctrl id

fc -i 3 -t port -p 2
Error (0x2013): Invalid setting parameters
-i: invalid setting 3 (1,2)

administrator@cli> 

Expect: Invalid setting parameters of ctrl id

fc -i test -t port -p 3
Error (0x2013): Invalid setting parameters
-i: invalid setting test

administrator@cli> 

Expect: Invalid setting parameters of port id

fc -i 2 -t port -p test
Error (0x2013): Invalid setting parameters
-p: invalid setting test

administrator@cli> 

Expect: Invalid setting parameters when executes modification

fc -a mod test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid type setting parameters when executes modification

fc -a mod -t test
Error (0x2013): Invalid setting parameters
-t: invalid setting test (node|port|stats|sfp|loggedininitiators|loggedintargets|allinitiators)

administrator@cli> 

Expect: Invalid port id when executes modification

fc -a mod -t port -p 5 -s "linkspeed=4gb,topology=nlport,hardalpa=0"
Error (0x2013): Invalid setting parameters
-p: invalid setting 5 (1,4)

administrator@cli> 

Expect: Invalid type of linkspeed setting parameters

fc -a mod -t port -p 2 -s "linkspeed=test"
Error (0x2013): Invalid setting parameters
linkspeed: invalid setting test (auto|4gb|8gb|16gb)

administrator@cli> 

Expect: Invalid type of topology setting parameters

fc -a mod -t port -p 3 -s "topology=test"
Error (0x2013): Invalid setting parameters
topology: invalid setting test (auto|nlport|nport)

administrator@cli> 

Expect: Invalid type of hardalpa setting parameters

fc -a mod -i 2 -t port -p 4 -s "hardalpa=256"
Error (0x2013): Invalid setting parameters
hardalpa: invalid setting 256 (0,255)

administrator@cli> 

Expect: Invalid type of hardalpa setting parameters

fc -a mod -i 2 -t port -p 4 -s "hardalpa=test"
Error (0x2013): Invalid setting parameters
hardalpa: invalid setting test

administrator@cli> 

Expect: Invalid ctrl id when executes modification

fc -a mod -i 3 -t port -p 4 -s "hardalpa=1"
Error (0x2013): Invalid setting parameters
-i: invalid setting 3 (1,2)

administrator@cli> 

Expect: invalid fc setting type

fc -a mod -t node -p 2 -s "linkspeed=4gb"
Error (0x402): Invalid parameter
invalid fc setting type

administrator@cli> 

Expect: Invalid setting parameters when executes reseting

fc -a reset test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid ctrl id when executes reseting

fc -a reset -i 3 -p 2
Error (0x2013): Invalid setting parameters
-i: invalid setting 3 (1,2)

administrator@cli> 

Expect: Invalid port id when executes reseting

fc -a reset -i 2 -p 5
Error (0x2013): Invalid setting parameters
-p: invalid setting 5 (1,4)

administrator@cli> 

Expect: Invalid setting parameters when executes clearing

fc -a clear test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid ctrl id when executes clearing

fc -a clear -i 3 -p 2
Error (0x2013): Invalid setting parameters
-i: invalid setting 3 (1,2)

administrator@cli> 

Expect: Invalid port id when executes clearing

fc -a clear -i 2 -p 5
Error (0x2013): Invalid setting parameters
-p: invalid setting 5 (1,4)

administrator@cli> 
'result': 'f'

Expect: Invalid setting parameters when executes list

fc test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid setting parameters

fc -1
Error (0x2013): Invalid setting parameters
invalid setting: -1

administrator@cli> 

Expect: Invalid type setting parameters

fc -t test
Error (0x2013): Invalid setting parameters
-t: invalid setting test (node|port|stats|sfp|loggedininitiators|loggedintargets|allinitiators)

administrator@cli> 

Expect: Invalid type setting parameters

fc -t 1
Error (0x2013): Invalid setting parameters
-t: invalid setting 1 (node|port|stats|sfp|loggedininitiators|loggedintargets|allinitiators)

administrator@cli> 

Expect: Invalid port id

fc -i 2 -t port -p 5 
Error (0x2013): Invalid setting parameters
-p: invalid setting 5 (1,4)

administrator@cli> 

Expect: Invalid ctrl id

fc -i 3 -t port -p 2
Error (0x2013): Invalid setting parameters
-i: invalid setting 3 (1,2)

administrator@cli> 

Expect: Invalid setting parameters of ctrl id

fc -i test -t port -p 3
Error (0x2013): Invalid setting parameters
-i: invalid setting test

administrator@cli> 

Expect: Invalid setting parameters of port id

fc -i 2 -t port -p test
Error (0x2013): Invalid setting parameters
-p: invalid setting test

administrator@cli> 

Expect: Invalid setting parameters when executes modification

fc -a mod test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid type setting parameters when executes modification

fc -a mod -t test
Error (0x2013): Invalid setting parameters
-t: invalid setting test (node|port|stats|sfp|loggedininitiators|loggedintargets|allinitiators)

administrator@cli> 

Expect: Invalid port id when executes modification

fc -a mod -t port -p 5 -s "linkspeed=4gb,topology=nlport,hardalpa=0"
Error (0x2013): Invalid setting parameters
-p: invalid setting 5 (1,4)

administrator@cli> 

Expect: Invalid type of linkspeed setting parameters

fc -a mod -t port -p 2 -s "linkspeed=test"
Error (0x2013): Invalid setting parameters
linkspeed: invalid setting test (auto|4gb|8gb|16gb)

administrator@cli> 

Expect: Invalid type of topology setting parameters

fc -a mod -t port -p 3 -s "topology=test"
Error (0x2013): Invalid setting parameters
topology: invalid setting test (auto|nlport|nport)

administrator@cli> 

Expect: Invalid type of hardalpa setting parameters

fc -a mod -i 2 -t port -p 4 -s "hardalpa=256"
Error (0x2013): Invalid setting parameters
hardalpa: invalid setting 256 (0,255)

administrator@cli> 

Expect: Invalid type of hardalpa setting parameters

fc -a mod -i 2 -t port -p 4 -s "hardalpa=test"
Error (0x2013): Invalid setting parameters
hardalpa: invalid setting test

administrator@cli> 

Expect: Invalid ctrl id when executes modification

fc -a mod -i 3 -t port -p 4 -s "hardalpa=1"
Error (0x2013): Invalid setting parameters
-i: invalid setting 3 (1,2)

administrator@cli> 

Expect: invalid fc setting type

fc -a mod -t node -p 2 -s "linkspeed=4gb"
Error (0x402): Invalid parameter
invalid fc setting type

administrator@cli> 

Expect: Invalid setting parameters when executes reseting

fc -a reset test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid ctrl id when executes reseting

fc -a reset -i 3 -p 2
Error (0x2013): Invalid setting parameters
-i: invalid setting 3 (1,2)

administrator@cli> 

Expect: Invalid port id when executes reseting

fc -a reset -i 2 -p 5
Error (0x2013): Invalid setting parameters
-p: invalid setting 5 (1,4)

administrator@cli> 

Expect: Invalid setting parameters when executes clearing

fc -a clear test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid ctrl id when executes clearing

fc -a clear -i 3 -p 2
Error (0x2013): Invalid setting parameters
-i: invalid setting 3 (1,2)

administrator@cli> 

Expect: Invalid port id when executes clearing

fc -a clear -i 2 -p 5
Error (0x2013): Invalid setting parameters
-p: invalid setting 5 (1,4)

administrator@cli> 
'result': 'p'

Expect: Invalid option for the command or the action

fc -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

fc -i 2 -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

fc -a mod -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

fc -a mod -t port -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

fc -a mod -i 2 -t port -p 4 -s "test=auto"
Error (0x2012): Invalid option for the command or the action
-s: invalid option: test

administrator@cli> 

Expect: Invalid option for the command or the action

fc -a reset -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

fc -a reset -i 3 -test
Error (0x2013): Invalid setting parameters
-i: invalid setting 3 (1,2)

administrator@cli> 

Fail: please check out Invalid option for the command or the action


Expect: Invalid option for the command or the action

fc -a clear -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

fc -a clear -i 3 -test
Error (0x2013): Invalid setting parameters
-i: invalid setting 3 (1,2)

administrator@cli> 

Fail: please check out Invalid option for the command or the action

'result': 'f'

Expect: Invalid option for the command or the action

fc -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

fc -i 2 -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

fc -a mod -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

fc -a mod -t port -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

fc -a mod -i 2 -t port -p 4 -s "test=auto"
Error (0x2012): Invalid option for the command or the action
-s: invalid option: test

administrator@cli> 

Expect: Invalid option for the command or the action

fc -a reset -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

fc -a reset -i 2 -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

fc -a clear -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

fc -a clear -i 2 -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 
'result': 'p'

Expect: Missing parameter

fc -t 1
Error (0x2013): Invalid setting parameters
-t: invalid setting 1 (node|port|stats|sfp|loggedininitiators|loggedintargets|allinitiators)

administrator@cli> 

Fail: please check out Missing parameter


Expect: Missing parameter

fc -i 
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 

Expect: Missing parameter

fc -i 3 -t port -p
Error (0x2013): Invalid setting parameters
-i: invalid setting 3 (1,2)

administrator@cli> 

Fail: please check out Missing parameter


Expect: Missing parameter

fc -a mod
Error (0x403): Missing parameter
missing parameter '-s' for '-a mod'

administrator@cli> 

Expect: Missing parameter

fc -a mod -t 
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Expect: Missing parameter

fc -a mod -t port
Error (0x403): Missing parameter
missing parameter '-s' for '-a mod'

administrator@cli> 

Expect: Missing parameter

fc -a mod -t port -p 2
Error (0x403): Missing parameter
missing parameter '-s' for '-a mod'

administrator@cli> 

Expect: Missing parameter

fc -a mod -t port -p 3 -s 
Error (0x403): Missing parameter
-s: missing value

administrator@cli> 

Expect: Missing parameter

fc -a reset
Error (0x403): Missing parameter
missing parameter '-i' for '-a reset'

administrator@cli> 

Expect: Missing parameter

fc -a reset -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 

Expect: Missing parameter

fc -a reset -i 2 -p
Error (0x403): Missing parameter
-p: missing value

administrator@cli> 

Expect: Missing parameter

fc -a clear

administrator@cli> 

Fail: fc -a clear


Expect: Missing parameter

fc -a clear -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 

Expect: Missing parameter

fc -a clear -i 2 -p
Error (0x403): Missing parameter
-p: missing value

administrator@cli> 
'result': 'f'

Expect: Missing parameter

fc -t
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Expect: Missing parameter

fc -i 
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 

Expect: Missing parameter

fc -i 3 -t port -p
Error (0x2013): Invalid setting parameters
-i: invalid setting 3 (1,2)

administrator@cli> 

Fail: please check out Missing parameter


Expect: Missing parameter

fc -a mod
Error (0x403): Missing parameter
missing parameter '-s' for '-a mod'

administrator@cli> 

Expect: Missing parameter

fc -a mod -t 
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Expect: Missing parameter

fc -a mod -t port
Error (0x403): Missing parameter
missing parameter '-s' for '-a mod'

administrator@cli> 

Expect: Missing parameter

fc -a mod -t port -p 2
Error (0x403): Missing parameter
missing parameter '-s' for '-a mod'

administrator@cli> 

Expect: Missing parameter

fc -a mod -t port -p 3 -s 
Error (0x403): Missing parameter
-s: missing value

administrator@cli> 

Expect: Missing parameter

fc -a reset
Error (0x403): Missing parameter
missing parameter '-i' for '-a reset'

administrator@cli> 

Expect: Missing parameter

fc -a reset -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 

Expect: Missing parameter

fc -a reset -i 2 -p
Error (0x403): Missing parameter
-p: missing value

administrator@cli> 

Expect: Missing parameter

fc -a clear

administrator@cli> 

Fail: fc -a clear


Expect: Missing parameter

fc -a clear -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 

Expect: Missing parameter

fc -a clear -i 2 -p
Error (0x403): Missing parameter
-p: missing value

administrator@cli> 
'result': 'f'

Expect: Missing parameter

fc -t
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Expect: Missing parameter

fc -i 
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 

Expect: Missing parameter

fc -i 2 -t port -p
Error (0x403): Missing parameter
-p: missing value

administrator@cli> 

Expect: Missing parameter

fc -a mod
Error (0x403): Missing parameter
missing parameter '-s' for '-a mod'

administrator@cli> 

Expect: Missing parameter

fc -a mod -t 
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Expect: Missing parameter

fc -a mod -t port
Error (0x403): Missing parameter
missing parameter '-s' for '-a mod'

administrator@cli> 

Expect: Missing parameter

fc -a mod -t port -p 2
Error (0x403): Missing parameter
missing parameter '-s' for '-a mod'

administrator@cli> 

Expect: Missing parameter

fc -a mod -t port -p 3 -s 
Error (0x403): Missing parameter
-s: missing value

administrator@cli> 

Expect: Missing parameter

fc -a reset
Error (0x403): Missing parameter
missing parameter '-i' for '-a reset'

administrator@cli> 

Expect: Missing parameter

fc -a reset -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 

Expect: Missing parameter

fc -a reset -i 2 -p
Error (0x403): Missing parameter
-p: missing value

administrator@cli> 

Expect: Missing parameter

fc -a clear

administrator@cli> 

Fail: fc -a clear


Expect: Missing parameter

fc -a clear -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 

Expect: Missing parameter

fc -a clear -i 2 -p
Error (0x403): Missing parameter
-p: missing value

administrator@cli> 
'result': 'f'

Expect: port 1 should be cleared

fc -a clear -i 2 -p 1

administrator@cli> 

Expect: port 2 should be cleared

fc -a clear -i 2 -p 2

administrator@cli> 

Expect: port 3 should be cleared

fc -a clear -i 2 -p 3

administrator@cli> 

Expect: port 4 should be cleared

fc -a clear -i 2 -p 4

administrator@cli> 

Expect: all port on ctrl 2 should be cleared

fc -a clear -i 2

administrator@cli> 

Expect: all port on primary ctrl should be cleared

fc -a clear

administrator@cli> 
'result': 'p'

Expect: all of fc info should be displayed

fc
===============================================================================
CtrlId Port   State     WWPN                          
===============================================================================
2      1      Offline   26-07-00-01-55-5b-3d-29                                
2      2      Offline   26-06-00-01-55-5b-3d-29                                
2      3      Offline   26-05-00-01-55-5b-3d-29                                
2      4      Online    26-04-00-01-55-5b-3d-29                                

administrator@cli> 

Expect: Display fc node information

fc -t node
-------------------------------------------------------------------------------
WWNN: 25-01-00-01-55-5b-3d-29           SupportedFCClass: Class Of Service 3
MaxFrameSize: 2048                      SpeedSupported: 16Gb/s, 8Gb/s, 4Gb/s

administrator@cli> 

Expect: Specifies fc port as the device type to display or modify information

fc -t port
===============================================================================
CtrlId Port   State     WWPN                          
===============================================================================
2      1      Offline   26-07-00-01-55-5b-3d-29                                
2      2      Offline   26-06-00-01-55-5b-3d-29                                
2      3      Offline   26-05-00-01-55-5b-3d-29                                
2      4      Online    26-04-00-01-55-5b-3d-29                                

administrator@cli> 

Expect: Display port SFP information

fc -t sfp
-------------------------------------------------------------------------------
Controller 2 Port 1 : No SFP found

-------------------------------------------------------------------------------
Controller 2 Port 2 : No SFP found

-------------------------------------------------------------------------------
Controller 2 Port 3 : No SFP found

-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 4
Transceiver: SFP                        Connector: LC
TransCode: 00-00-00-00-40-40-04-70      SerialEncoding: 64B66B
BitRate: 14.0 Gb/s                      ManufacturingDateCode: 170518
LinkLength_9/125um: 0 m                 LinkLength_50/125um: 30 m
LinkLength_62.5/125um: 0 m              VendorName: BROCADE
VendorOUI: 00-05-1e                     VendorPartNum: 57-0000088-01
VendorRevision: A                       VendorSerialNum: HAF317200000J34

administrator@cli> 

Expect: Display port statistics information

fc -t stats
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 1
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 2
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 3
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 4
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0

administrator@cli> 

Expect: Display port logged in initiator information

fc -t loggedininitiators
-------------------------------------------------------------------------------
No devices logged in

administrator@cli> 

Expect: Display port logged in target information

fc -t loggedintargets
-------------------------------------------------------------------------------
No targets logged in

administrator@cli> 

Expect: Display initiator list from fibre switch

fc -t allinitiators
===============================================================================
Index   CtrlId  PortId  WWPN                          
===============================================================================
1       2       4       26-05-00-01-55-5b-3c-fc                                
2       2       4       26-04-00-01-55-5b-3d-29                                
3       2       4       26-01-00-01-55-00-00-00                                
4       2       4       26-02-00-01-55-00-00-00                                

administrator@cli> 

Expect: port 1 info should be listed on ctrl 2

fc -i 2 -t port -p 1 
===============================================================================
CtrlId Port   State     WWPN                          
===============================================================================
2      1      Offline   26-07-00-01-55-5b-3d-29                                

administrator@cli> 

Expect: port 2 info should be listed on ctrl 2

fc -i 2 -t port -p 2
===============================================================================
CtrlId Port   State     WWPN                          
===============================================================================
2      2      Offline   26-06-00-01-55-5b-3d-29                                

administrator@cli> 

Expect: port 3 info should be listed on ctrl 2

fc -i 2 -t port -p 3
===============================================================================
CtrlId Port   State     WWPN                          
===============================================================================
2      3      Offline   26-05-00-01-55-5b-3d-29                                

administrator@cli> 

Expect: port 4 info should be listed on ctrl 2

fc -i 2 -t port -p 4
===============================================================================
CtrlId Port   State     WWPN                          
===============================================================================
2      4      Online    26-04-00-01-55-5b-3d-29                                

administrator@cli> 
'result': 'p'

Expect: all of fc info should be displayed by verbose mode

fc -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 1
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-07-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: Auto               ConfiguredTopology: Auto
HardALPA: 255
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 2
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-06-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: Auto               ConfiguredTopology: Auto
HardALPA: 255
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 3
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-05-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: Auto               ConfiguredTopology: Auto
HardALPA: 255
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 4
State: Online                           PortIdentifier: 0x010700
TopologyAttached: N-Port (Fabric Direct)
WWPN: 26-04-00-01-55-5b-3d-29           AliasWWPN: N/A
NumCurrentAlias: 0                      FabricWWNN: 10-00-c4-f5-7c-e2-70-a6
FabricWWPN: 20-07-c4-f5-7c-e2-70-a6     CurrentSpeed: 16Gb/s
LinkType: Laser Short Wave              ConfiguredLinkSpeed: Auto
ConfiguredTopology: Auto                HardALPA: 255

administrator@cli> 

Expect: Display fc node information by verbose mode

fc -t node -v
-------------------------------------------------------------------------------
WWNN: 25-01-00-01-55-5b-3d-29           SupportedFCClass: Class Of Service 3
MaxFrameSize: 2048                      SpeedSupported: 16Gb/s, 8Gb/s, 4Gb/s

administrator@cli> 

Expect: Specifies fc port as the device type to display or modify information by verbose mode

fc -t port -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 1
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-07-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: Auto               ConfiguredTopology: Auto
HardALPA: 255
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 2
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-06-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: Auto               ConfiguredTopology: Auto
HardALPA: 255
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 3
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-05-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: Auto               ConfiguredTopology: Auto
HardALPA: 255
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 4
State: Online                           PortIdentifier: 0x010700
TopologyAttached: N-Port (Fabric Direct)
WWPN: 26-04-00-01-55-5b-3d-29           AliasWWPN: N/A
NumCurrentAlias: 0                      FabricWWNN: 10-00-c4-f5-7c-e2-70-a6
FabricWWPN: 20-07-c4-f5-7c-e2-70-a6     CurrentSpeed: 16Gb/s
LinkType: Laser Short Wave              ConfiguredLinkSpeed: Auto
ConfiguredTopology: Auto                HardALPA: 255

administrator@cli> 

Expect: Display port SFP information by verbose mode

fc -t sfp -v
-------------------------------------------------------------------------------
Controller 2 Port 1 : No SFP found

-------------------------------------------------------------------------------
Controller 2 Port 2 : No SFP found

-------------------------------------------------------------------------------
Controller 2 Port 3 : No SFP found

-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 4
Transceiver: SFP                        Connector: LC
TransCode: 00-00-00-00-40-40-04-70      SerialEncoding: 64B66B
BitRate: 14.0 Gb/s                      ManufacturingDateCode: 170518
LinkLength_9/125um: 0 m                 LinkLength_50/125um: 30 m
LinkLength_62.5/125um: 0 m              VendorName: BROCADE
VendorOUI: 00-05-1e                     VendorPartNum: 57-0000088-01
VendorRevision: A                       VendorSerialNum: HAF317200000J34

administrator@cli> 

Expect: Display port statistics information by verbose mode

fc -t stats -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 1
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 2
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 3
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 4
LinkFailureCount: 0                     LossSyncCount: 0
LossSignalCount: 0                      PrimitiveSeqErrorCount: 0
InvalidWordsSentCount: 0                InvalidCRCCount: 0

administrator@cli> 

Expect: Display port logged in initiator information by verbose mode

fc -t loggedininitiators -v
-------------------------------------------------------------------------------
No devices logged in

administrator@cli> 

Expect: Display port logged in target information by verbose mode

fc -t loggedintargets -v
-------------------------------------------------------------------------------
No targets logged in

administrator@cli> 

Expect: Display initiator list from fibre switch by verbose mode

fc -t allinitiators -v
-------------------------------------------------------------------------------
Index: 1                                CtrlId: 2
PortId: 4                               WWPN: 26-05-00-01-55-5b-3c-fc
WWNN: 25-01-00-01-55-5b-3c-fc           NPortId: 0x010100
SymbolicName: Promise VTrak 16G FC product
-------------------------------------------------------------------------------
Index: 2                                CtrlId: 2
PortId: 4                               WWPN: 26-04-00-01-55-5b-3d-29
WWNN: 25-01-00-01-55-5b-3d-29           NPortId: 0x010700
SymbolicName: Promise VTrak 16G FC product
-------------------------------------------------------------------------------
Index: 3                                CtrlId: 2
PortId: 4                               WWPN: 26-01-00-01-55-00-00-00
WWNN: 25-00-00-01-55-00-00-00           NPortId: 0x010a00
SymbolicName: Promise VTrak 16G FC product
-------------------------------------------------------------------------------
Index: 4                                CtrlId: 2
PortId: 4                               WWPN: 26-02-00-01-55-00-00-00
WWNN: 25-00-00-01-55-00-00-00           NPortId: 0x010b00
SymbolicName: Promise VTrak 16G FC product

administrator@cli> 

Expect: port 1 info should be listed on ctrl 2 by verbose mode

fc -i 2 -t port -p 1 -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 1
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-07-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: Auto               ConfiguredTopology: Auto
HardALPA: 255

administrator@cli> 

Expect: port 2 info should be listed on ctrl 2 by verbose mode

fc -i 2 -t port -p 2 -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 2
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-06-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: Auto               ConfiguredTopology: Auto
HardALPA: 255

administrator@cli> 

Expect: port 3 info should be listed on ctrl 2 by verbose mode

fc -i 2 -t port -p 3 -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 3
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-05-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: Auto               ConfiguredTopology: Auto
HardALPA: 255

administrator@cli> 

Expect: port 4 info should be listed on ctrl 2 by verbose mode

fc -i 2 -t port -p 4 -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 4
State: Online                           PortIdentifier: 0x010700
TopologyAttached: N-Port (Fabric Direct)
WWPN: 26-04-00-01-55-5b-3d-29           AliasWWPN: N/A
NumCurrentAlias: 0                      FabricWWNN: 10-00-c4-f5-7c-e2-70-a6
FabricWWPN: 20-07-c4-f5-7c-e2-70-a6     CurrentSpeed: 16Gb/s
LinkType: Laser Short Wave              ConfiguredLinkSpeed: Auto
ConfiguredTopology: Auto                HardALPA: 255

administrator@cli> 
'result': 'p'

Expect: port 1 should be modified by "linkspeed=4gb,topology=nlport,hardalpa=0"

fc -a mod -t port -p 1 -s "linkspeed=4gb,topology=nlport,hardalpa=0"

administrator@cli> 
fc -t port -p 1 -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 1
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-07-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: 4 Gb/s             ConfiguredTopology: NL-Port
HardALPA: 0

administrator@cli> 

Expect: port 2 should be modified by "linkspeed=8gb,topology=nport,hardalpa=1"

fc -a mod -t port -p 2 -s "linkspeed=8gb,topology=nport,hardalpa=1"

administrator@cli> 
fc -t port -p 2 -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 2
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-06-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: 8 Gb/s             ConfiguredTopology: N-Port
HardALPA: 1

administrator@cli> 

Expect: port 3 should be modified by "linkspeed=16gb,topology=auto,hardalpa=254"

fc -a mod -t port -p 3 -s "linkspeed=16gb,topology=auto,hardalpa=254"

administrator@cli> 
fc -t port -p 3 -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 3
State: Offline                          PortIdentifier: 0xffffff
TopologyAttached: N/A                   WWPN: 26-05-00-01-55-5b-3d-29
AliasWWPN: N/A                          NumCurrentAlias: 0
FabricWWNN: N/A                         FabricWWPN: N/A
CurrentSpeed: Unknown                   LinkType: Unknown
ConfiguredLinkSpeed: 16 Gb/s            ConfiguredTopology: Auto
HardALPA: 254

administrator@cli> 

Expect: port 4 should be modified by "linkspeed=auto,hardalpa=255"

fc -a mod -i 2 -t port -p 4 -s "linkspeed=auto,hardalpa=255"

administrator@cli> 
fc -i 2 -t port -p 4 -v
-------------------------------------------------------------------------------
CtrlId: 2                               PortId: 4
State: Online                           PortIdentifier: 0x010700
TopologyAttached: N-Port (Fabric Direct)
WWPN: 26-04-00-01-55-5b-3d-29           AliasWWPN: N/A
NumCurrentAlias: 0                      FabricWWNN: 10-00-c4-f5-7c-e2-70-a6
FabricWWPN: 20-07-c4-f5-7c-e2-70-a6     CurrentSpeed: 16Gb/s
LinkType: Laser Short Wave              ConfiguredLinkSpeed: Auto
ConfiguredTopology: Auto                HardALPA: 255

administrator@cli> 
'result': 'p'

Expect: port 1 should be reset

fc -a reset -i 2 -p 1

administrator@cli> 

Expect: port 2 should be reset

fc -a reset -i 2 -p 2

administrator@cli> 

Expect: port 3 should be reset

fc -a reset -i 2 -p 3

administrator@cli> 

Expect: port 4 should be reset

fc -a reset -i 2 -p 4

administrator@cli> 
'result': 'p'

Expect: port 1 should be cleared

fc -a clear -i 2 -p 1

administrator@cli> 

Expect: port 2 should be cleared

fc -a clear -i 2 -p 2

administrator@cli> 

Expect: port 3 should be cleared

fc -a clear -i 2 -p 3

administrator@cli> 

Expect: port 4 should be cleared

fc -a clear -i 2 -p 4

administrator@cli> 

Expect: all port on ctrl 2 should be cleared

fc -a clear -i 2

administrator@cli> 

Expect: all port on primary ctrl should be cleared

fc -a clear

administrator@cli> 
'result': 'p'

Expect: Invalid setting parameters when executes list

fc test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid setting parameters

fc -1
Error (0x2013): Invalid setting parameters
invalid setting: -1

administrator@cli> 

Expect: Invalid type setting parameters

fc -t test
Error (0x2013): Invalid setting parameters
-t: invalid setting test (node|port|stats|sfp|loggedininitiators|loggedintargets|allinitiators)

administrator@cli> 

Expect: Invalid type setting parameters

fc -t 1
Error (0x2013): Invalid setting parameters
-t: invalid setting 1 (node|port|stats|sfp|loggedininitiators|loggedintargets|allinitiators)

administrator@cli> 

Expect: Invalid port id

fc -i 2 -t port -p 5 
Error (0x2013): Invalid setting parameters
-p: invalid setting 5 (1,4)

administrator@cli> 

Expect: Invalid ctrl id

fc -i 3 -t port -p 2
Error (0x2013): Invalid setting parameters
-i: invalid setting 3 (1,2)

administrator@cli> 

Expect: Invalid setting parameters of ctrl id

fc -i test -t port -p 3
Error (0x2013): Invalid setting parameters
-i: invalid setting test

administrator@cli> 

Expect: Invalid setting parameters of port id

fc -i 2 -t port -p test
Error (0x2013): Invalid setting parameters
-p: invalid setting test

administrator@cli> 

Expect: Invalid setting parameters when executes modification

fc -a mod test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid type setting parameters when executes modification

fc -a mod -t test
Error (0x2013): Invalid setting parameters
-t: invalid setting test (node|port|stats|sfp|loggedininitiators|loggedintargets|allinitiators)

administrator@cli> 

Expect: Invalid port id when executes modification

fc -a mod -t port -p 5 -s "linkspeed=4gb,topology=nlport,hardalpa=0"
Error (0x2013): Invalid setting parameters
-p: invalid setting 5 (1,4)

administrator@cli> 

Expect: Invalid type of linkspeed setting parameters

fc -a mod -t port -p 2 -s "linkspeed=test"
Error (0x2013): Invalid setting parameters
linkspeed: invalid setting test (auto|4gb|8gb|16gb)

administrator@cli> 

Expect: Invalid type of topology setting parameters

fc -a mod -t port -p 3 -s "topology=test"
Error (0x2013): Invalid setting parameters
topology: invalid setting test (auto|nlport|nport)

administrator@cli> 

Expect: Invalid type of hardalpa setting parameters

fc -a mod -i 2 -t port -p 4 -s "hardalpa=256"
Error (0x2013): Invalid setting parameters
hardalpa: invalid setting 256 (0,255)

administrator@cli> 

Expect: Invalid type of hardalpa setting parameters

fc -a mod -i 2 -t port -p 4 -s "hardalpa=test"
Error (0x2013): Invalid setting parameters
hardalpa: invalid setting test

administrator@cli> 

Expect: Invalid ctrl id when executes modification

fc -a mod -i 3 -t port -p 4 -s "hardalpa=1"
Error (0x2013): Invalid setting parameters
-i: invalid setting 3 (1,2)

administrator@cli> 

Expect: invalid fc setting type

fc -a mod -t node -p 2 -s "linkspeed=4gb"
Error (0x402): Invalid parameter
invalid fc setting type

administrator@cli> 

Expect: Invalid setting parameters when executes reseting

fc -a reset test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid ctrl id when executes reseting

fc -a reset -i 3 -p 2
Error (0x2013): Invalid setting parameters
-i: invalid setting 3 (1,2)

administrator@cli> 

Expect: Invalid port id when executes reseting

fc -a reset -i 2 -p 5
Error (0x2013): Invalid setting parameters
-p: invalid setting 5 (1,4)

administrator@cli> 

Expect: Invalid setting parameters when executes clearing

fc -a clear test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 

Expect: Invalid ctrl id when executes clearing

fc -a clear -i 3 -p 2
Error (0x2013): Invalid setting parameters
-i: invalid setting 3 (1,2)

administrator@cli> 

Expect: Invalid port id when executes clearing

fc -a clear -i 2 -p 5
Error (0x2013): Invalid setting parameters
-p: invalid setting 5 (1,4)

administrator@cli> 
'result': 'p'

Expect: Invalid option for the command or the action

fc -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

fc -i 2 -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

fc -a mod -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

fc -a mod -t port -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

fc -a mod -i 2 -t port -p 4 -s "test=auto"
Error (0x2012): Invalid option for the command or the action
-s: invalid option: test

administrator@cli> 

Expect: Invalid option for the command or the action

fc -a reset -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

fc -a reset -i 2 -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

fc -a clear -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 

Expect: Invalid option for the command or the action

fc -a clear -i 2 -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 
'result': 'p'

Expect: Missing parameter

fc -t
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Expect: Missing parameter

fc -i 
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 

Expect: Missing parameter

fc -i 2 -t port -p
Error (0x403): Missing parameter
-p: missing value

administrator@cli> 

Expect: Missing parameter

fc -a mod
Error (0x403): Missing parameter
missing parameter '-s' for '-a mod'

administrator@cli> 

Expect: Missing parameter

fc -a mod -t 
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 

Expect: Missing parameter

fc -a mod -t port
Error (0x403): Missing parameter
missing parameter '-s' for '-a mod'

administrator@cli> 

Expect: Missing parameter

fc -a mod -t port -p 2
Error (0x403): Missing parameter
missing parameter '-s' for '-a mod'

administrator@cli> 

Expect: Missing parameter

fc -a mod -t port -p 3 -s 
Error (0x403): Missing parameter
-s: missing value

administrator@cli> 

Expect: Missing parameter

fc -a reset
Error (0x403): Missing parameter
missing parameter '-i' for '-a reset'

administrator@cli> 

Expect: Missing parameter

fc -a reset -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 

Expect: Missing parameter

fc -a reset -i 2 -p
Error (0x403): Missing parameter
-p: missing value

administrator@cli> 

Expect: Missing parameter

fc -a clear -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 

Expect: Missing parameter

fc -a clear -i 2 -p
Error (0x403): Missing parameter
-p: missing value

administrator@cli> 
'result': 'p'
