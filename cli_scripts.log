2017-12-28 17:49:03: 'result': 'p'
2017-12-28 17:49:03: migrate -a stop -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 
2017-12-28 17:49:03: 
Expect: Missing parameter

2017-12-28 17:49:03: migrate -a stop
Error (0x403): Missing parameter
-i source volumd ID is missed

administrator@cli> 
2017-12-28 17:49:03: 
Expect: Missing parameter

2017-12-28 17:49:03: migrate -a start -t local -i 0 -p 2 -s
Error (0x403): Missing parameter
-s: missing value

administrator@cli> 
2017-12-28 17:49:03: 
Expect: Missing parameter

2017-12-28 17:49:03: migrate -a start -t local -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 
2017-12-28 17:49:03: 
Expect: Missing parameter

2017-12-28 17:49:03: migrate -a start -t local
Error (0x403): Missing parameter
-i source volumd ID is missed

administrator@cli> 
2017-12-28 17:49:03: 
Expect: Missing parameter

2017-12-28 17:49:03: migrate -a start -t
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 
2017-12-28 17:49:03: 
Expect: Missing parameter

2017-12-28 17:49:03: migrate -a start
Error (0x403): Missing parameter
-i source volumd ID is missed

administrator@cli> 
2017-12-28 17:49:03: 
Expect: Missing parameter

2017-12-28 17:49:03: migrate -a
Error (0x403): Missing parameter
-a: missing value

administrator@cli> 
2017-12-28 17:49:03: 
Expect: Missing parameter

2017-12-28 17:48:12: 'result': 'p'
2017-12-28 17:48:12: migrate -a stop -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 
2017-12-28 17:48:12: 
Expect: Missing parameter

2017-12-28 17:48:12: migrate -a stop
Error (0x403): Missing parameter
-i source volumd ID is missed

administrator@cli> 
2017-12-28 17:48:12: 
Expect: Missing parameter

2017-12-28 17:48:12: migrate -a start -t local -i 0 -p 2 -s
Error (0x403): Missing parameter
-s: missing value

administrator@cli> 
2017-12-28 17:48:12: 
Expect: Missing parameter

2017-12-28 17:48:12: migrate -a start -t local -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 
2017-12-28 17:48:12: 
Expect: Missing parameter

2017-12-28 17:48:12: migrate -a start -t local
Error (0x403): Missing parameter
-i source volumd ID is missed

administrator@cli> 
2017-12-28 17:48:12: 
Expect: Missing parameter

2017-12-28 17:48:12: migrate -a start -t
Error (0x403): Missing parameter
-t: missing value

administrator@cli> 
2017-12-28 17:48:12: 
Expect: Missing parameter

2017-12-28 17:48:12: migrate -a start
Error (0x403): Missing parameter
-i source volumd ID is missed

administrator@cli> 
2017-12-28 17:48:12: 
Expect: Missing parameter

2017-12-28 17:48:12: migrate -a
Error (0x403): Missing parameter
-a: missing value

administrator@cli> 
2017-12-28 17:48:12: 
Expect: Missing parameter

2017-12-28 17:46:50: 'result': 'p'
2017-12-28 17:46:50: migrate -a stop -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 
2017-12-28 17:46:50: 
Expect: invalid option: -test

2017-12-28 17:46:50: migrate -a start -i 0 -p 1 -s "test=sync"
Error (0x2012): Invalid option for the command or the action
-s: invalid option: test

administrator@cli> 
2017-12-28 17:46:50: 
Expect: invalid option: test

2017-12-28 17:46:50: migrate -a start -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 
2017-12-28 17:46:50: 
Expect: invalid option: -test

2017-12-28 17:46:50: migrate -a -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 
2017-12-28 17:46:50: 
Expect: invalid option: -test

2017-12-28 17:46:50: migrate -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 
2017-12-28 17:46:50: 
Expect: invalid option: -test

2017-12-28 17:46:09: 'result': 'f'
2017-12-28 17:46:09: migrate -a stop -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 
2017-12-28 17:46:09: 
Expect: invalid option: -test

2017-12-28 17:46:09: 
Fail: please check out invalid option: test

2017-12-28 17:46:09: migrate -a start -i 0 -p 1 -s "syncmode=test"
Error (0x2013): Invalid setting parameters
syncmode: invalid setting test (async|semi-sync|sync)

administrator@cli> 
2017-12-28 17:46:09: 
Expect: invalid option: test

2017-12-28 17:46:09: migrate -a start -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 
2017-12-28 17:46:09: 
Expect: invalid option: -test

2017-12-28 17:46:09: migrate -a -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 
2017-12-28 17:46:09: 
Expect: invalid option: -test

2017-12-28 17:46:09: migrate -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 
2017-12-28 17:46:09: 
Expect: invalid option: -test

2017-12-28 17:44:53: 'result': 'f'
2017-12-28 17:44:53: migrate -a stop -i 20
Error (0x4100102): Empty query result, please check input parameters. Volume id=[20] is not existed.

administrator@cli> 
2017-12-28 17:44:53: 
Expect: Volume id=[20] is not existed

2017-12-28 17:44:53: 
Fail: please check out zp254243d

2017-12-28 17:44:53: migrate -a stop -i 9
Error (0x4100104): Incorrect parameters: Can not find meta device info by zp089040/ds202886 1.

administrator@cli> 
2017-12-28 17:44:52: 
Expect: migrate should not stop by destination volume

2017-12-28 17:44:52: migrate -a stop -i test
Error (0x2013): Invalid setting parameters
-i: invalid setting test

administrator@cli> 
2017-12-28 17:44:52: 
Expect: Invalid setting parameters

2017-12-28 17:44:52: migrate -a start -t local -i 0 -p 1 -s "syncmode=test"
Error (0x2013): Invalid setting parameters
syncmode: invalid setting test (async|semi-sync|sync)

administrator@cli> 
2017-12-28 17:44:52: 
Expect: should hint error when specify wrong sync mode

2017-12-28 17:44:52: migrate -a start -t local -i 0 -p 2
Error (0x4100104): Incorrect parameters: Can not migrate Volume to the same Pool.

administrator@cli> 
2017-12-28 17:44:52: 
Expect: Can not migrate Volume to the same Pool

2017-12-28 17:44:52: migrate -a start -t local -i 1 -p 1
Error (0x4100104): Incorrect parameters: Volume is not full-provision.

administrator@cli> 
2017-12-28 17:44:52: 
Expect: thin provision volume cannot become source volume

2017-12-28 17:44:52: migrate -a start -t local -i 0 -p 10
Error (0x4100102): Empty query result, please check input parameters. Pool id=[10] is not existed.

administrator@cli> 
2017-12-28 17:44:51: 
Expect: specify nonexistent destination pool

2017-12-28 17:44:51: migrate -a start -t local -i 100 -p 0
Error (0x4100102): Empty query result, please check input parameters. Volume id=[100] is not existed.

administrator@cli> 
2017-12-28 17:44:51: 
Expect: specify nonexistent source volume

2017-12-28 17:44:51: migrate -a start -t local -i 0 -p 3
Error (0x4100999): Fail to execute this method.

administrator@cli> 
2017-12-28 17:44:50: 
Expect: destination pool capacity should be more than soure volume

2017-12-28 17:44:50: migrate -a test
Error (0x2013): Invalid setting parameters
-a: invalid setting test (start|stop)

administrator@cli> 
2017-12-28 17:44:50: 
Expect: Invalid setting parameters

2017-12-28 17:44:50: migrate test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 
2017-12-28 17:44:50: 
Expect: Invalid setting parameters

2017-12-28 17:43:24: 'result': 'f'
2017-12-28 17:43:24: migrate -a stop -i 20
Error (0x4100102): Empty query result, please check input parameters. Volume id=[20] is not existed.

administrator@cli> 
2017-12-28 17:43:24: 
Expect: Volume id=[20] is not existed

2017-12-28 17:43:24: 
Fail: please check out zp254243d

2017-12-28 17:43:24: migrate -a stop -i 9
Error (0x4100104): Incorrect parameters: Can not find meta device info by zp089040/ds202886 1.

administrator@cli> 
2017-12-28 17:43:23: 
Expect: migrate should not stop by destination volume

2017-12-28 17:43:23: migrate -a stop -i test
Error (0x2013): Invalid setting parameters
-i: invalid setting test

administrator@cli> 
2017-12-28 17:43:23: 
Expect: Invalid setting parameters

2017-12-28 17:43:23: migrate -a start -t local -i 0 -p 1 -s "syncmode=test"
Error (0x2013): Invalid setting parameters
syncmode: invalid setting test (async|semi-sync|sync)

administrator@cli> 
2017-12-28 17:43:23: 
Expect: should hint error when specify wrong sync mode

2017-12-28 17:43:23: 
Fail: please check out Can not replicate Volume to the same Pool

2017-12-28 17:43:23: migrate -a start -t local -i 0 -p 2
Error (0x4100104): Incorrect parameters: Can not migrate Volume to the same Pool.

administrator@cli> 
2017-12-28 17:43:23: 
Expect: Can not replicate Volume to the same Pool

2017-12-28 17:43:23: migrate -a start -t local -i 1 -p 1
Error (0x4100104): Incorrect parameters: Volume is not full-provision.

administrator@cli> 
2017-12-28 17:43:22: 
Expect: thin provision volume cannot become source volume

2017-12-28 17:43:22: migrate -a start -t local -i 0 -p 10
Error (0x4100102): Empty query result, please check input parameters. Pool id=[10] is not existed.

administrator@cli> 
2017-12-28 17:43:22: 
Expect: specify nonexistent destination pool

2017-12-28 17:43:22: migrate -a start -t local -i 100 -p 0
Error (0x4100102): Empty query result, please check input parameters. Volume id=[100] is not existed.

administrator@cli> 
2017-12-28 17:43:21: 
Expect: specify nonexistent source volume

2017-12-28 17:43:21: migrate -a start -t local -i 0 -p 3
Error (0x4100999): Fail to execute this method.

administrator@cli> 
2017-12-28 17:43:21: 
Expect: destination pool capacity should be more than soure volume

2017-12-28 17:43:21: migrate -a test
Error (0x2013): Invalid setting parameters
-a: invalid setting test (start|stop)

administrator@cli> 
2017-12-28 17:43:21: 
Expect: Invalid setting parameters

2017-12-28 17:43:21: migrate test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 
2017-12-28 17:43:21: 
Expect: Invalid setting parameters

2017-12-28 17:27:35: 'result': 'p'
2017-12-28 17:27:35: migrate -h
migrate

Usage:
   migrate [-a <action>] [-i <ID>] [-t <location>] [-p <pool ID>]
           [-s <settings>]

Summary:
   The migrate command allows the user to migrate volume into another pool
   which located in same subsystem (Local) or other subsystem (Remote).
   As well as to stop a specified migration.
   Only with thin-provision disabled volume can be used to migrate. During
   migration in progress, source volume cannot be expanded or removed;
   destination volume disallowed to do any operations.

Options:

-a <action>           Which action to perform.
   start              (Default) Start a specific migration progress.
   stop               Stop the migration

-i <ID>               Source volume ID.

-t <location>         Destination location.
   local              (Default)
   remote

-p <pool ID>          Destination pool ID.

-s "<option>=<value>"
                      Used to specify migration settings
   syncmode=          Sync mode method
     async
     semi-sync
     sync             (Default)

   srcip=             Source portal IP
                      Only valid for -t remote specified.

   dstip=             Destination portal IP of remote subsystem.
                      Only valid for -t remote specified.

   password=          Password of administrator of remote subsystem.
                      Only valid for -t remote specified.

Examples:
   migrate -a start -i 1 -t local -p 0 -s "syncmode=async"
   migrate -a start -i 2 -t remote -p 0 -s "sourceip=10.0.0.1,
     destip=10.0.0.2, password=test"
Type ' | grep "word1,word2,..."' at the end of each command, to display 
filtered info.

administrator@cli> 
2017-12-28 17:27:34: 
Expect: migrate help document should be displayed

2017-12-28 17:27:08: 'result': 'p'
2017-12-28 17:27:08: volume -v -i 6
-------------------------------------------------------------------------------
Id: 6                                   Name: no_way
PoolId: 1                               PoolName: T_migrate_1
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 6 GB                     UsedCapacity: 6 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2017-12-28 23:16:11
PreferCtrlId: 2                         AdvType: 

administrator@cli> 
2017-12-28 17:27:07: migrate -a stop -i 2

administrator@cli> 
2017-12-28 17:26:54: 
Expect: specific migrate should be stopped

2017-12-28 17:22:02: 'result': 'f'
2017-12-28 17:22:02: pool -a del -i 0 -f -y
Error (0x4100107): Fail to delete Pool.

administrator@cli> 
2017-12-28 17:22:00: 
Expect: destination pool should not be deleted

2017-12-28 17:22:00: pool -a del -i 1 -f -y
Error (0x4100107): Fail to delete Pool.

administrator@cli> 
2017-12-28 17:21:59: 
Expect: source pool should not be deleted

2017-12-28 17:21:59: volume -a del -i 2
Error (0x4100107): Fail to delete Volume.

administrator@cli> 
2017-12-28 17:21:58: 
Expect: source volume should not be deleted

2017-12-28 17:21:58: 
Fail: volume -a mod -i 2 -s "capacity=5GB"

2017-12-28 17:21:58: volume -a mod -i 2 -s "capacity=5GB"

administrator@cli> 
2017-12-28 17:21:58: 
Expect: source volume should not be expanded

2017-12-28 17:21:58: volume -a del -i 6
Error (0x4100107): Fail to delete Volume.

administrator@cli> 
2017-12-28 17:21:57: 
Expect: destination volume should not be deleted

2017-12-28 17:21:57: 
Fail: lunmap -a add -p volume -i 0 -l 6 -m 2

2017-12-28 17:21:57: lunmap -a add -p volume -i 0 -l 6 -m 2

administrator@cli> 
2017-12-28 17:21:57: 
Expect: destination volume should not be added for lunmap

2017-12-28 17:21:57: 
Fail: snapshot -a add -t volume -d 6 -s "name=test_replica"

2017-12-28 17:21:57: snapshot -a add -t volume -d 6 -s "name=test_replica"

administrator@cli> 
2017-12-28 17:21:56: 
Expect: destination volume should not create snapshot

2017-12-28 17:21:56: 
Fail: volume -a mod -i 6 -s "name=no_way"

2017-12-28 17:21:56: volume -a mod -i 6 -s "name=no_way"

administrator@cli> 
2017-12-28 17:21:56: 
Expect: destination volume should not be modified

2017-12-28 17:21:56: 
Fail: volume -a mod -i 6 -s "capacity=6GB"

2017-12-28 17:21:56: volume -a mod -i 6 -s "capacity=6GB"

administrator@cli> 
2017-12-28 17:21:55: 
Expect: destination volume should not be expanded

2017-12-28 17:21:55: 
Fail: volume -a export -i 6

2017-12-28 17:21:55: volume -a export -i 6

administrator@cli> 
2017-12-28 17:21:55: 
Expect: destination volume should not be exported

2017-12-28 17:21:54: migrate -a start -i 0 -p 1
Error (0x4100104): Incorrect parameters: Support maximum 4 local migration!

administrator@cli> 
2017-12-28 17:21:54: 
Expect: Max 4 pairs of migrate

2017-12-28 17:16:11: 'result': 'f'
2017-12-28 17:16:11: 
Fail: please check out AdvRole: Destination

2017-12-28 17:16:11: volume -i 5 -v
-------------------------------------------------------------------------------
Id: 5                                   Name: T_migrate_vol_5
PoolId: 1                               PoolName: T_migrate_1
Status: Exported                        ExportedId: 6
ExportedWWN: 226f000155e6c393           OperationalStatus: OK, Synchronizing
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2017-12-28 23:16:10
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Source
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Syncing                      AdvProgress: 2.6

administrator@cli> 
2017-12-28 17:16:07: migrate -a start -t local -i 5 -p 0

administrator@cli> 
2017-12-28 17:16:06: 
Expect: migrate should be started by default volues

2017-12-28 17:16:06: volume -i 8 -v
-------------------------------------------------------------------------------
Id: 8                                   Name: T_migrate_vol_4_migrate
PoolId: 0                               PoolName: T_migrate_0
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
PoolAvailableCapacity: 107.22 GB        UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2017-12-28 23:16:20
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Syncing                      AdvProgress: 5.9

administrator@cli> 
2017-12-28 17:16:03: migrate -a start -t local -i 4 -p 0 -s "syncmode=sync"

administrator@cli> 
2017-12-28 17:16:02: 
Expect: migrate should be started by "syncmode=sync"

2017-12-28 17:16:02: volume -i 7 -v
-------------------------------------------------------------------------------
Id: 7                                   Name: T_migrate_vol_3_migrate
PoolId: 1                               PoolName: T_migrate_1
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 4 GB                     UsedCapacity: 4 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2017-12-28 23:16:15
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Semi-Sync
AdvStatus: Syncing                      AdvProgress: 0.3

administrator@cli> 
2017-12-28 17:15:58: migrate -a start -t local -i 3 -p 1 -s "syncmode=semi-sync"

administrator@cli> 
2017-12-28 17:15:58: 
Expect: migrate should be started by "syncmode=semi-sync"

2017-12-28 17:15:58: 
Fail: please check out AdvStatus: Syncing

2017-12-28 17:15:58: volume -i 6 -v
-------------------------------------------------------------------------------
Id: 6                                   Name: T_migrate_vol_2_migrate
PoolId: 1                               PoolName: T_migrate_1
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 4 GB                     UsedCapacity: 4 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2017-12-28 23:16:11
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Async
AdvStatus: Warning                      AdvProgress: 0.0

administrator@cli> 
2017-12-28 17:15:54: migrate -a start -t local -i 2 -p 1 -s "syncmode=async"

administrator@cli> 
2017-12-28 17:15:53: 
Expect: migrate should be started by "syncmode=async"

2017-12-28 17:04:09: 'result': 'p'
2017-12-28 17:04:09: volume -i 8 -v
-------------------------------------------------------------------------------
Id: 8                                   Name: T_migrate_vol_4_migrate
PoolId: 0                               PoolName: T_migrate_0
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
PoolAvailableCapacity: 107.22 GB        UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2017-12-28 23:04:22
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Syncing                      AdvProgress: 3.0

administrator@cli> 
2017-12-28 17:04:05: migrate -a start -t local -i 4 -p 0 -s "syncmode=sync"

administrator@cli> 
2017-12-28 17:04:04: 
Expect: migrate should be started by "syncmode=sync"

2017-12-28 17:04:04: volume -i 7 -v
-------------------------------------------------------------------------------
Id: 7                                   Name: T_migrate_vol_3_migrate
PoolId: 1                               PoolName: T_migrate_1
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 4 GB                     UsedCapacity: 4 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2017-12-28 23:04:18
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Semi-Sync
AdvStatus: Syncing                      AdvProgress: 1.1

administrator@cli> 
2017-12-28 17:04:01: migrate -a start -t local -i 3 -p 1 -s "syncmode=semi-sync"

administrator@cli> 
2017-12-28 17:04:00: 
Expect: migrate should be started by "syncmode=semi-sync"

2017-12-28 17:04:00: volume -i 6 -v
-------------------------------------------------------------------------------
Id: 6                                   Name: T_migrate_vol_2_migrate
PoolId: 1                               PoolName: T_migrate_1
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 4 GB                     UsedCapacity: 4 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2017-12-28 23:04:14
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Async
AdvStatus: Syncing                      AdvProgress: 0.3

administrator@cli> 
2017-12-28 17:03:57: migrate -a start -t local -i 2 -p 1 -s "syncmode=async"

administrator@cli> 
2017-12-28 17:03:56: 
Expect: migrate should be started by "syncmode=async"

2017-12-28 15:33:19: 'result': 'f'
2017-12-28 15:33:19: 
Fail: please check out AdvType: migrate

2017-12-28 15:33:19: volume -i 8 -v
-------------------------------------------------------------------------------
Id: 8                                   Name: T_migrate_vol_4_migrate
PoolId: 0                               PoolName: T_migrate_0
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
PoolAvailableCapacity: 107.22 GB        UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2017-12-28 21:33:06
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Syncing                      AdvProgress: 1.7

administrator@cli> 
2017-12-28 15:33:16: migrate -a start -t local -i 4 -p 0 -s "syncmode=sync"

administrator@cli> 
2017-12-28 15:32:46: 
Expect: migrate should be started by "syncmode=sync"

2017-12-28 15:32:46: 
Fail: please check out AdvType: migrate

2017-12-28 15:32:46: volume -i 7 -v
-------------------------------------------------------------------------------
Id: 7                                   Name: T_migrate_vol_3_migrate
PoolId: 1                               PoolName: T_migrate_1
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 4 GB                     UsedCapacity: 4 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2017-12-28 21:32:32
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Semi-Sync
AdvStatus: Syncing                      AdvProgress: 0.4

administrator@cli> 
2017-12-28 15:32:42: migrate -a start -t local -i 3 -p 1 -s "syncmode=semi-sync"

administrator@cli> 
2017-12-28 15:32:12: 
Expect: migrate should be started by "syncmode=semi-sync"

2017-12-28 15:32:12: 
Fail: please check out AdvType: migrate

2017-12-28 15:32:12: volume -i 6 -v
-------------------------------------------------------------------------------
Id: 6                                   Name: T_migrate_vol_2_migrate
PoolId: 1                               PoolName: T_migrate_1
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 4 GB                     UsedCapacity: 4 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2017-12-28 21:32:10
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Async
AdvStatus: Syncing                      AdvProgress: 0.3

administrator@cli> 
2017-12-28 15:32:08: migrate -a start -t local -i 2 -p 1 -s "syncmode=async"

administrator@cli> 
2017-12-28 15:31:50: 
Expect: migrate should be started by "syncmode=async"

2017-12-28 15:31:50: precondition is failed

2017-12-28 14:58:13: 'result': 'f'
2017-12-28 14:58:13: 
Fail: please check out AdvType: migrate

2017-12-28 14:58:13: volume -i 8 -v
-------------------------------------------------------------------------------
Id: 8                                   Name: T_migrate_vol_4_migrate
PoolId: 0                               PoolName: T_migrate_0
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
PoolAvailableCapacity: 107.22 GB        UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2017-12-28 20:57:56
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Syncing                      AdvProgress: 2.1

administrator@cli> 
2017-12-28 14:58:09: migrate -a start -t local -i 4 -p 0 -s "syncmode=sync"

administrator@cli> 
2017-12-28 14:57:36: 
Expect: migrate should be started by "syncmode=sync"

2017-12-28 14:57:36: 
Fail: please check out AdvType: migrate

2017-12-28 14:57:36: volume -i 7 -v
-------------------------------------------------------------------------------
Id: 7                                   Name: T_migrate_vol_3_migrate
PoolId: 1                               PoolName: T_migrate_1
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 4 GB                     UsedCapacity: 4 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2017-12-28 20:57:20
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Semi-Sync
AdvStatus: Syncing                      AdvProgress: 0.5

administrator@cli> 
2017-12-28 14:57:33: migrate -a start -t local -i 3 -p 1 -s "syncmode=semi-sync"

administrator@cli> 
2017-12-28 14:57:00: 
Expect: migrate should be started by "syncmode=semi-sync"

2017-12-28 14:57:00: 
Fail: please check out AdvType: migrate

2017-12-28 14:57:00: volume -i 6 -v
-------------------------------------------------------------------------------
Id: 6                                   Name: T_migrate_vol_2_migrate
PoolId: 1                               PoolName: T_migrate_1
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 4 GB                     UsedCapacity: 4 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2017-12-28 20:56:59
PreferCtrlId: 2                         AdvType: Migration
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Async
AdvStatus: Syncing                      AdvProgress: 0.3

administrator@cli> 
2017-12-28 14:56:56: migrate -a start -t local -i 2 -p 1 -s "syncmode=async"

administrator@cli> 
2017-12-28 14:56:39: 
Expect: migrate should be started by "syncmode=async"

2017-12-28 14:56:38: precondition is failed

2017-12-28 13:25:24: 'result': 'p'
2017-12-28 13:25:24: replication -a resume -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 
2017-12-28 13:25:24: 
Expect: Missing parameter

2017-12-28 13:25:24: replication -a resume
Error (0x403): Missing parameter
missing parameter '-i' for '-a resume'

administrator@cli> 
2017-12-28 13:25:24: 
Expect: Missing parameter

2017-12-28 13:25:24: replication -a pause -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 
2017-12-28 13:25:24: 
Expect: Missing parameter

2017-12-28 13:25:24: replication -a pause
Error (0x403): Missing parameter
missing parameter '-i' for '-a pause'

administrator@cli> 
2017-12-28 13:25:24: 
Expect: Missing parameter

2017-12-28 13:25:24: replication -a stop -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 
2017-12-28 13:25:24: 
Expect: Missing parameter

2017-12-28 13:25:24: replication -a stop
Error (0x403): Missing parameter
missing parameter '-i' for '-a stop'

administrator@cli> 
2017-12-28 13:25:24: 
Expect: Missing parameter

2017-12-28 13:25:24: replication -a start -i 0 -p 2 -s
Error (0x403): Missing parameter
-s: missing value

administrator@cli> 
2017-12-28 13:25:24: 
Expect: Missing parameter

2017-12-28 13:25:24: replication -a start -i 1 -p
Error (0x403): Missing parameter
-p: missing value

administrator@cli> 
2017-12-28 13:25:24: 
Expect: Missing parameter

2017-12-28 13:25:24: replication -a start -i
Error (0x403): Missing parameter
-i: missing value

administrator@cli> 
2017-12-28 13:25:24: 
Expect: Missing parameter

2017-12-28 13:25:24: replication -a start
Error (0x403): Missing parameter
missing parameter '-s' for '-a start'

administrator@cli> 
2017-12-28 13:25:24: 
Expect: Missing parameter

2017-12-28 13:25:24: replication -a
Error (0x403): Missing parameter
-a: missing value

administrator@cli> 
2017-12-28 13:25:24: 
Expect: Missing parameter

2017-12-28 13:25:24: 'result': 'p'
2017-12-28 13:25:24: replication -a resume -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 
2017-12-28 13:25:24: 
Expect: invalid option: -test

2017-12-28 13:25:24: replication -a pause -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 
2017-12-28 13:25:24: 
Expect: invalid option: -test

2017-12-28 13:25:24: replication -a stop -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 
2017-12-28 13:25:24: 
Expect: invalid option: -test

2017-12-28 13:25:24: replication -a start -i 0 -p 1 -s "name=test,test=sync"
Error (0x2012): Invalid option for the command or the action
-s: invalid option: test

administrator@cli> 
2017-12-28 13:25:24: 
Expect: invalid option: test

2017-12-28 13:25:24: replication -a start -i 0 -p 1 -s "test=test,syncmode=test"
Error (0x2012): Invalid option for the command or the action
-s: invalid option: test

administrator@cli> 
2017-12-28 13:25:24: 
Expect: invalid option: test

2017-12-28 13:25:24: replication -a start -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 
2017-12-28 13:25:24: 
Expect: invalid option: -test

2017-12-28 13:25:24: replication -a -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 
2017-12-28 13:25:24: 
Expect: invalid option: -test

2017-12-28 13:25:24: replication -test
Error (0x2012): Invalid option for the command or the action
invalid option: -test

administrator@cli> 
2017-12-28 13:25:24: 
Expect: invalid option: -test

2017-12-28 13:25:24: 'result': 'p'
2017-12-28 13:25:24: replication -a resume -i 20
Error (0x4100999): Fail to execute this method.

administrator@cli> 
2017-12-28 13:25:24: 
Expect: Volume id=[20] is not existed

2017-12-28 13:25:24: replication -a resume -i 9
Error (0x4100999): Fail to execute this method.

administrator@cli> 
2017-12-28 13:25:24: 
Expect: Invalid setting parameters

2017-12-28 13:25:24: replication -a resume -i 4
Error (0x4100999): Fail to execute this method.

administrator@cli> 
2017-12-28 13:25:24: 
Expect: should hint replication doesn't pause

2017-12-28 13:25:24: replication -a resume -i test
Error (0x2013): Invalid setting parameters
-i: invalid setting test

administrator@cli> 
2017-12-28 13:25:24: 
Expect: Invalid setting parameters

2017-12-28 13:25:24: replication -a pause -i 20
Error (0x4100999): Fail to execute this method.

administrator@cli> 
2017-12-28 13:25:24: 
Expect: Volume id=[20] is not existed

2017-12-28 13:25:24: replication -a pause -i 9
Error (0x4100999): Fail to execute this method.

administrator@cli> 
2017-12-28 13:25:24: 
Expect: replication should not pause by destination volume

2017-12-28 13:25:24: replication -a pause -i test
Error (0x2013): Invalid setting parameters
-i: invalid setting test

administrator@cli> 
2017-12-28 13:25:24: 
Expect: Invalid setting parameters

2017-12-28 13:25:24: replication -a stop -i 20
Error (0x4100102): Empty query result, please check input parameters. Volume id=[20] is not existed.

administrator@cli> 
2017-12-28 13:25:24: 
Expect: Volume id=[20] is not existed

2017-12-28 13:25:24: replication -a stop -i 9
Error (0x4100104): Incorrect parameters: Can not find meta device info by zp254243/ds340236 1.

administrator@cli> 
2017-12-28 13:25:23: 
Expect: replication should not stop by destination volume

2017-12-28 13:25:23: replication -a stop -i test
Error (0x2013): Invalid setting parameters
-i: invalid setting test

administrator@cli> 
2017-12-28 13:25:23: 
Expect: Invalid setting parameters

2017-12-28 13:25:23: replication -a start -i 0 -p 1 -s "name=test,syncmode=test"
Error (0x2013): Invalid setting parameters
syncmode: invalid setting test (async|semi-sync|sync)

administrator@cli> 
2017-12-28 13:25:23: 
Expect: should hint error when specify wrong sync mode

2017-12-28 13:25:23: replication -a start -i 0 -p 1 -s "name=test_test_test_test_test_test_033"
Error (0x2014): Setting parameters too long
name shall not exceed 32 characters

administrator@cli> 
2017-12-28 13:25:23: 
Expect: should hint error when name shall not exceed 32 characters

2017-12-28 13:25:23: replication -a start -i 0 -p 1 -s "name=t*&"
Error (0x2013): Invalid setting parameters
name contain only alphanumeric characters and underscores

administrator@cli> 
2017-12-28 13:25:23: 
Expect: name contain only alphanumeric characters and underscores

2017-12-28 13:25:23: replication -a start -i 0 -p 1 -s "name="
Error (0x2013): Invalid setting parameters
name contain only alphanumeric characters and underscores

administrator@cli> 
2017-12-28 13:25:23: 
Expect: name contain only alphanumeric characters and underscores

2017-12-28 13:25:23: replication -a start -i 0 -p 2 -s "name=test_thin"
Error (0x4100104): Incorrect parameters: Can not replicate Volume to the same Pool.

administrator@cli> 
2017-12-28 13:25:23: 
Expect: Can not replicate Volume to the same Pool

2017-12-28 13:25:23: replication -a start -i 1 -p 0 -s "name=test_thin"
Error (0x4100104): Incorrect parameters: Volume is not full-provision.

administrator@cli> 
2017-12-28 13:25:22: 
Expect: thin provision volume cannot become source volume

2017-12-28 13:25:22: replication -a start -i 0 -p 10 -s "name=test_thin"
Error (0x4100102): Empty query result, please check input parameters. Pool id=[10] is not existed.

administrator@cli> 
2017-12-28 13:25:22: 
Expect: specify nonexistent destination pool

2017-12-28 13:25:22: replication -a start -i 100 -p 0 -s "name=test_thin"
Error (0x4100102): Empty query result, please check input parameters. Volume id=[100] is not existed.

administrator@cli> 
2017-12-28 13:25:22: 
Expect: specify nonexistent source volume

2017-12-28 13:25:22: replication -a test
Error (0x2013): Invalid setting parameters
-a: invalid setting test (list|start|stop|pause|resume)

administrator@cli> 
2017-12-28 13:25:22: 
Expect: Invalid setting parameters

2017-12-28 13:25:22: replication test
Error (0x2013): Invalid setting parameters
invalid setting: test

administrator@cli> 
2017-12-28 13:25:22: 
Expect: Invalid setting parameters

2017-12-28 13:25:22: 'result': 'p'
2017-12-28 13:25:22: replication -h
replication

Usage:
   replication [-a <action>] [-i <ID>] [-p <pool ID>] [-s <settings>]

Summary:
   The replication command allows the user to replicate volume into another
   pool.
   Only with thin-provision disabled volume can be used to replicate. During
   replication in progress, source volume cannot be expanded or removed;
   destination volume disallowed to do any operations.

Options:

-a <action>           Which action to perform.
   list               (Default) Displays the replication status.
   start              Start a specific replication status.
   stop               Stop the replication
   pause              Pause the replication
   resume             Resume a paused replication

-i <ID>               Source volume ID. Used with add or del action.

-p <pool id>          Destination pool ID.
                      Only valid for -a add specified

-s "<option>=<value>"
                      Used to specify replication settings.
                      Only valid for -a add specified

   name=              Destination volume name

   syncmode=          sync mode method
     async
     semi-sync
     sync             (Default)

-v                    Verbose mode.  Used with -a list.

Examples:
   replication -a list
   replication -a start -i 1 -p 0 -s "name=test, syncmode=async"
   replication -a stop -i 2
   replication -a pause -i i
   replication -a resume -i 1
Type ' | grep "word1,word2,..."' at the end of each command, to display 
filtered info.

administrator@cli> 
2017-12-28 13:25:22: 
Expect: replication help document should be displayed

2017-12-28 13:25:21: 'result': 'f'
2017-12-28 13:25:21: 
Fail: replication -a resume -i 3

2017-12-28 13:25:20: replication -a resume -i 3
Error (0x4100999): Fail to execute this method.

administrator@cli> 
2017-12-28 13:25:20: 
Expect: replication should be resumed

2017-12-28 13:25:20: 'result': 'f'
2017-12-28 13:25:20: 
Fail: replication -a pause -i 3

2017-12-28 13:25:19: replication -a pause -i 3
Error (0x4100999): Fail to execute this method.

administrator@cli> 
2017-12-28 13:25:19: 
Expect: replication should be paused by source volume

2017-12-28 13:25:19: 'result': 'p'
2017-12-28 13:25:19: volume -v -i 6
-------------------------------------------------------------------------------
Id: 6                                   Name: no_way
PoolId: 1                               PoolName: T_replication_1
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 6 GB                     UsedCapacity: 6 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2017-12-28 19:25:05
PreferCtrlId: 2                         AdvType: 

administrator@cli> 
2017-12-28 13:25:18: replication -a stop -i 2

administrator@cli> 
2017-12-28 13:25:15: 
Expect: specific replication should be stopped

2017-12-28 13:25:15: 'result': 'p'
2017-12-28 13:25:15: replication -a list -v
-------------------------------------------------------------------------------
Location: Local                         Role: Destination
Mode: Active-Passive                    SyncMode: Async
Status: Syncing                         Description: Syncing.
Progress: 50.2                          SourceVolumeId: 2
SourceVolumeName: T_replication_vol_2   SourcePoolName: T_replication_0
SourcePortalIP: 10.128.0.2              DestinationVolumeId: 6
DestinationVolumeName: T                DestinationPoolName: T_replication_1
DestinationPortalIP: 10.128.0.2         TotalCapacity: 5 GB
UsedCapacity: 5 GB
-------------------------------------------------------------------------------
Location: Local                         Role: Destination
Mode: Active-Passive                    SyncMode: Semi-Sync
Status: Syncing                         Description: Syncing.
Progress: 45.1                          SourceVolumeId: 3
SourceVolumeName: T_replication_vol_3   SourcePoolName: T_replication_0
SourcePortalIP: 10.128.0.2              DestinationVolumeId: 7
DestinationVolumeName: t2               DestinationPoolName: T_replication_1
DestinationPortalIP: 10.128.0.2         TotalCapacity: 4 GB
UsedCapacity: 4 GB
-------------------------------------------------------------------------------
Location: Local                         Role: Source
Mode: Active-Passive                    SyncMode: Sync
Status: Syncing                         Description: Syncing.
Progress: 92.9                          SourceVolumeId: 5
SourceVolumeName: T_replication_vol_5   SourcePoolName: T_replication_1
SourcePortalIP: 10.128.0.2              DestinationVolumeId: 9
DestinationVolumeName: test_Test_Test_Test_Test_Test_32
DestinationPoolName: T_replication_0    DestinationPortalIP: 10.128.0.2
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
-------------------------------------------------------------------------------
Location: Local                         Role: Source
Mode: Active-Passive                    SyncMode: Sync
Status: OK                              Description: Ready.
Progress: 100.0                         SourceVolumeId: 4
SourceVolumeName: T_replication_vol_4   SourcePoolName: T_replication_1
SourcePortalIP: 10.128.0.2              DestinationVolumeId: 8
DestinationVolumeName: test_Test_Test_Test_Test_Test31
DestinationPoolName: T_replication_0    DestinationPortalIP: 10.128.0.2
TotalCapacity: 1 GB                     UsedCapacity: 1 GB

administrator@cli> 
2017-12-28 13:25:15: 
Expect: all of replication should be listed by verbose mode

2017-12-28 13:25:15: 'result': 'p'
2017-12-28 13:25:15: replication
===============================================================================
SrcVol         DestVol        Location  TotalCap  UsedCap   Status         
===============================================================================
T_replication_ T              Local     5 GB      5 GB      Syncing            
vol_2                                                                          
T_replication_ t2             Local     4 GB      4 GB      Syncing            
vol_3                                                                          
T_replication_ test_Test_Test Local     1 GB      1 GB      Syncing            
vol_5          _Test_Test_Tes                                                  
               t_32                                                            
T_replication_ test_Test_Test Local     1 GB      1 GB      OK                 
vol_4          _Test_Test_Tes                                                  
               t31                                                             

administrator@cli> 
2017-12-28 13:25:15: 
Expect: all of replication should be listed

2017-12-28 13:25:15: 'result': 'f'
2017-12-28 13:25:15: pool -a del -i 0 -f -y
Error (0x4100107): Fail to delete Pool.

administrator@cli> 
2017-12-28 13:25:13: 
Expect: destination pool should not be deleted

2017-12-28 13:25:13: pool -a del -i 1 -f -y
Error (0x4100107): Fail to delete Pool.

administrator@cli> 
2017-12-28 13:25:12: 
Expect: source pool should not be deleted

2017-12-28 13:25:12: volume -a del -i 2
Error (0x4100107): Fail to delete Volume.

administrator@cli> 
2017-12-28 13:25:11: 
Expect: source volume should not be deleted

2017-12-28 13:25:11: 
Fail: volume -a mod -i 2 -s "capacity=5GB"

2017-12-28 13:25:11: volume -a mod -i 2 -s "capacity=5GB"

administrator@cli> 
2017-12-28 13:25:09: 
Expect: source volume should not be expanded

2017-12-28 13:25:09: volume -a del -i 6
Error (0x4100107): Fail to delete Volume.

administrator@cli> 
2017-12-28 13:25:08: 
Expect: destination volume should not be deleted

2017-12-28 13:25:08: lunmap -a add -p volume -i 0 -l 6 -m 2
Error (0x498B5902): The specified LUN map table already exists. Try adding LD to LUN map instead

administrator@cli> 
2017-12-28 13:25:08: 
Expect: destination volume should not be added for lunmap

2017-12-28 13:25:08: 
Fail: snapshot -a add -t volume -d 6 -s "name=test_replica"

2017-12-28 13:25:08: snapshot -a add -t volume -d 6 -s "name=test_replica"

administrator@cli> 
2017-12-28 13:25:07: 
Expect: destination volume should not create snapshot

2017-12-28 13:25:07: 
Fail: volume -a mod -i 6 -s "name=no_way"

2017-12-28 13:25:07: volume -a mod -i 6 -s "name=no_way"

administrator@cli> 
2017-12-28 13:25:06: 
Expect: destination volume should not be modified

2017-12-28 13:25:06: 
Fail: volume -a mod -i 6 -s "capacity=6GB"

2017-12-28 13:25:05: volume -a mod -i 6 -s "capacity=6GB"

administrator@cli> 
2017-12-28 13:25:04: 
Expect: destination volume should not be expanded

2017-12-28 13:25:04: 
Fail: volume -a export -i 6

2017-12-28 13:25:04: volume -a export -i 6

administrator@cli> 
2017-12-28 13:25:04: 
Expect: destination volume should not be exported

2017-12-28 13:25:03: 'result': 'f'
2017-12-28 13:25:03: volume -i 5 -v
-------------------------------------------------------------------------------
Id: 5                                   Name: T_replication_vol_5
PoolId: 1                               PoolName: T_replication_1
Status: Exported                        ExportedId: 5
ExportedWWN: 22630001559731ca           OperationalStatus: OK, Synchronizing
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2017-12-28 19:25:04
PreferCtrlId: 2                         AdvType: Replication
AdvKind: Local                          AdvRole: Source
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Syncing                      AdvProgress: 2.6

administrator@cli> 
2017-12-28 13:25:00: replication -a start -i 5 -p 0 -s "name=test_Test_Test_Test_Test_Test_32"

administrator@cli> 
2017-12-28 13:24:59: 
Expect: replication should be started by "name=test_Test_Test_Test_Test_Test_32"

2017-12-28 13:24:59: volume -i 8 -v
-------------------------------------------------------------------------------
Id: 8                                   Name: test_Test_Test_Test_Test_Test31
PoolId: 0                               PoolName: T_replication_0
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
PoolAvailableCapacity: 107.22 GB        UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2017-12-28 19:25:13
PreferCtrlId: 2                         AdvType: Replication
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Syncing                      AdvProgress: 3.0

administrator@cli> 
2017-12-28 13:24:55: replication -a start -i 4 -p 0 -s "name=test_Test_Test_Test_Test_Test31, syncmode=sync"

administrator@cli> 
2017-12-28 13:24:54: 
Expect: replication should be started by "name=test_Test_Test_Test_Test_Test31, syncmode=sync"

2017-12-28 13:24:54: volume -i 7 -v
-------------------------------------------------------------------------------
Id: 7                                   Name: t2
PoolId: 1                               PoolName: T_replication_1
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 4 GB                     UsedCapacity: 4 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2017-12-28 19:25:09
PreferCtrlId: 2                         AdvType: Replication
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Semi-Sync
AdvStatus: Syncing                      AdvProgress: 0.2

administrator@cli> 
2017-12-28 13:24:51: replication -a start -i 3 -p 1 -s "name=t2, syncmode=semi-sync"

administrator@cli> 
2017-12-28 13:24:50: 
Expect: replication should be started by "name=t2, syncmode=semi-sync"

2017-12-28 13:24:50: 
Fail: please check out AdvStatus: Syncing

2017-12-28 13:24:50: volume -i 6 -v
-------------------------------------------------------------------------------
Id: 6                                   Name: T
PoolId: 1                               PoolName: T_replication_1
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 4 GB                     UsedCapacity: 4 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2017-12-28 19:25:05
PreferCtrlId: 2                         AdvType: Replication
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Async
AdvStatus: Warning                      AdvProgress: 0.0

administrator@cli> 
2017-12-28 13:24:47: replication -a start -i 2 -p 1 -s "name=T, syncmode=async"

administrator@cli> 
2017-12-28 13:24:46: 
Expect: replication should be started by "name=T, syncmode=async"

2017-12-28 13:20:26: 'result': 'p'
2017-12-28 13:20:26: replication
===============================================================================
SrcVol         DestVol        Location  TotalCap  UsedCap   Status         
===============================================================================
T_replication_ test_Test_Test Local     1 GB      1 GB      OK                 
vol_4          _Test_Test_Tes                                                  
               t31                                                             
T_replication_ test_Test_Test Local     1 GB      1 GB      OK                 
vol_5          _Test_Test_Tes                                                  
               t_32                                                            
T_replication_ T              Local     5 GB      5 GB      Syncing            
vol_2                                                                          
T_replication_ t2             Local     4 GB      4 GB      Syncing            
vol_3                                                                          

administrator@cli> 
2017-12-28 13:20:26: 
Expect: all of replication should be listed

2017-12-28 13:20:26: 'result': 'f'
2017-12-28 13:20:26: pool -a del -i 0 -f -y
Error (0x4100107): Fail to delete Pool.

administrator@cli> 
2017-12-28 13:20:24: 
Expect: destination pool should not be deleted

2017-12-28 13:20:24: pool -a del -i 1 -f -y
Error (0x4100107): Fail to delete Pool.

administrator@cli> 
2017-12-28 13:20:23: 
Expect: source pool should not be deleted

2017-12-28 13:20:23: volume -a del -i 2
Error (0x4100107): Fail to delete Volume.

administrator@cli> 
2017-12-28 13:20:22: 
Expect: source volume should not be deleted

2017-12-28 13:20:22: 
Fail: volume -a mod -i 2 -s "capacity=5GB"

2017-12-28 13:20:22: volume -a mod -i 2 -s "capacity=5GB"

administrator@cli> 
2017-12-28 13:20:21: 
Expect: source volume should not be expanded

2017-12-28 13:20:21: volume -a del -i 6
Error (0x4100107): Fail to delete Volume.

administrator@cli> 
2017-12-28 13:20:20: 
Expect: destination volume should not be deleted

2017-12-28 13:20:20: 
Fail: lunmap -a add -p volume -i 0 -l 6 -m 2

2017-12-28 13:20:20: lunmap -a add -p volume -i 0 -l 6 -m 2

administrator@cli> 
2017-12-28 13:20:19: 
Expect: destination volume should not be added for lunmap

2017-12-28 13:20:19: 
Fail: snapshot -a add -t volume -d 6 -s "name=test_replica"

2017-12-28 13:20:19: snapshot -a add -t volume -d 6 -s "name=test_replica"

administrator@cli> 
2017-12-28 13:20:18: 
Expect: destination volume should not create snapshot

2017-12-28 13:20:18: 
Fail: volume -a mod -i 6 -s "name=no_way"

2017-12-28 13:20:18: volume -a mod -i 6 -s "name=no_way"

administrator@cli> 
2017-12-28 13:20:17: 
Expect: destination volume should not be modified

2017-12-28 13:20:17: 
Fail: volume -a mod -i 6 -s "capacity=6GB"

2017-12-28 13:20:17: volume -a mod -i 6 -s "capacity=6GB"

administrator@cli> 
2017-12-28 13:20:16: 
Expect: destination volume should not be expanded

2017-12-28 13:20:16: 
Fail: volume -a export -i 6

2017-12-28 13:20:16: volume -a export -i 6

administrator@cli> 
2017-12-28 13:20:14: 
Expect: destination volume should not be exported

2017-12-28 13:20:14: 'result': 'f'
2017-12-28 13:20:14: volume -i 5 -v
-------------------------------------------------------------------------------
Id: 5                                   Name: T_replication_vol_5
PoolId: 1                               PoolName: T_replication_1
Status: Exported                        ExportedId: 5
ExportedWWN: 22290001552b8006           OperationalStatus: OK, Synchronizing
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2017-12-28 19:20:14
PreferCtrlId: 2                         AdvType: Replication
AdvKind: Local                          AdvRole: Source
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Syncing                      AdvProgress: 10.1

administrator@cli> 
2017-12-28 13:20:10: replication -a start -i 5 -p 0 -s "name=test_Test_Test_Test_Test_Test_32"

administrator@cli> 
2017-12-28 13:20:08: 
Expect: replication should be started by "name=test_Test_Test_Test_Test_Test_32"

2017-12-28 13:20:08: volume -i 8 -v
-------------------------------------------------------------------------------
Id: 8                                   Name: test_Test_Test_Test_Test_Test31
PoolId: 0                               PoolName: T_replication_0
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 1 GB                     UsedCapacity: 1 GB
PoolAvailableCapacity: 107.22 GB        UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 8 KB                             Sector: 512 Bytes
Compress: off                           Ratio: 1.00x
SyncMode: standard                      ThinProv: Disabled
Logbias: latency                        RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2017-12-28 19:20:23
PreferCtrlId: 2                         AdvType: Replication
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Sync
AdvStatus: Syncing                      AdvProgress: 5.9

administrator@cli> 
2017-12-28 13:20:05: replication -a start -i 4 -p 0 -s "name=test_Test_Test_Test_Test_Test31, syncmode=sync"

administrator@cli> 
2017-12-28 13:20:04: 
Expect: replication should be started by "name=test_Test_Test_Test_Test_Test31, syncmode=sync"

2017-12-28 13:20:04: volume -i 7 -v
-------------------------------------------------------------------------------
Id: 7                                   Name: t2
PoolId: 1                               PoolName: T_replication_1
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 4 GB                     UsedCapacity: 4 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2017-12-28 19:20:19
PreferCtrlId: 2                         AdvType: Replication
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Semi-Sync
AdvStatus: Syncing                      AdvProgress: 0.3

administrator@cli> 
2017-12-28 13:20:01: replication -a start -i 3 -p 1 -s "name=t2, syncmode=semi-sync"

administrator@cli> 
2017-12-28 13:20:00: 
Expect: replication should be started by "name=t2, syncmode=semi-sync"

2017-12-28 13:20:00: 
Fail: please check out AdvStatus: Syncing

2017-12-28 13:20:00: volume -i 6 -v
-------------------------------------------------------------------------------
Id: 6                                   Name: T
PoolId: 1                               PoolName: T_replication_1
Status: Un-Exported                     OperationalStatus: OK, Synchronizing
TotalCapacity: 4 GB                     UsedCapacity: 4 GB
PoolAvailableCapacity: 7.26 TB          UsedCapacityByChild: 0 Byte
UsedCapacityBySnapshot: 0 Byte          WrittenCapacityAfterSnapshot: 8.19 KB
Block: 64 KB                            Sector: 4 KB
Compress: gzip                          Ratio: 1.00x
SyncMode: disabled                      ThinProv: Disabled
Logbias: throughput                     RedundantMetaData: all
CopiesOfNewData: 1                      SnapshotCount: 0
MaxSnapshotCount: 1024                  CreateDate: 2017-12-28 19:20:15
PreferCtrlId: 2                         AdvType: Replication
AdvKind: Local                          AdvRole: Destination
AdvMode: Active-Passive                 AdvProtocol: Async
AdvStatus: Warning                      AdvProgress: 0.0

administrator@cli> 
2017-12-28 13:19:57: replication -a start -i 2 -p 1 -s "name=T, syncmode=async"

administrator@cli> 
2017-12-28 13:19:56: 
Expect: replication should be started by "name=T, syncmode=async"

